"use strict";(()=>{var Le="v7.0.0-beta.0";var jo="TinyBase",st=document,Te=()=>{addEventListener("load",()=>{let t=Hs("#version");t.innerText=Le,t.style.width=t.scrollWidth+"px"})},_o=null,Ee=()=>_o??=Hs("body > main > nav"),zo=null,pe=()=>zo??=Hs("body > main > article"),Ut=t=>t.preventDefault(),Hs=t=>st.querySelector(t),Is=(t,n)=>t.querySelector(n),Ao=t=>st.getElementById(t),ns=(t,n,c={},l)=>{let r=st.createElement(t);return Object.entries(c).forEach(d=>r.setAttribute(...d)),l!=null&&(r.innerText=l),n!=null?n.appendChild(r):r},Gs=(t,n)=>t.classList.add(n);var ht=(t,n)=>t.classList.remove(n);var Se=(t,n=!0)=>{let c=Ee();["?","#"].forEach(l=>{t.includes(l)&&(t=t.substring(0,t.indexOf(l)))}),fetch(`${t}nav.json`).then(l=>l.json()).then(l=>{ht(Is(c,"li.current"),"current"),Ce(l,Is(c,"ul"))}),fetch(`${t}article.html`).then(l=>l.text()).then(l=>{let r=pe();r.innerHTML=l,r.scrollTo(0,0),Bo()}),n&&history.pushState(null,"",t)},Bo=()=>{let t=Is(pe(),":scope iframe"),n=t?.parentElement;if(t==null||n==null)return;let c=n.insertBefore(ns("form",null,{action:"https://codepen.io/pen/define",method:"post",target:"_blank"}),t);n.insertBefore(ns("a",null,{id:"penEdit"},"Open this demo in CodePen"),t).onclick=()=>{c.childNodes.length==0?fetch("pen.json").then(l=>l.text()).then(l=>{ns("input",c,{type:"hidden",name:"data",value:l}),c.submit()}):c.submit()}},Ce=({i:t,n,u:c,r:l,c:r,p:d,o:m,_},$)=>{let S=Ee(),T=Ao(t);if(T==null){T=ns("li",$,{id:t}),ns("span",T);let u=ns("a",T,{href:c});l?ns("code",u,{},n):u.innerText=n,d&&Gs(T,"parent")}if(m&&Gs(T,"open"),_!=null){let u=Is(T,"ul")??ns("ul",T);_.forEach(h=>{Ce(h,u)})}if(r){Gs(T,"current"),st.title=`${n} | ${jo}`;let u=T.getBoundingClientRect(),h=S.getBoundingClientRect();u.top<h.top?S.scrollBy(0,u.top-h.top):u.bottom>h.bottom&&S.scrollBy(0,Math.min(u.bottom-h.bottom,u.top-h.top))}};var zs="dark",ln="light",rn="auto",ye=()=>{let t=matchMedia("(prefers-color-scheme: dark)"),n=()=>{let c=localStorage.getItem(zs)??rn;Hs("#dark")?.setAttribute("class",c),Hs("html").className=c==zs||c==rn&&t.matches?zs:ln};t.addEventListener("change",n),window.addEventListener("storage",c=>{c.storageArea==localStorage&&c.key==zs&&n()}),addEventListener("load",()=>{Hs("#dark").addEventListener("click",()=>{let c=localStorage.getItem(zs);localStorage.setItem(zs,c==zs?ln:c==ln?rn:zs),n()}),n()}),n()};var Me=t=>typeof t,Bs="",Po=Me(Bs),me=t=>Bs+t,ms=t=>t==null,Js=(t,n,c)=>ms(t)?c?.():n(t),Uo=t=>Me(t)==Po,gt=t=>Array.isArray(t),Fs=t=>t.length,Wo=(t,n)=>t.test(n),we=(t,n)=>t.every(n),ko=(t,n)=>Fs(t)===Fs(n)&&we(t,(c,l)=>n[l]===c),Ve=(t,n)=>we(t,(c,l)=>l==0||n(t[l-1],c)<=0),Re=(t,n)=>t.sort(n),Ks=(t,n)=>t.forEach(n),qo=(t,n)=>t.map(n),Go=t=>Fs(t)==0,Jo=(t,n,c)=>t.reduce(n,c),De=(t,...n)=>t.push(...n),Ko=t=>t.shift(),He=t=>n=>Jo(fn(n),(c,l)=>c+t(l),0),Ne=t=>t?.size??0,Fe=He(Ne),$o=He(Fe),tt=(t,n)=>t?.has(n)??!1,dt=t=>ms(t)||Ne(t)==0,fn=t=>[...t?.values()??[]],ve=t=>t.clear(),ds=(t,n)=>t?.forEach(n),nt=(t,n)=>t?.delete(n),Yo=Object,Qo=Yo.freeze,es=t=>new Map(t),be=t=>[...t?.keys()??[]],k=(t,n)=>t?.get(n),ut=(t,n)=>ds(t,(c,l)=>n(l,c)),W=(t,n,c)=>ms(c)?(nt(t,n),t):t?.set(n,c),je=(t,n,c,l)=>(tt(t,n)?l?.(k(t,n)):W(t,n,c()),k(t,n)),an=(t,n,c,l,r=0)=>Js((c?je:k)(t,n[r],r>Fs(n)-2?c:es),d=>{if(r>Fs(n)-2)return l?.(d)&&W(t,n[r]),d;let m=an(d,n,c,l,r+1);return dt(d)&&W(t,n[r]),m}),As=t=>new Set(gt(t)||ms(t)?t:[t]),Ns=(t,n)=>t?.add(n),Xo=(t,n,c,l,r)=>{let d=t.hasRow,m=es(),_=es(),$=es(),S=es(),T=es(),u=es(),h=()=>t,E=()=>be(m),R=C=>ut(_,C),x=C=>tt(_,C),F=C=>k(m,C),q=C=>k(_,C),Ls=(C,A)=>W(_,C,A),Ts=(C,A,...cs)=>{let X=je(u,C,As);return Ks(cs,p=>Ns(X,p)&&A&&t.callListener(p)),cs},Rs=(C,...A)=>Js(k(u,C),cs=>{Ks(Go(A)?fn(cs):A,X=>{t.delListener(X),nt(cs,X)}),dt(cs)&&W(u,C)}),Cs=(C,A)=>{W(m,C,A),tt(_,C)||(W(_,C,n()),W(S,C,es()),W(T,C,es()),r($))},vs=(C,A,cs,X,p)=>{Cs(C,A);let j=es(),Z=es(),O=k(S,C),is=k(T,C),Es=b=>{let Y=ps=>t.getCell(A,b,ps),I=k(O,b),Ss=d(A,b)?c(X(Y,b)):void 0;if(I===Ss||gt(I)&&gt(Ss)&&ko(I,Ss)||W(j,b,[I,Ss]),!ms(p)){let ps=k(is,b),xs=d(A,b)?p(Y,b):void 0;ps!=xs&&W(Z,b,xs)}},us=b=>{cs(()=>{ds(j,([,Y],I)=>W(O,I,Y)),ds(Z,(Y,I)=>W(is,I,Y))},j,Z,O,is,b),ve(j),ve(Z)};ut(O,Es),t.hasTable(A)&&Ks(t.getRowIds(A),b=>{tt(O,b)||Es(b)}),us(!0),Rs(C),Ts(C,0,t.addRowListener(A,null,(b,Y,I)=>Es(I)),t.addTableListener(A,()=>us()))},M=C=>{W(m,C),W(_,C),W(S,C),W(T,C),Rs(C),r($)};return[h,E,R,x,F,q,Ls,Cs,vs,M,C=>l(C,$),()=>ut(u,M),Ts,Rs]},xe=(t,n)=>Uo(t)?c=>c(t):t??(()=>n??Bs),Zo=(t,n)=>{let c=new WeakMap;return l=>(c.has(l)||c.set(l,t(l)),c.get(l))},Oo=(t,n)=>(t??0)<(n??0)?-1:1,Io=/^\d+$/,sc=()=>{let t=[],n=0;return[c=>(c?Ko(t):null)??Bs+n++,c=>{Wo(Io,c)&&Fs(t)<1e3&&De(t,c)}]},tc=(t,n=[Bs])=>{let c=[],l=(r,d)=>d==Fs(n)?De(c,r):n[d]===null?ds(r,m=>l(m,d+1)):Ks([n[d],null],m=>l(k(r,m),d+1));return l(t,0),c},nc=t=>{let n,[c,l]=sc(),r=es();return[(S,T,u,h=[],E=()=>[])=>{n??=t();let R=c(1);return W(r,R,[S,T,u,h,E]),Ns(an(T,u??[Bs],As),R),R},(S,T,...u)=>Ks(tc(S,T),h=>ds(h,E=>k(r,E)[0](n,...T??[],...u))),S=>Js(k(r,S),([,T,u])=>(an(T,u??[Bs],void 0,h=>(nt(h,S),dt(h)?1:0)),W(r,S),l(S),u)),S=>Js(k(r,S),([T,,u=[],h,E])=>{let R=(...x)=>{let F=Fs(x);F==Fs(u)?T(n,...x,...E(x)):ms(u[F])?Ks(h[F]?.(...x)??[],q=>R(...x,q)):R(...x,u[F])};R()})]},_e=Zo(t=>{let n=es(),c=es(),[l,r,d]=nc(()=>X),[m,_,$,S,T,u,h,,E,R,x,F]=Xo(t,es,p=>ms(p)?Bs:gt(p)?qo(p,me):me(p),l,r),q=(p,j)=>tt(u(p),j),Ls=(p,j,Z,O,is,Es=Oo)=>{let us=ms(is)?void 0:([b],[Y])=>is(b,Y);return E(p,j,(b,Y,I,Ss,ps,xs)=>{let ys=0,Ms=As(),ws=As(),ls=u(p);if(ds(Y,([G,rs],as)=>{let z=As(G),Zs=As(rs);ds(z,fs=>nt(Zs,fs)?nt(z,fs):0),ds(z,fs=>{Ns(Ms,fs),Js(k(ls,fs),Vt=>{nt(Vt,as),dt(Vt)&&(W(ls,fs),ys=1)})}),ds(Zs,fs=>{Ns(Ms,fs),tt(ls,fs)||(W(ls,fs,As()),ys=1),Ns(k(ls,fs),as),ms(O)||Ns(ws,fs)})}),b(),dt(ps)||(xs?ut(ls,G=>Ns(ws,G)):ut(I,G=>Js(k(Ss,G),rs=>Ks(gt(rs)?rs:[rs],as=>Ns(ws,as)))),ds(ws,G=>{let rs=(z,Zs)=>Es(k(ps,z),k(ps,Zs),G),as=[...k(ls,G)];Ve(as,rs)||(W(ls,G,As(Re(as,rs))),Ns(Ms,G))})),(ys||xs)&&!ms(us)){let G=[...ls];Ve(G,us)||(h(p,es(Re(G,us))),ys=1)}ys&&r(n,[p]),ds(Ms,G=>r(c,[p,G]))},xe(Z),Js(O,xe)),X},Ts=p=>$((j,Z)=>p(j,O=>Cs(j,O,Z))),Rs=(p,j)=>Cs(p,j,u(p)),Cs=(p,j,Z)=>{let O=T(p);ds(Z,(is,Es)=>j(Es,us=>ds(is,b=>us(b,Y=>t.forEachCell(O,b,Y)))))},X={setIndexDefinition:Ls,delIndexDefinition:p=>(R(p),X),getStore:m,getIndexIds:_,forEachIndex:Ts,forEachSlice:Rs,hasIndex:S,hasSlice:q,getTableId:T,getSliceIds:p=>be(u(p)),getSliceRowIds:(p,j)=>fn(k(u(p),j)),addIndexIdsListener:x,addSliceIdsListener:(p,j)=>l(j,n,[p]),addSliceRowIdsListener:(p,j,Z)=>l(Z,c,[p,j]),delListener:p=>(d(p),X),destroy:F,getListenerStats:()=>({sliceIds:Fe(n),sliceRowIds:$o(c)})};return Qo(X)});var Xs=t=>typeof t,ct="",ec=Xs(ct),oc=Xs(!0),Ge=Xs(0),cc=Xs(Xs),Wt="type",$s="default",ic="Listener",lc="add",Ys="Has",Ot="Ids",ot="Table",ze=ot+"s",rc=ot+Ot,Kt="Row",ac=Kt+"Count",fc=Kt+Ot,Jt="Cell",Ae=Jt+Ot,$t="Value",Be=$t+"s",hc=$t+Ot,H=t=>ct+t,uc=isFinite,gc=(t,n)=>t instanceof n,K=t=>t==null,J=(t,n,c)=>K(t)?c?.():n(t),Je=t=>t==ec||t==oc,hn=t=>Xs(t)==cc,Ke=t=>Array.isArray(t),Pe=(t,n,c)=>t.slice(n,c),bs=t=>t.length,dc=(t,n)=>t.test(n),un=async(t,n,c)=>{try{return await t()}catch(l){n?.(l)}},Lc=(t,n)=>t.includes(n),Tc=(t,n)=>t.every(n),Ec=(t,n)=>bs(t)===bs(n)&&Tc(t,(c,l)=>n[l]===c),pc=(t,n)=>t.sort(n),mt=(t,n)=>t.forEach(n),Yt=(t,n)=>t.map(n),Sc=(t,n,c)=>t.reduce(n,c),Qt=(t,...n)=>t.push(...n),Cc=t=>t.shift(),Lt=t=>{let n=Xs(t);return Je(n)||n==Ge&&uc(t)?n:void 0},Ue=(t,n,c,l,r)=>K(r)?t.delCell(n,c,l,!0):t.setCell(n,c,l,r),We=(t,n,c)=>K(c)?t.delValue(n):t.setValue(n,c),Cn=t=>n=>Sc(yc(n),(c,l)=>c+t(l),0),yn=t=>t?.size??0,mn=Cn(yn),pt=Cn(mn),gn=Cn(pt),os=(t,n)=>t?.has(n)??!1,y=t=>K(t)||yn(t)==0,yc=t=>[...t?.values()??[]],dn=t=>t.clear(),v=(t,n)=>t?.forEach(n),Xt=(t,n)=>t?.delete(n),qs=Object,ke=t=>qs.getPrototypeOf(t),mc=qs.isFrozen,$e=qs.entries,Zt=t=>!K(t)&&J(ke(t),n=>n==qs.prototype||K(ke(n)),()=>!0),Vc=qs.keys,Rc=qs.freeze,vc=(t=[])=>qs.fromEntries(t),St=(t,n)=>n in t,Ye=(t,n)=>(delete t[n],t),xc=(t,n)=>mt($e(t),([c,l])=>n(l,c)),Mc=(t,n)=>Yt($e(t),([c,l])=>n(l,c)),Us=(t,n)=>vc(Mc(t,(c,l)=>[l,n(c,l)])),wc=t=>bs(Vc(t)),Vs=t=>Zt(t)&&wc(t)==0,Ps=(t,n,c,l=0)=>K(t)||!Zt(t)||!l&&Vs(t)||mc(t)?(c?.(),!1):(xc(t,(r,d)=>{n(r,d)||Ye(t,d)}),l?!0:!Vs(t)),V=t=>new Map(t),Tt=t=>[...t?.keys()??[]],g=(t,n)=>t?.get(n),Ws=(t,n)=>v(t,(c,l)=>n(l,c)),Dc=(t,n)=>Yt([...t?.entries()??[]],([c,l])=>n(l,c)),N=(t,n,c)=>K(c)?(Xt(t,n),t):t?.set(n,c),ss=(t,n,c,l)=>(os(t,n)?l?.(g(t,n)):N(t,n,c()),g(t,n)),Qs=(t,n,c,l=N)=>(Us(n,(r,d)=>c(t,d,r)),Ws(t,r=>St(n,r)?0:l(t,r)),t),hs=(t,n,c,l)=>{let r={};return v(t,(d,m)=>{if(!c?.(d,m)){let _=n?n(d,m):d;l?.(_)||(r[m]=_)}}),r},En=(t,n,c)=>hs(t,l=>hs(l,n,c),y,Vs),kt=(t,n,c)=>hs(t,l=>En(l,n,c),y,Vs),ks=(t,n)=>{let c=V();return v(t,(l,r)=>c.set(r,n?.(l)??l)),c},pn=t=>ks(t,ks),Ln=t=>ks(t,pn),Sn=(t,n,c,l,r=0)=>J((c?ss:g)(t,n[r],r>bs(n)-2?c:V),d=>{if(r>bs(n)-2)return l?.(d)&&N(t,n[r]),d;let m=Sn(d,n,c,l,r+1);return y(d)&&N(t,n[r]),m}),Hc=JSON.stringify,Tn=JSON.parse,et=t=>Hc(t,(n,c)=>gc(c,Map)?qs.fromEntries([...c]):c),Nc=(t,n)=>(t??0)<(n??0)?-1:1,Fc=/^\d+$/,Qe=()=>{let t=[],n=0;return[c=>(c?Cc(t):null)??ct+n++,c=>{dc(Fc,c)&&bs(t)<1e3&&Qt(t,c)}]},Ct=t=>new Set(Ke(t)||K(t)?t:[t]),yt=(t,n)=>t?.add(n),bc=(t,n=[ct])=>{let c=[],l=(r,d)=>d==bs(n)?Qt(c,r):n[d]===null?v(r,m=>l(m,d+1)):mt([n[d],null],m=>l(g(r,m),d+1));return l(t,0),c},jc=t=>{let n,[c,l]=Qe(),r=V();return[(S,T,u,h=[],E=()=>[])=>{n??=t();let R=c(1);return N(r,R,[S,T,u,h,E]),yt(Sn(T,u??[ct],Ct),R),R},(S,T,...u)=>mt(bc(S,T),h=>v(h,E=>g(r,E)[0](n,...T??[],...u))),S=>J(g(r,S),([,T,u])=>(Sn(T,u??[ct],void 0,h=>(Xt(h,S),y(h)?1:0)),N(r,S),l(S),u)),S=>J(g(r,S),([T,,u=[],h,E])=>{let R=(...x)=>{let F=bs(x);F==bs(u)?T(n,...x,...E(x)):K(u[F])?mt(h[F]?.(...x)??[],q=>R(...x,q)):R(...x,u[F])};R()})]},qt=t=>[t,t],P=(t,n=mn)=>n(t[0])+n(t[1]),U=()=>[V(),V()],qe=t=>[...t],Gt=([t,n])=>t===n,Et=(t,n,c)=>N(t,n,g(t,n)==-c?void 0:c),Vn=()=>{let t,n,c=!1,l=!1,r=0,d=[],m=V(),_=V(),$=V(),S=V(),T=V(),u=V(),h=V(),E=V(),R=V(),x=V(),F=V(),q=V(),Ls=V(),Ts=V(),Rs=Ct(),Cs=V(),vs=V(),M=V(),Q=V(),it=U(),C=U(),A=U(),cs=U(),X=U(),p=U(),j=U(),Z=U(),O=U(),is=U(),Es=U(),us=U(),b=U(),Y=U(),I=U(),Ss=U(),ps=U(),xs=U(),ys=U(),Ms=U(),ws=U(),ls=U(),G=V(),rs=U(),[as,z,Zs,fs]=jc(()=>ts),Vt=s=>Ps(s,e=>Ps(e,Rn)),so=s=>Ps(s,Rn),Rn=s=>{if(!Ps(s,(o,i)=>Lc([Wt,$s],i)))return!1;let e=s[Wt];return!Je(e)&&e!=Ge?!1:(Lt(s[$s])!=e&&Ye(s,$s),!0)},to=Ke,no=s=>Ps(s,vn,js),vn=(s,e)=>(!t||os(F,e)||js(e))&&Ps(s,(o,i)=>Rt(e,i,o),()=>js(e)),Rt=(s,e,o,i)=>Ps(i?o:Dn(o,s,e),(a,f)=>J(xn(s,e,f,a),L=>(o[f]=L,!0),()=>!1),()=>js(s,e)),xn=(s,e,o,i)=>t?J(g(g(F,s),o),a=>Lt(i)!=a[Wt]?js(s,e,o,i,a[$s]):i,()=>js(s,e,o,i)):K(Lt(i))?js(s,e,o,i):i,Mn=(s,e)=>Ps(e?s:eo(s),(o,i)=>J(wn(i,o),a=>(s[i]=a,!0),()=>!1),()=>rt()),wn=(s,e)=>n?J(g(Ls,s),o=>Lt(e)!=o[Wt]?rt(s,e,o[$s]):e,()=>rt(s,e)):K(Lt(e))?rt(s,e):e,Dn=(s,e,o)=>(J(g(q,e),([i,a])=>{v(i,(f,L)=>{St(s,L)||(s[L]=f)}),v(a,f=>{St(s,f)||js(e,o,f)})}),s),eo=s=>(n&&(v(Ts,(e,o)=>{St(s,o)||(s[o]=e)}),v(Rs,e=>{St(s,e)||rt(e)})),s),Hn=s=>Qs(F,s,(e,o,i)=>{let a=V(),f=Ct();Qs(ss(F,o,V),i,(L,w,D)=>{N(L,w,D),J(D[$s],Ds=>N(a,w,Ds),()=>yt(f,w))}),N(q,o,[a,f])},(e,o)=>{N(F,o),N(q,o)}),Nn=s=>Qs(Ls,s,(e,o,i)=>{N(Ls,o,i),J(i[$s],a=>N(Ts,o,a),()=>yt(Rs,o))},(e,o)=>{N(Ls,o),N(Ts,o),Xt(Rs,o)}),Fn=s=>Vs(s)?zt():jt(s),oo=([s,e])=>{(Vs(s)?zt:jt)(s),(Vs(e)?At:_t)(e)},bn=s=>Qs(M,s,(e,o,i)=>vt(o,i),(e,o)=>An(o)),vt=(s,e)=>Qs(ss(M,s,()=>(Wn(s,1),N(Cs,s,Qe()),N(vs,s,V()),V())),e,(o,i,a)=>lt(s,o,i,a),(o,i)=>Bn(s,o,i)),lt=(s,e,o,i,a)=>Qs(ss(e,o,()=>(kn(s,o,1),V())),i,(f,L,w)=>It(s,o,f,L,w),(f,L)=>Pn(s,e,o,f,L,a)),It=(s,e,o,i,a)=>{os(o,i)||qn(s,e,i,1);let f=g(o,i);a!==f&&(Gn(s,e,i,f,a),N(o,i,a))},jn=(s,e,o,i,a)=>J(g(e,o),f=>It(s,o,f,i,a),()=>lt(s,e,o,Dn({[i]:a},s,o))),_n=s=>Vs(s)?At():_t(s),zn=s=>Qs(Q,s,(e,o,i)=>xt(o,i),(e,o)=>Un(o)),xt=(s,e)=>{os(Q,s)||Jn(s,1);let o=g(Q,s);e!==o&&(Kn(s,o,e),N(Q,s,e))},co=(s,e)=>{let[o]=g(Cs,s),i;do i=o(e);while(os(g(M,s),i));return i},Mt=s=>g(M,s)??vt(s,{}),An=s=>vt(s,{}),Bn=(s,e,o)=>{let[,i]=g(Cs,s);i(o),lt(s,e,o,{},!0)},Pn=(s,e,o,i,a,f)=>{let L=g(g(q,s)?.[0],a);if(!K(L)&&!f)return It(s,o,i,a,L);let w=D=>{Gn(s,o,D,g(i,D)),qn(s,o,D,-1),N(i,D)};K(L)?w(a):Ws(i,w),y(i)&&(kn(s,o,-1),y(N(e,o))&&(Wn(s,-1),N(M,s),N(Cs,s),N(vs,s)))},Un=s=>{let e=g(Ts,s);if(!K(e))return xt(s,e);Kn(s,g(Q,s)),Jn(s,-1),N(Q,s)},Wn=(s,e)=>Et(m,s,e),kn=(s,e,o)=>Et(ss(S,s,V),e,o)&&N($,s,ss($,s,()=>0)+o),qn=(s,e,o,i)=>{let a=g(vs,s),f=g(a,o)??0;(f==0&&i==1||f==1&&i==-1)&&Et(ss(_,s,V),o,i),N(a,o,f!=-i?f+i:null),Et(ss(ss(T,s,V),e,V),o,i)},Gn=(s,e,o,i,a)=>{ss(ss(ss(u,s,V),e,V),o,()=>[i,0])[1]=a,d[3]?.(s,e,o,a)},Jn=(s,e)=>Et(h,s,e),Kn=(s,e,o)=>{ss(E,s,()=>[e,0])[1]=o,d[4]?.(s,o)},js=(s,e,o,i,a)=>(Qt(ss(ss(ss(R,s,V),e,V),o,()=>[]),i),a),rt=(s,e,o)=>(Qt(ss(x,s,()=>[]),e),o),wt=(s,e,o)=>J(g(g(g(u,s),e),o),([i,a])=>[!0,i,a],()=>[!1,...qt(Ht(s,e,o))]),$n=s=>J(g(E,s),([e,o])=>[!0,e,o],()=>[!1,...qt(Nt(s))]),Yn=s=>!y(R)&&!y(Ss[s])?v(s?Ln(R):R,(e,o)=>v(e,(i,a)=>v(i,(f,L)=>z(Ss[s],[o,a,L],f)))):0,Qn=s=>!y(x)&&!y(ps[s])?v(s?ks(x):x,(e,o)=>z(ps[s],[o],e)):0,at=(s,e,o,i)=>{if(!y(s))return z(e,i,()=>hs(s)),Ws(s,(a,f)=>z(o,[...i??[],a],f==1)),1},Xn=s=>{let e=Ft();e!=c&&z(it[s],void 0,e);let o=y(is[s]),i=y(b[s])&&y(Y[s])&&y(O[s])&&y(Es[s])&&y(p[s])&&y(j[s])&&y(Z[s])&&o&&y(A[s])&&y(cs[s]),a=y(I[s])&&y(us[s])&&y(X[s])&&y(C[s]);if(!i||!a){let f=s?[ks(m),pn(_),ks($),pn(S),Ln(T),Ln(u)]:[m,_,$,S,T,u];if(!i){at(f[0],A[s],cs[s]),v(f[1],(w,D)=>at(w,p[s],j[s],[D])),v(f[2],(w,D)=>{w!=0&&z(Z[s],[D],se(D))});let L=Ct();v(f[3],(w,D)=>{at(w,O[s],Es[s],[D])&&!o&&(z(is[s],[D,null]),yt(L,D))}),o||v(f[5],(w,D)=>{if(!os(L,D)){let Ds=Ct();v(w,_s=>v(_s,([Bt,Pt],ft)=>Pt!==Bt?yt(Ds,ft):Xt(_s,ft))),v(Ds,_s=>z(is[s],[D,_s]))}}),v(f[4],(w,D)=>v(w,(Ds,_s)=>at(Ds,b[s],Y[s],[D,_s])))}if(!a){let L;v(f[5],(w,D)=>{let Ds;v(w,(_s,Bt)=>{let Pt;v(_s,([ft,de],bo)=>{de!==ft&&(z(I[s],[D,Bt,bo],de,ft,wt),L=Ds=Pt=1)}),Pt&&z(us[s],[D,Bt],wt)}),Ds&&z(X[s],[D],wt)}),L&&z(C[s],void 0,wt)}}},Zn=s=>{let e=bt();e!=l&&z(xs[s],void 0,e);let o=y(Ms[s])&&y(ws[s]),i=y(ls[s])&&y(ys[s]);if(!o||!i){let a=s?[ks(h),ks(E)]:[h,E];if(o||at(a[0],Ms[s],ws[s]),!i){let f;v(a[1],([L,w],D)=>{w!==L&&(z(ls[s],[D],w,L,$n),f=1)}),f&&z(ys[s],void 0,$n)}}},B=(s,...e)=>(cn(()=>s(...Yt(e,H))),ts),On=(s,e,o,i,a)=>{let f=Dt(s,e,...o);return as(()=>{let L=Dt(s,e,...o);Ec(L,f)||(f=L,i(ts,s,e,...o,f))},is[a?1:0],[s,e],[gs])},io=()=>[sn(),nn()],sn=()=>kt(M),gs=()=>Tt(M),lo=s=>En(g(M,H(s))),In=s=>Tt(g(vs,H(s))),se=s=>yn(g(M,H(s))),Os=s=>Tt(g(M,H(s))),Dt=(s,e,o,i=0,a)=>Zt(s)?Dt(s.tableId,s.cellId,s.descending,s.offset,s.limit):Yt(Pe(pc(Dc(g(M,H(s)),(f,L)=>[K(e)?L:g(f,H(e)),L]),([f],[L])=>Nc(f,L)*(o?-1:1)),i,K(a)?a:i+a),([,f])=>f),ro=(s,e)=>hs(g(g(M,H(s)),H(e))),tn=(s,e)=>Tt(g(g(M,H(s)),H(e))),Ht=(s,e,o)=>g(g(g(M,H(s)),H(e)),H(o)),nn=()=>hs(Q),en=()=>Tt(Q),Nt=s=>g(Q,H(s)),Ft=()=>!y(M),te=s=>os(M,H(s)),ne=(s,e)=>os(g(vs,H(s)),H(e)),ee=(s,e)=>os(g(M,H(s)),H(e)),oe=(s,e,o)=>os(g(g(M,H(s)),H(e)),H(o)),bt=()=>!y(Q),ce=s=>os(Q,H(s)),ao=()=>et(M),fo=()=>et(Q),ho=()=>et([M,Q]),uo=()=>et(F),go=()=>et(Ls),Lo=()=>et([F,Ls]),To=s=>B(()=>{let e=hn(s)?s():s;to(e)&&oo(e)}),jt=s=>B(()=>no(s)?bn(s):0),Eo=(s,e)=>B(o=>vn(e,o)?vt(o,e):0,s),po=(s,e,o)=>B((i,a)=>Rt(i,a,o)?lt(i,Mt(i),a,o):0,s,e),So=(s,e,o=!0)=>cn(()=>{let i;return Rt(s,i,e)&&(s=H(s),lt(s,Mt(s),i=co(s,o?1:0),e)),i}),Co=(s,e,o)=>B((i,a)=>{if(Rt(i,a,o,1)){let f=Mt(i);Us(o,(L,w)=>jn(i,f,a,w,L))}},s,e),yo=(s,e,o,i)=>B((a,f,L)=>J(xn(a,f,L,hn(i)?i(Ht(a,f,L)):i),w=>jn(a,Mt(a),f,L,w)),s,e,o),_t=s=>B(()=>Mn(s)?zn(s):0),mo=s=>B(()=>Mn(s,1)?Us(s,(e,o)=>xt(o,e)):0),Vo=(s,e)=>B(o=>J(wn(o,hn(e)?e(Nt(o)):e),i=>xt(o,i)),s),Ro=s=>B(()=>{Us(s[0],(e,o)=>K(e)?ae(o):Us(e,(i,a)=>K(i)?fe(o,a):Us(i,(f,L)=>Ue(ts,o,a,L,f)))),Us(s[1],(e,o)=>We(ts,o,e))}),ie=s=>(un(()=>Fn(Tn(s))),ts),vo=s=>(un(()=>_n(Tn(s))),ts),xo=s=>B(()=>un(()=>{let[e,o]=Tn(s);Fn(e),_n(o)},()=>ie(s))),le=s=>B(()=>{if((t=Vt(s))&&(Hn(s),!y(M))){let e=sn();zt(),jt(e)}}),re=s=>B(()=>{if(n=so(s)){let e=nn();on(),At(),n=!0,Nn(s),_t(e)}}),Mo=(s,e)=>B(()=>{le(s),re(e)}),zt=()=>B(()=>bn({})),ae=s=>B(e=>os(M,e)?An(e):0,s),fe=(s,e)=>B((o,i)=>J(g(M,o),a=>os(a,i)?Bn(o,a,i):0),s,e),wo=(s,e,o,i)=>B((a,f,L)=>J(g(M,a),w=>J(g(w,f),D=>os(D,L)?Pn(a,w,f,D,L,i):0)),s,e,o),At=()=>B(()=>zn({})),Do=s=>B(e=>os(Q,e)?Un(e):0,s),he=()=>B(()=>{Hn({}),t=!1}),on=()=>B(()=>{Nn({}),n=!1}),Ho=()=>B(()=>{he(),on()}),cn=(s,e)=>{if(r!=-1){ue();let o=s();return ge(e),o}},ue=()=>(r!=-1&&r++,r==1&&(d[0]?.(),z(G)),ts),No=()=>[hs(u,(s,e)=>g(m,e)===-1?void 0:hs(s,(o,i)=>g(g(S,e),i)===-1?void 0:hs(o,([,a])=>a,a=>Gt(a)),y,Vs),y,Vs),hs(E,([,s])=>s,s=>Gt(s)),1],Fo=()=>[!y(u),!y(E),kt(u,qe,Gt),kt(R),hs(E,qe,Gt),hs(x),hs(m),En(S),kt(T),hs(h)],ge=s=>(r>0&&(r--,r==0&&(r=1,Yn(1),y(u)||Xn(1),Qn(1),y(E)||Zn(1),s?.(ts)&&(v(u,(e,o)=>v(e,(i,a)=>v(i,([f],L)=>Ue(ts,o,a,L,f)))),dn(u),v(E,([e],o)=>We(ts,o,e)),dn(E)),z(rs[0],void 0),r=-1,Yn(0),y(u)||Xn(0),Qn(0),y(E)||Zn(0),d[1]?.(),z(rs[1],void 0),d[2]?.(),r=0,c=Ft(),l=bt(),mt([m,_,$,S,T,u,R,h,E,x],dn))),ts),ts={getContent:io,getTables:sn,getTableIds:gs,getTable:lo,getTableCellIds:In,getRowCount:se,getRowIds:Os,getSortedRowIds:Dt,getRow:ro,getCellIds:tn,getCell:Ht,getValues:nn,getValueIds:en,getValue:Nt,hasTables:Ft,hasTable:te,hasTableCell:ne,hasRow:ee,hasCell:oe,hasValues:bt,hasValue:ce,getTablesJson:ao,getValuesJson:fo,getJson:ho,getTablesSchemaJson:uo,getValuesSchemaJson:go,getSchemaJson:Lo,hasTablesSchema:()=>t,hasValuesSchema:()=>n,setContent:To,setTables:jt,setTable:Eo,setRow:po,addRow:So,setPartialRow:Co,setCell:yo,setValues:_t,setPartialValues:mo,setValue:Vo,applyChanges:Ro,setTablesJson:ie,setValuesJson:vo,setJson:xo,setTablesSchema:le,setValuesSchema:re,setSchema:Mo,delTables:zt,delTable:ae,delRow:fe,delCell:wo,delValues:At,delValue:Do,delTablesSchema:he,delValuesSchema:on,delSchema:Ho,transaction:cn,startTransaction:ue,getTransactionChanges:No,getTransactionLog:Fo,finishTransaction:ge,forEachTable:s=>v(M,(e,o)=>s(o,i=>v(e,(a,f)=>i(f,L=>Ws(a,L))))),forEachTableCell:(s,e)=>Ws(g(vs,H(s)),e),forEachRow:(s,e)=>v(g(M,H(s)),(o,i)=>e(i,a=>Ws(o,a))),forEachCell:(s,e,o)=>Ws(g(g(M,H(s)),H(e)),o),forEachValue:s=>Ws(Q,s),addSortedRowIdsListener:(s,e,o,i,a,f,L)=>Zt(s)?On(s.tableId,s.cellId,[s.descending??!1,s.offset??0,s.limit],e,o):On(s,e,[o,i,a],f,L),addStartTransactionListener:s=>as(s,G),addWillFinishTransactionListener:s=>as(s,rs[0]),addDidFinishTransactionListener:s=>as(s,rs[1]),callListener:s=>(fs(s),ts),delListener:s=>(Zs(s),ts),getListenerStats:()=>({hasTables:P(it),tables:P(C),tableIds:P(A),hasTable:P(cs),table:P(X),tableCellIds:P(p),hasTableCell:P(j,pt),rowCount:P(Z),rowIds:P(O),sortedRowIds:P(is),hasRow:P(Es,pt),row:P(us,pt),cellIds:P(b,pt),hasCell:P(Y,gn),cell:P(I,gn),invalidCell:P(Ss,gn),hasValues:P(xs),values:P(ys),valueIds:P(Ms),hasValue:P(ws),value:P(ls),invalidValue:P(ps),transaction:mn(G)+P(rs)}),isMergeable:()=>!1,createStore:Vn,addListener:as,callListeners:z,setInternalListeners:(s,e,o,i,a)=>d=[s,e,o,i,a]};return Us({[Ys+ze]:[0,it,[],()=>[Ft()]],[ze]:[0,C],[rc]:[0,A],[Ys+ot]:[1,cs,[gs],s=>[te(...s)]],[ot]:[1,X,[gs]],[ot+Ae]:[1,p,[gs]],[Ys+ot+Jt]:[2,j,[gs,In],s=>[ne(...s)]],[ac]:[1,Z,[gs]],[fc]:[1,O,[gs]],[Ys+Kt]:[2,Es,[gs,Os],s=>[ee(...s)]],[Kt]:[2,us,[gs,Os]],[Ae]:[2,b,[gs,Os]],[Ys+Jt]:[3,Y,[gs,Os,tn],s=>[oe(...s)]],[Jt]:[3,I,[gs,Os,tn],s=>qt(Ht(...s))],InvalidCell:[3,Ss],[Ys+Be]:[0,xs,[],()=>[bt()]],[Be]:[0,ys],[hc]:[0,Ms],[Ys+$t]:[1,ws,[en],s=>[ce(...s)]],[$t]:[1,ls,[en],s=>qt(Nt(s[0]))],InvalidValue:[1,ps]},([s,e,o,i],a)=>{ts[lc+a+ic]=(...f)=>as(f[s],e[f[s+1]?1:0],s>0?Pe(f,0,s):void 0,o,i)}),Rc(ts)};var Ie=(t=!1)=>{addEventListener("load",()=>{let n=Hs("body > header > nav");if(n==null)return;let c=ns("div",null,{id:"search"}),l=ns("input",c,{type:"text",placeholder:(navigator.platform.startsWith("Mac")?"\u2318":"cmd-")+"K Search"}),r=ns("ol",c),d=ns("li",r,{},"No results found"),m=Vn(),_=_e(m);_.setIndexDefinition("p","p",(h,E)=>{let R=[];return $(h,E).forEach(x=>{for(let F=0;F<x.length;F++)R.push(x.slice(0,F+1))}),R},(h,E)=>$(h,E).join(" "),void 0,(h,E,R)=>Oe(E,R)-Oe(h,R));let $=(h,E)=>[...E.split(/\/|-|_/),...(h("n")+" "+h("s")).toLowerCase().split(" ")].filter(R=>R.length>3);fetch("/pages.json").then(h=>h.json()).then(h=>{m.setContent(h),S()});let S=()=>{n.prepend(c);let h=()=>(l.value?Gs:ht)(r,"show");l.addEventListener("focus",h),l.addEventListener("input",()=>{h(),T()}),l.addEventListener("blur",()=>ht(r,"show")),u()},T=()=>{let h=l.value.toLowerCase(),E=_.getSliceRowIds("p",h).slice(0,10),R=E.length==0?[d]:E.map((x,F)=>{let q=ns("li"),{n:Ls,s:Ts}=m.getRow("p",x);return Xe(ns("b",q),Ls,h),Xe(ns("span",q),Ts,h),q.title=Ts,q.addEventListener("mousedown",()=>t?location.href=x:Se(x)),F==0&&Gs(q,"hover"),q});r.replaceChildren(...R)},u=()=>addEventListener("keydown",h=>{if(st.activeElement==l){let E=Is(r,".hover");switch(h.code){case"Escape":return l.blur();case"ArrowDown":return Ut(h),Ze(E,E?.nextSibling??r.firstChild);case"ArrowUp":return Ut(h),Ze(E,E?.previousSibling??r.lastChild);case"Enter":return E?.dispatchEvent(new MouseEvent("mousedown"))}}else h.code=="KeyK"&&h.metaKey&&(l.focus(),Ut(h))})})},Xe=(t,n,c)=>{let l=n.toLowerCase().indexOf(c);t.innerHTML=l==-1?n:n.substring(0,l)+"<em>"+n.substring(l,l+c.length)+"</em>"+n.substring(l+c.length)},Ze=(t,n)=>{t!=n&&(t&&ht(t,"hover"),n&&(Gs(n,"hover"),n.scrollIntoView({block:"nearest",inline:"nearest"})))},Oe=(t,n)=>{let c=t.length,l=0,r=t.indexOf(n);for(;r!==-1;)l+=(c-r)/c,r=t.indexOf(n,r+1);return l};Te();ye();Ie(!0);})();
