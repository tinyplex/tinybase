"use strict";(()=>{var Se="v7.0.0-beta.3";var zo="TinyBase",st=document,pe=()=>{addEventListener("load",()=>{let t=Ds("#version");t.innerText=Se,t.style.width=t.scrollWidth+"px"})},jo=null,Ce=()=>jo??=Ds("body > main > nav"),Go=null,ye=()=>Go??=Ds("body > main > article"),Wt=t=>t.preventDefault(),Ds=t=>st.querySelector(t),Is=(t,n)=>t.querySelector(n),Wo=t=>st.getElementById(t),ts=(t,n,c={},r)=>{let a=st.createElement(t);return Object.entries(c).forEach(d=>a.setAttribute(...d)),r!=null&&(a.innerText=r),n!=null?n.appendChild(a):a},ks=(t,n)=>t.classList.add(n);var ft=(t,n)=>t.classList.remove(n);var Re=(t,n=!0)=>{let c=Ce();["?","#"].forEach(r=>{t.includes(r)&&(t=t.substring(0,t.indexOf(r)))}),fetch(`${t}nav.json`).then(r=>r.json()).then(r=>{ft(Is(c,"li.current"),"current"),me(r,Is(c,"ul"))}),fetch(`${t}article.html`).then(r=>r.text()).then(r=>{let a=ye();a.innerHTML=r,a.scrollTo(0,0),Yo()}),n&&history.pushState(null,"",t)},Yo=()=>{let t=Is(ye(),":scope iframe"),n=t?.parentElement;if(t==null||n==null)return;let c=n.insertBefore(ts("form",null,{action:"https://codepen.io/pen/define",method:"post",target:"_blank"}),t);n.insertBefore(ts("a",null,{id:"penEdit"},"Open this demo in CodePen"),t).onclick=()=>{c.childNodes.length==0?fetch("pen.json").then(r=>r.text()).then(r=>{ts("input",c,{type:"hidden",name:"data",value:r}),c.submit()}):c.submit()}},me=({i:t,n,u:c,r,c:a,p:d,o:L,_:P},K)=>{let p=Ce(),E=Wo(t);if(E==null){E=ts("li",K,{id:t}),ts("span",E);let f=ts("a",E,{href:c});r?ts("code",f,{},n):f.innerText=n,d&&ks(E,"parent")}if(L&&ks(E,"open"),P!=null){let f=Is(E,"ul")??ts("ul",E);P.forEach(g=>{me(g,f)})}if(a){ks(E,"current"),st.title=`${n} | ${zo}`;let f=E.getBoundingClientRect(),g=p.getBoundingClientRect();f.top<g.top?p.scrollBy(0,f.top-g.top):f.bottom>g.bottom&&p.scrollBy(0,Math.min(f.bottom-g.bottom,f.top-g.top))}};var As="dark",ln="light",an="auto",Ve=()=>{let t=matchMedia("(prefers-color-scheme: dark)"),n=()=>{let c=localStorage.getItem(As)??an;Ds("#dark")?.setAttribute("class",c),Ds("html").className=c==As||c==an&&t.matches?As:ln};t.addEventListener("change",n),window.addEventListener("storage",c=>{c.storageArea==localStorage&&c.key==As&&n()}),addEventListener("load",()=>{Ds("#dark").addEventListener("click",()=>{let c=localStorage.getItem(As);localStorage.setItem(As,c==As?ln:c==ln?an:As),n()}),n()}),n()};var De=t=>typeof t;var Bo=De(""),Ne=t=>""+t,Uo=(t=ko)=>(n,c,r)=>t(n)?r?.():c(n),ko=t=>t==null,js=t=>t===void 0,qo=t=>t===null,qs=Uo(js),Jo=t=>De(t)==Bo,ut=t=>Array.isArray(t),_s=t=>t.length,Ko=(t,n)=>t.test(n),He=(t,n)=>t.every(n),$o=(t,n)=>_s(t)===_s(n)&&He(t,(c,r)=>n[r]===c),Me=(t,n)=>He(t,(c,r)=>r==0||n(t[r-1],c)<=0),ve=(t,n)=>t.sort(n),Js=(t,n)=>t.forEach(n),Zo=(t,n)=>t.map(n),Oo=t=>_s(t)==0,Qo=(t,n,c)=>t.reduce(n,c),_e=(t,...n)=>t.push(...n),Xo=t=>t.shift(),Fe=t=>n=>Qo(hn(n),(c,r)=>c+t(r),0),be=t=>t?.size??0,Pe=Fe(be),Io=Fe(Pe),tt=(t,n)=>t?.has(n)??!1,gt=t=>js(t)||be(t)==0,hn=t=>[...t?.values()??[]],we=t=>t.clear(),ds=(t,n)=>t?.forEach(n),nt=(t,n)=>t?.delete(n),sc=Object,tc=sc.freeze,ns=t=>new Map(t),Ae=t=>[...t?.keys()??[]],B=(t,n)=>t?.get(n),ht=(t,n)=>ds(t,(c,r)=>n(r,c)),Y=(t,n,c)=>c===void 0?(nt(t,n),t):t?.set(n,c),ze=(t,n,c,r)=>(tt(t,n)?r?.(B(t,n)):Y(t,n,c()),B(t,n)),fn=(t,n,c,r,a=0)=>qs((c?ze:B)(t,n[a],a>_s(n)-2?c:ns),d=>{if(a>_s(n)-2)return r?.(d)&&Y(t,n[a]),d;let L=fn(d,n,c,r,a+1);return gt(d)&&Y(t,n[a]),L}),zs=t=>new Set(ut(t)||js(t)?t:[t]),Hs=(t,n)=>t?.add(n),nc=(t,n,c,r,a)=>{let d=t.hasRow,L=ns(),P=ns(),K=ns(),p=ns(),E=ns(),f=ns(),g=()=>t,R=()=>Ae(L),N=C=>ht(P,C),m=C=>tt(P,C),D=C=>B(L,C),U=C=>B(P,C),Ts=(C,z)=>Y(P,C,z),Ls=(C,z,...os)=>{let Z=ze(f,C,zs);return Js(os,S=>Hs(Z,S)&&z&&t.callListener(S)),os},ms=(C,...z)=>qs(B(f,C),os=>{Js(Oo(z)?hn(os):z,Z=>{t.delListener(Z),nt(os,Z)}),gt(os)&&Y(f,C)}),Cs=(C,z)=>{Y(L,C,z),tt(P,C)||(Y(P,C,n()),Y(p,C,ns()),Y(E,C,ns()),a(K))},Vs=(C,z,os,Z,S)=>{Cs(C,z);let b=ns(),O=ns(),Q=B(p,C),cs=B(E,C),Es=F=>{let q=Ss=>t.getCell(z,F,Ss),X=B(Q,F),ps=d(z,F)?c(Z(q,F)):void 0;if(X===ps||ut(X)&&ut(ps)&&$o(X,ps)||Y(b,F,[X,ps]),!js(S)){let Ss=B(cs,F),Ns=d(z,F)?S(q,F):void 0;Ss!=Ns&&Y(O,F,Ns)}},us=F=>{os(()=>{ds(b,([,q],X)=>Y(Q,X,q)),ds(O,(q,X)=>Y(cs,X,q))},b,O,Q,cs,F),we(b),we(O)};ht(Q,Es),t.hasTable(z)&&Js(t.getRowIds(z),F=>{tt(Q,F)||Es(F)}),us(!0),ms(C),Ls(C,0,t.addRowListener(z,null,(F,q,X)=>Es(X)),t.addTableListener(z,()=>us()))},v=C=>{Y(L,C),Y(P,C),Y(p,C),Y(E,C),ms(C),a(K)};return[g,R,N,m,D,U,Ts,Cs,Vs,v,C=>r(C,K),()=>ht(f,v),Ls,ms]},xe=(t,n)=>Jo(t)?c=>c(t):t??(()=>n??""),ec=(t,n)=>{let c=new WeakMap;return r=>(c.has(r)||c.set(r,t(r)),c.get(r))},oc=(t,n)=>(t??0)<(n??0)?-1:1,cc=/^\d+$/,ic=()=>{let t=[],n=0;return[c=>(c?Xo(t):null)??""+n++,c=>{Ko(cc,c)&&_s(t)<1e3&&_e(t,c)}]},rc=(t,n=[""])=>{let c=[],r=(a,d)=>d==_s(n)?_e(c,a):n[d]===null?ds(a,L=>r(L,d+1)):Js([n[d],null],L=>r(B(a,L),d+1));return r(t,0),c},lc=t=>{let n,[c,r]=ic(),a=ns();return[(p,E,f,g=[],R=()=>[])=>{n??=t();let N=c(1);return Y(a,N,[p,E,f,g,R]),Hs(fn(E,f??[""],zs),N),N},(p,E,...f)=>Js(rc(p,E),g=>ds(g,R=>B(a,R)[0](n,...E??[],...f))),p=>qs(B(a,p),([,E,f])=>(fn(E,f??[""],void 0,g=>(nt(g,p),gt(g)?1:0)),Y(a,p),r(p),f)),p=>qs(B(a,p),([E,,f=[],g,R])=>{let N=(...m)=>{let D=_s(m);D==_s(f)?E(n,...m,...R(m)):qo(f[D])?Js(g[D]?.(...m)??[],U=>N(...m,U)):N(...m,f[D])};N()})]},je=ec(t=>{let n=ns(),c=ns(),[r,a,d]=lc(()=>Z),[L,P,K,p,E,f,g,,R,N,m,D]=nc(t,ns,S=>js(S)?"":ut(S)?Zo(S,Ne):Ne(S),r,a),U=(S,b)=>tt(f(S),b),Ts=(S,b,O,Q,cs,Es=oc)=>{let us=js(cs)?void 0:([F],[q])=>cs(F,q);return R(S,b,(F,q,X,ps,Ss,Ns)=>{let ys=0,Ms=zs(),vs=zs(),is=f(S);if(ds(q,([k,rs],ls)=>{let A=zs(k),Os=zs(rs);ds(A,as=>nt(Os,as)?nt(A,as):0),ds(A,as=>{Hs(Ms,as),qs(B(is,as),mt=>{nt(mt,ls),gt(mt)&&(Y(is,as),ys=1)})}),ds(Os,as=>{Hs(Ms,as),tt(is,as)||(Y(is,as,zs()),ys=1),Hs(B(is,as),ls),js(Q)||Hs(vs,as)})}),F(),gt(Ss)||(Ns?ht(is,k=>Hs(vs,k)):ht(X,k=>qs(B(ps,k),rs=>Js(ut(rs)?rs:[rs],ls=>Hs(vs,ls)))),ds(vs,k=>{let rs=(A,Os)=>Es(B(Ss,A),B(Ss,Os),k),ls=[...B(is,k)];Me(ls,rs)||(Y(is,k,zs(ve(ls,rs))),Hs(Ms,k))})),(ys||Ns)&&!js(us)){let k=[...is];Me(k,us)||(g(S,ns(ve(k,us))),ys=1)}ys&&a(n,[S]),ds(Ms,k=>a(c,[S,k]))},xe(O),qs(Q,xe)),Z},Ls=S=>K((b,O)=>S(b,Q=>Cs(b,Q,O))),ms=(S,b)=>Cs(S,b,f(S)),Cs=(S,b,O)=>{let Q=E(S);ds(O,(cs,Es)=>b(Es,us=>ds(cs,F=>us(F,q=>t.forEachCell(Q,F,q)))))},Z={setIndexDefinition:Ts,delIndexDefinition:S=>(N(S),Z),getStore:L,getIndexIds:P,forEachIndex:Ls,forEachSlice:ms,hasIndex:p,hasSlice:U,getTableId:E,getSliceIds:S=>Ae(f(S)),getSliceRowIds:(S,b)=>hn(B(f(S),b)),addIndexIdsListener:m,addSliceIdsListener:(S,b)=>r(b,n,[S]),addSliceRowIdsListener:(S,b,O)=>r(O,c,[S,b]),delListener:S=>(d(S),Z),destroy:D,getListenerStats:()=>({sliceIds:Pe(n),sliceRowIds:Io(c)})};return tc(Z)});var Zs=t=>typeof t;var ac=Zs(""),fc=Zs(!0),Ke=Zs(0),hc=Zs(Zs),Yt="type",Fs="default",Bt="allowNull",uc="Listener",gc="add",Ks="Has",It="Ids",ot="Table",Ge=ot+"s",dc=ot+It,Kt="Row",Tc=Kt+"Count",Lc=Kt+It,Jt="Cell",We=Jt+It,$t="Value",Ye=$t+"s",Ec=$t+It,H=t=>""+t,$e=(t=yt)=>(n,c,r)=>t(n)?r?.():c(n),Sc=isFinite,pc=(t,n)=>t instanceof n,yt=t=>t==null,hs=t=>t===void 0,ct=t=>t===null,Cc=$e(yt),J=$e(hs),Ze=t=>t==ac||t==fc,un=t=>Zs(t)==hc,Oe=t=>Array.isArray(t),Be=(t,n,c)=>t.slice(n,c),bs=t=>t.length,yc=(t,n)=>t.test(n),gn=async(t,n,c)=>{try{return await t()}catch(r){n?.(r)}},Rc=(t,n)=>t.includes(n),mc=(t,n)=>t.every(n),Vc=(t,n)=>bs(t)===bs(n)&&mc(t,(c,r)=>n[r]===c),Nc=(t,n)=>t.sort(n),Rt=(t,n)=>t.forEach(n),Zt=(t,n)=>t.map(n),Mc=(t,n,c)=>t.reduce(n,c),Ot=(t,...n)=>t.push(...n),vc=t=>t.shift(),dt=t=>{if(ct(t))return"null";let n=Zs(t);return Ze(n)||n==Ke&&Sc(t)?n:void 0},Ue=(t,n,c,r,a)=>hs(a)?t.delCell(n,c,r,!0):t.setCell(n,c,r,a),ke=(t,n,c)=>hs(c)?t.delValue(n):t.setValue(n,c),yn=t=>n=>Mc(wc(n),(c,r)=>c+t(r),0),Rn=t=>t?.size??0,mn=yn(Rn),Et=yn(mn),dn=yn(Et),es=(t,n)=>t?.has(n)??!1,y=t=>hs(t)||Rn(t)==0,wc=t=>[...t?.values()??[]],Tn=t=>t.clear(),M=(t,n)=>t?.forEach(n),Qt=(t,n)=>t?.delete(n),Us=Object,qe=t=>Us.getPrototypeOf(t),xc=Us.isFrozen,Qe=Us.entries,Xt=t=>!yt(t)&&Cc(qe(t),n=>n==Us.prototype||yt(qe(n)),()=>!0),Dc=Us.keys,Hc=Us.freeze,_c=(t=[])=>Us.fromEntries(t),St=(t,n)=>n in t,Xe=(t,n)=>(delete t[n],t),Fc=(t,n)=>Rt(Qe(t),([c,r])=>n(r,c)),bc=(t,n)=>Zt(Qe(t),([c,r])=>n(r,c)),Ws=(t,n)=>_c(bc(t,(c,r)=>[r,n(c,r)])),Pc=t=>bs(Dc(t)),Rs=t=>Xt(t)&&Pc(t)==0,Gs=(t,n,c,r=0)=>yt(t)||!Xt(t)||!r&&Rs(t)||xc(t)?(c?.(),!1):(Fc(t,(a,d)=>{n(a,d)||Xe(t,d)}),r?!0:!Rs(t)),V=t=>new Map(t),Tt=t=>[...t?.keys()??[]],u=(t,n)=>t?.get(n),Ys=(t,n)=>M(t,(c,r)=>n(r,c)),Ac=(t,n)=>Zt([...t?.entries()??[]],([c,r])=>n(r,c)),_=(t,n,c)=>c===void 0?(Qt(t,n),t):t?.set(n,c),I=(t,n,c,r)=>(es(t,n)?r?.(u(t,n)):_(t,n,c()),u(t,n)),$s=(t,n,c,r=_)=>(Ws(n,(a,d)=>c(t,d,a)),Ys(t,a=>St(n,a)?0:r(t,a)),t),fs=(t,n,c,r)=>{let a={};return M(t,(d,L)=>{if(!c?.(d,L)){let P=n?n(d,L):d;r?.(P)||(a[L]=P)}}),a},Sn=(t,n,c)=>fs(t,r=>fs(r,n,c),y,Rs),Ut=(t,n,c)=>fs(t,r=>Sn(r,n,c),y,Rs),Bs=(t,n)=>{let c=V();return M(t,(r,a)=>c.set(a,n?.(r)??r)),c},pn=t=>Bs(t,Bs),Ln=t=>Bs(t,pn),Cn=(t,n,c,r,a=0)=>J((c?I:u)(t,n[a],a>bs(n)-2?c:V),d=>{if(a>bs(n)-2)return r?.(d)&&_(t,n[a]),d;let L=Cn(d,n,c,r,a+1);return y(d)&&_(t,n[a]),L}),zc=JSON.stringify,En=JSON.parse,et=t=>zc(t,(n,c)=>pc(c,Map)?Us.fromEntries([...c]):c),jc=(t,n)=>(t??0)<(n??0)?-1:1,Gc=/^\d+$/,Ie=()=>{let t=[],n=0;return[c=>(c?vc(t):null)??""+n++,c=>{yc(Gc,c)&&bs(t)<1e3&&Ot(t,c)}]},pt=t=>new Set(Oe(t)||hs(t)?t:[t]),Ct=(t,n)=>t?.add(n),Wc=(t,n=[""])=>{let c=[],r=(a,d)=>d==bs(n)?Ot(c,a):n[d]===null?M(a,L=>r(L,d+1)):Rt([n[d],null],L=>r(u(a,L),d+1));return r(t,0),c},Yc=t=>{let n,[c,r]=Ie(),a=V();return[(p,E,f,g=[],R=()=>[])=>{n??=t();let N=c(1);return _(a,N,[p,E,f,g,R]),Ct(Cn(E,f??[""],pt),N),N},(p,E,...f)=>Rt(Wc(p,E),g=>M(g,R=>u(a,R)[0](n,...E??[],...f))),p=>J(u(a,p),([,E,f])=>(Cn(E,f??[""],void 0,g=>(Qt(g,p),y(g)?1:0)),_(a,p),r(p),f)),p=>J(u(a,p),([E,,f=[],g,R])=>{let N=(...m)=>{let D=bs(m);D==bs(f)?E(n,...m,...R(m)):ct(f[D])?Rt(g[D]?.(...m)??[],U=>N(...m,U)):N(...m,f[D])};N()})]},kt=t=>[t,t],G=(t,n=mn)=>n(t[0])+n(t[1]),W=()=>[V(),V()],Je=t=>[...t],qt=([t,n])=>t===n,Lt=(t,n,c)=>_(t,n,u(t,n)==-c?void 0:c),Vn=()=>{let t,n,c=!1,r=!1,a=0,d=[],L=V(),P=V(),K=V(),p=V(),E=V(),f=V(),g=V(),R=V(),N=V(),m=V(),D=V(),U=V(),Ts=V(),Ls=V(),ms=pt(),Cs=V(),Vs=V(),v=V(),$=V(),it=W(),C=W(),z=W(),os=W(),Z=W(),S=W(),b=W(),O=W(),Q=W(),cs=W(),Es=W(),us=W(),F=W(),q=W(),X=W(),ps=W(),Ss=W(),Ns=W(),ys=W(),Ms=W(),vs=W(),is=W(),k=V(),rs=W(),[ls,A,Os,as]=Yc(()=>ss),mt=s=>Gs(s,e=>Gs(e,vn)),eo=s=>Gs(s,vn),vn=s=>{if(!Gs(s,(i,l)=>Rc([Yt,Fs,Bt],l)))return!1;let e=s[Yt];if(!Ze(e)&&e!=Ke)return!1;let o=s[Fs];return ct(o)&&!s[Bt]?!1:(!ct(o)&&dt(o)!=e&&Xe(s,Fs),!0)},oo=Oe,co=s=>Gs(s,wn,ws),wn=(s,e)=>(!t||es(D,e)||ws(e))&&Gs(s,(o,i)=>Vt(e,i,o),()=>ws(e)),Vt=(s,e,o,i)=>Gs(i?o:_n(o,s,e),(l,h)=>J(xn(s,e,h,l),T=>(o[h]=T,!0),()=>!1),()=>ws(s,e)),xn=(s,e,o,i)=>t?J(u(u(D,s),o),l=>ct(i)?l[Bt]?i:ws(s,e,o,i,l[Fs]):dt(i)==l[Yt]?i:ws(s,e,o,i,l[Fs]),()=>ws(s,e,o,i)):hs(dt(i))?ws(s,e,o,i):i,Dn=(s,e)=>Gs(e?s:io(s),(o,i)=>J(Hn(i,o),l=>(s[i]=l,!0),()=>!1),()=>Qs()),Hn=(s,e)=>n?J(u(Ts,s),o=>ct(e)?o[Bt]?e:Qs(s,e,o[Fs]):dt(e)==o[Yt]?e:Qs(s,e,o[Fs]),()=>Qs(s,e)):hs(dt(e))?Qs(s,e):e,_n=(s,e,o)=>(J(u(U,e),([i,l])=>{M(i,(h,T)=>{St(s,T)||(s[T]=h)}),M(l,h=>{St(s,h)||ws(e,o,h)})}),s),io=s=>(n&&(M(Ls,(e,o)=>{St(s,o)||(s[o]=e)}),M(ms,e=>{St(s,e)||Qs(e)})),s),Fn=s=>$s(D,s,(e,o,i)=>{let l=V(),h=pt();$s(I(D,o,V),i,(T,w,x)=>{_(T,w,x),J(x[Fs],xs=>_(l,w,xs),()=>Ct(h,w))}),_(U,o,[l,h])},(e,o)=>{_(D,o),_(U,o)}),bn=s=>$s(Ts,s,(e,o,i)=>{_(Ts,o,i),J(i[Fs],l=>_(Ls,o,l),()=>Ct(ms,o))},(e,o)=>{_(Ts,o),_(Ls,o),Qt(ms,o)}),Pn=s=>Rs(s)?At():bt(s),ro=([s,e])=>{(Rs(s)?At:bt)(s),(Rs(e)?zt:Pt)(e)},An=s=>$s(v,s,(e,o,i)=>Nt(o,i),(e,o)=>Wn(o)),Nt=(s,e)=>$s(I(v,s,()=>(kn(s,1),_(Cs,s,Ie()),_(Vs,s,V()),V())),e,(o,i,l)=>rt(s,o,i,l),(o,i)=>Yn(s,o,i)),rt=(s,e,o,i,l)=>$s(I(e,o,()=>(qn(s,o,1),V())),i,(h,T,w)=>sn(s,o,h,T,w),(h,T)=>Bn(s,e,o,h,T,l)),sn=(s,e,o,i,l)=>{es(o,i)||Jn(s,e,i,1);let h=u(o,i);l!==h&&(Kn(s,e,i,h,l),_(o,i,l))},zn=(s,e,o,i,l)=>J(u(e,o),h=>sn(s,o,h,i,l),()=>rt(s,e,o,_n({[i]:l},s,o))),jn=s=>Rs(s)?zt():Pt(s),Gn=s=>$s($,s,(e,o,i)=>Mt(o,i),(e,o)=>Un(o)),Mt=(s,e)=>{es($,s)||$n(s,1);let o=u($,s);e!==o&&(Zn(s,o,e),_($,s,e))},lo=(s,e)=>{let[o]=u(Cs,s),i;do i=o(e);while(es(u(v,s),i));return i},vt=s=>u(v,s)??Nt(s,{}),Wn=s=>Nt(s,{}),Yn=(s,e,o)=>{let[,i]=u(Cs,s);i(o),rt(s,e,o,{},!0)},Bn=(s,e,o,i,l,h)=>{let T=u(u(U,s)?.[0],l);if(!hs(T)&&!h)return sn(s,o,i,l,T);let w=x=>{Kn(s,o,x,u(i,x)),Jn(s,o,x,-1),_(i,x)};hs(T)?w(l):Ys(i,w),y(i)&&(qn(s,o,-1),y(_(e,o))&&(kn(s,-1),_(v,s),_(Cs,s),_(Vs,s)))},Un=s=>{let e=u(Ls,s);if(!hs(e))return Mt(s,e);Zn(s,u($,s)),$n(s,-1),_($,s)},kn=(s,e)=>Lt(L,s,e),qn=(s,e,o)=>Lt(I(p,s,V),e,o)&&_(K,s,I(K,s,()=>0)+o),Jn=(s,e,o,i)=>{let l=u(Vs,s),h=u(l,o)??0;(h==0&&i==1||h==1&&i==-1)&&Lt(I(P,s,V),o,i),_(l,o,h!=-i?h+i:void 0),Lt(I(I(E,s,V),e,V),o,i)},Kn=(s,e,o,i,l)=>{I(I(I(f,s,V),e,V),o,()=>[i,0])[1]=l,d[3]?.(s,e,o,l)},$n=(s,e)=>Lt(g,s,e),Zn=(s,e,o)=>{I(R,s,()=>[e,0])[1]=o,d[4]?.(s,o)},ws=(s,e,o,i,l)=>(Ot(I(I(I(N,s,V),e,V),o,()=>[]),i),l),Qs=(s,e,o)=>(Ot(I(m,s,()=>[]),e),o),wt=(s,e,o)=>J(u(u(u(f,s),e),o),([i,l])=>[!0,i,l],()=>[!1,...kt(Dt(s,e,o))]),On=s=>J(u(R,s),([e,o])=>[!0,e,o],()=>[!1,...kt(Ht(s))]),Qn=s=>!y(N)&&!y(ps[s])?M(s?Ln(N):N,(e,o)=>M(e,(i,l)=>M(i,(h,T)=>A(ps[s],[o,l,T],h)))):0,Xn=s=>!y(m)&&!y(Ss[s])?M(s?Bs(m):m,(e,o)=>A(Ss[s],[o],e)):0,lt=(s,e,o,i)=>{if(!y(s))return A(e,i,()=>fs(s)),Ys(s,(l,h)=>A(o,[...i??[],l],h==1)),1},In=s=>{let e=_t();e!=c&&A(it[s],void 0,e);let o=y(cs[s]),i=y(F[s])&&y(q[s])&&y(Q[s])&&y(Es[s])&&y(S[s])&&y(b[s])&&y(O[s])&&o&&y(z[s])&&y(os[s]),l=y(X[s])&&y(us[s])&&y(Z[s])&&y(C[s]);if(!i||!l){let h=s?[Bs(L),pn(P),Bs(K),pn(p),Ln(E),Ln(f)]:[L,P,K,p,E,f];if(!i){lt(h[0],z[s],os[s]),M(h[1],(w,x)=>lt(w,S[s],b[s],[x])),M(h[2],(w,x)=>{w!=0&&A(O[s],[x],ee(x))});let T=pt();M(h[3],(w,x)=>{lt(w,Q[s],Es[s],[x])&&!o&&(A(cs[s],[x,null]),Ct(T,x))}),o||M(h[5],(w,x)=>{if(!es(T,x)){let xs=pt();M(w,Ps=>M(Ps,([jt,Gt],at)=>Gt!==jt?Ct(xs,at):Qt(Ps,at))),M(xs,Ps=>A(cs[s],[x,Ps]))}}),M(h[4],(w,x)=>M(w,(xs,Ps)=>lt(xs,F[s],q[s],[x,Ps])))}if(!l){let T;M(h[5],(w,x)=>{let xs;M(w,(Ps,jt)=>{let Gt;M(Ps,([at,Ee],Ao)=>{Ee!==at&&(A(X[s],[x,jt,Ao],Ee,at,wt),T=xs=Gt=1)}),Gt&&A(us[s],[x,jt],wt)}),xs&&A(Z[s],[x],wt)}),T&&A(C[s],void 0,wt)}}},se=s=>{let e=Ft();e!=r&&A(Ns[s],void 0,e);let o=y(Ms[s])&&y(vs[s]),i=y(is[s])&&y(ys[s]);if(!o||!i){let l=s?[Bs(g),Bs(R)]:[g,R];if(o||lt(l[0],Ms[s],vs[s]),!i){let h;M(l[1],([T,w],x)=>{w!==T&&(A(is[s],[x],w,T,On),h=1)}),h&&A(ys[s],void 0,On)}}},j=(s,...e)=>(rn(()=>s(...Zt(e,H))),ss),te=(s,e,o,i,l)=>{let h=xt(s,e,...o);return ls(()=>{let T=xt(s,e,...o);Vc(T,h)||(h=T,i(ss,s,e,...o,h))},cs[l?1:0],[s,e],[gs])},ao=()=>[tn(),en()],tn=()=>Ut(v),gs=()=>Tt(v),fo=s=>Sn(u(v,H(s))),ne=s=>Tt(u(Vs,H(s))),ee=s=>Rn(u(v,H(s))),Xs=s=>Tt(u(v,H(s))),xt=(s,e,o,i=0,l)=>Xt(s)?xt(s.tableId,s.cellId,s.descending,s.offset,s.limit):Zt(Be(Nc(Ac(u(v,H(s)),(h,T)=>[hs(e)?T:u(h,H(e)),T]),([h],[T])=>jc(h,T)*(o?-1:1)),i,hs(l)?l:i+l),([,h])=>h),ho=(s,e)=>fs(u(u(v,H(s)),H(e))),nn=(s,e)=>Tt(u(u(v,H(s)),H(e))),Dt=(s,e,o)=>u(u(u(v,H(s)),H(e)),H(o)),en=()=>fs($),on=()=>Tt($),Ht=s=>u($,H(s)),_t=()=>!y(v),oe=s=>es(v,H(s)),ce=(s,e)=>es(u(Vs,H(s)),H(e)),ie=(s,e)=>es(u(v,H(s)),H(e)),re=(s,e,o)=>es(u(u(v,H(s)),H(e)),H(o)),Ft=()=>!y($),le=s=>es($,H(s)),uo=()=>et(v),go=()=>et($),To=()=>et([v,$]),Lo=()=>et(D),Eo=()=>et(Ts),So=()=>et([D,Ts]),po=s=>j(()=>{let e=un(s)?s():s;oo(e)&&ro(e)}),bt=s=>j(()=>co(s)?An(s):0),Co=(s,e)=>j(o=>wn(e,o)?Nt(o,e):0,s),yo=(s,e,o)=>j((i,l)=>Vt(i,l,o)?rt(i,vt(i),l,o):0,s,e),Ro=(s,e,o=!0)=>rn(()=>{let i;return Vt(s,i,e)&&(s=H(s),rt(s,vt(s),i=lo(s,o?1:0),e)),i}),mo=(s,e,o)=>j((i,l)=>{if(Vt(i,l,o,1)){let h=vt(i);Ws(o,(T,w)=>zn(i,h,l,w,T))}},s,e),Vo=(s,e,o,i)=>j((l,h,T)=>J(xn(l,h,T,un(i)?i(Dt(l,h,T)):i),w=>zn(l,vt(l),h,T,w)),s,e,o),Pt=s=>j(()=>Dn(s)?Gn(s):0),No=s=>j(()=>Dn(s,1)?Ws(s,(e,o)=>Mt(o,e)):0),Mo=(s,e)=>j(o=>J(Hn(o,un(e)?e(Ht(o)):e),i=>Mt(o,i)),s),vo=s=>j(()=>{Ws(s[0],(e,o)=>hs(e)?ue(o):Ws(e,(i,l)=>hs(i)?ge(o,l):Ws(i,(h,T)=>Ue(ss,o,l,T,h)))),Ws(s[1],(e,o)=>ke(ss,o,e))}),ae=s=>(gn(()=>Pn(En(s))),ss),wo=s=>(gn(()=>jn(En(s))),ss),xo=s=>j(()=>gn(()=>{let[e,o]=En(s);Pn(e),jn(o)},()=>ae(s))),fe=s=>j(()=>{if((t=mt(s))&&(Fn(s),!y(v))){let e=tn();At(),bt(e)}}),he=s=>j(()=>{if(n=eo(s)){let e=en();cn(),zt(),n=!0,bn(s),Pt(e)}}),Do=(s,e)=>j(()=>{fe(s),he(e)}),At=()=>j(()=>An({})),ue=s=>j(e=>es(v,e)?Wn(e):0,s),ge=(s,e)=>j((o,i)=>J(u(v,o),l=>es(l,i)?Yn(o,l,i):0),s,e),Ho=(s,e,o,i)=>j((l,h,T)=>J(u(v,l),w=>J(u(w,h),x=>es(x,T)?Bn(l,w,h,x,T,i):0)),s,e,o),zt=()=>j(()=>Gn({})),_o=s=>j(e=>es($,e)?Un(e):0,s),de=()=>j(()=>{Fn({}),t=!1}),cn=()=>j(()=>{bn({}),n=!1}),Fo=()=>j(()=>{de(),cn()}),rn=(s,e)=>{if(a!=-1){Te();let o=s();return Le(e),o}},Te=()=>(a!=-1&&a++,a==1&&(d[0]?.(),A(k)),ss),bo=()=>[fs(f,(s,e)=>u(L,e)===-1?void 0:fs(s,(o,i)=>u(u(p,e),i)===-1?void 0:fs(o,([,l])=>l,l=>qt(l)),y,Rs),y,Rs),fs(R,([,s])=>s,s=>qt(s)),1],Po=()=>[!y(f),!y(R),Ut(f,Je,qt),Ut(N),fs(R,Je,qt),fs(m),fs(L),Sn(p),Ut(E),fs(g)],Le=s=>(a>0&&(a--,a==0&&(a=1,Qn(1),y(f)||In(1),Xn(1),y(R)||se(1),s?.(ss)&&(M(f,(e,o)=>M(e,(i,l)=>M(i,([h],T)=>Ue(ss,o,l,T,h)))),Tn(f),M(R,([e],o)=>ke(ss,o,e)),Tn(R)),A(rs[0],void 0),a=-1,Qn(0),y(f)||In(0),Xn(0),y(R)||se(0),d[1]?.(),A(rs[1],void 0),d[2]?.(),a=0,c=_t(),r=Ft(),Rt([L,P,K,p,E,f,N,g,R,m],Tn))),ss),ss={getContent:ao,getTables:tn,getTableIds:gs,getTable:fo,getTableCellIds:ne,getRowCount:ee,getRowIds:Xs,getSortedRowIds:xt,getRow:ho,getCellIds:nn,getCell:Dt,getValues:en,getValueIds:on,getValue:Ht,hasTables:_t,hasTable:oe,hasTableCell:ce,hasRow:ie,hasCell:re,hasValues:Ft,hasValue:le,getTablesJson:uo,getValuesJson:go,getJson:To,getTablesSchemaJson:Lo,getValuesSchemaJson:Eo,getSchemaJson:So,hasTablesSchema:()=>t,hasValuesSchema:()=>n,setContent:po,setTables:bt,setTable:Co,setRow:yo,addRow:Ro,setPartialRow:mo,setCell:Vo,setValues:Pt,setPartialValues:No,setValue:Mo,applyChanges:vo,setTablesJson:ae,setValuesJson:wo,setJson:xo,setTablesSchema:fe,setValuesSchema:he,setSchema:Do,delTables:At,delTable:ue,delRow:ge,delCell:Ho,delValues:zt,delValue:_o,delTablesSchema:de,delValuesSchema:cn,delSchema:Fo,transaction:rn,startTransaction:Te,getTransactionChanges:bo,getTransactionLog:Po,finishTransaction:Le,forEachTable:s=>M(v,(e,o)=>s(o,i=>M(e,(l,h)=>i(h,T=>Ys(l,T))))),forEachTableCell:(s,e)=>Ys(u(Vs,H(s)),e),forEachRow:(s,e)=>M(u(v,H(s)),(o,i)=>e(i,l=>Ys(o,l))),forEachCell:(s,e,o)=>Ys(u(u(v,H(s)),H(e)),o),forEachValue:s=>Ys($,s),addSortedRowIdsListener:(s,e,o,i,l,h,T)=>Xt(s)?te(s.tableId,s.cellId,[s.descending??!1,s.offset??0,s.limit],e,o):te(s,e,[o,i,l],h,T),addStartTransactionListener:s=>ls(s,k),addWillFinishTransactionListener:s=>ls(s,rs[0]),addDidFinishTransactionListener:s=>ls(s,rs[1]),callListener:s=>(as(s),ss),delListener:s=>(Os(s),ss),getListenerStats:()=>({hasTables:G(it),tables:G(C),tableIds:G(z),hasTable:G(os),table:G(Z),tableCellIds:G(S),hasTableCell:G(b,Et),rowCount:G(O),rowIds:G(Q),sortedRowIds:G(cs),hasRow:G(Es,Et),row:G(us,Et),cellIds:G(F,Et),hasCell:G(q,dn),cell:G(X,dn),invalidCell:G(ps,dn),hasValues:G(Ns),values:G(ys),valueIds:G(Ms),hasValue:G(vs),value:G(is),invalidValue:G(Ss),transaction:mn(k)+G(rs)}),isMergeable:()=>!1,createStore:Vn,addListener:ls,callListeners:A,setInternalListeners:(s,e,o,i,l)=>d=[s,e,o,i,l]};return Ws({[Ks+Ge]:[0,it,[],()=>[_t()]],[Ge]:[0,C],[dc]:[0,z],[Ks+ot]:[1,os,[gs],s=>[oe(...s)]],[ot]:[1,Z,[gs]],[ot+We]:[1,S,[gs]],[Ks+ot+Jt]:[2,b,[gs,ne],s=>[ce(...s)]],[Tc]:[1,O,[gs]],[Lc]:[1,Q,[gs]],[Ks+Kt]:[2,Es,[gs,Xs],s=>[ie(...s)]],[Kt]:[2,us,[gs,Xs]],[We]:[2,F,[gs,Xs]],[Ks+Jt]:[3,q,[gs,Xs,nn],s=>[re(...s)]],[Jt]:[3,X,[gs,Xs,nn],s=>kt(Dt(...s))],InvalidCell:[3,ps],[Ks+Ye]:[0,Ns,[],()=>[Ft()]],[Ye]:[0,ys],[Ec]:[0,Ms],[Ks+$t]:[1,vs,[on],s=>[le(...s)]],[$t]:[1,is,[on],s=>kt(Ht(s[0]))],InvalidValue:[1,Ss]},([s,e,o,i],l)=>{ss[gc+l+uc]=(...h)=>ls(h[s],e[h[s+1]?1:0],s>0?Be(h,0,s):void 0,o,i)}),Hc(ss)};var Bc=["db","id","ids","no","ui","ws","add","api","bun","del","dom","for","get","has","hlc","log","map","row","set","sql","use","web","yjs"],no=(t=!1)=>{addEventListener("load",()=>{let n=Ds("body > header > nav");if(n==null)return;let c=ts("div",null,{id:"search"}),r=ts("input",c,{type:"text",placeholder:(navigator.platform.startsWith("Mac")?"\u2318":"cmd-")+"K Search"}),a=ts("ol",c),d=ts("li",a,{},"No results found"),L=Vn(),P=je(L);P.setIndexDefinition("p","p",f=>{let g=[];return f("t").split(" ").forEach(R=>{for(let N=0;N<R.length;N++)g.push(R.slice(0,N+1))}),g},"t",void 0,(f,g,R)=>Mn(g,R)-Mn(f,R)),fetch("/pages.json").then(f=>f.json()).then(f=>{L.transaction(()=>{L.setContent(f),L.forEachRow("p",g=>{let{n:R,s:N}=L.getRow("p",g),m=new Set;Nn(g,m,!0),Nn(R,m),Nn(N,m),L.setCell("p",g,"t",Array.from(m.values()).join(" "))})}),K()});let K=()=>{n.prepend(c);let f=()=>(r.value?ks:ft)(a,"show");r.addEventListener("focus",f),r.addEventListener("input",()=>{f(),p()}),r.addEventListener("blur",()=>ft(a,"show")),E()},p=()=>{let f=r.value.toLowerCase().split(/[^a-z0-9]+/),g=new Map;f.forEach(m=>P.getSliceRowIds("p",m).slice(0,50).forEach(D=>g.set(D,(g.get(D)??0)+Mn(L.getCell("p",D,"t"),m))));let R=Array.from(g.keys()).sort((m,D)=>g.get(D)-g.get(m)).slice(0,10),N=R.length==0?[d]:R.map((m,D)=>{let U=ts("li"),{n:Ts,s:Ls}=L.getRow("p",m);return so(ts("b",U),Ts,f[0]),so(ts("span",U),Ls,f[0]),U.title=Ls,U.addEventListener("mousedown",()=>t?location.href=m:Re(m)),D==0&&ks(U,"hover"),U});a.replaceChildren(...N)},E=()=>addEventListener("keydown",f=>{if(st.activeElement==r){let g=Is(a,".hover");switch(f.code){case"Escape":return r.blur();case"ArrowDown":return Wt(f),to(g,g?.nextSibling??a.firstChild);case"ArrowUp":return Wt(f),to(g,g?.previousSibling??a.lastChild);case"Enter":return g?.dispatchEvent(new MouseEvent("mousedown"))}}else f.code=="KeyK"&&f.metaKey&&(r.focus(),Wt(f))})})},so=(t,n,c)=>{let r=n.toLowerCase().indexOf(c);t.innerHTML=r==-1?n:n.substring(0,r)+"<em>"+n.substring(r,r+c.length)+"</em>"+n.substring(r+c.length)},to=(t,n)=>{t!=n&&(t&&ft(t,"hover"),n&&(ks(n,"hover"),n.scrollIntoView({block:"nearest",inline:"nearest"})))},Nn=(t,n,c)=>{let r=t.replaceAll(/[^a-zA-Z0-9]/g," ").split(/\s+/);c&&r.reverse(),r.forEach(a=>{[a,...a.replaceAll(/([a-z])([A-Z])/g,"$1 $2").split(" ")].forEach(d=>{let L=d.toLowerCase();(L.length>3||Bc.includes(L))&&n.add(L)})})},Mn=(t,n)=>{let c=t.length,r=t.indexOf(n);return r===-1?0:(c-r)/c};pe();Ve();no(!0);})();
