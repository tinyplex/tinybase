"use strict";(()=>{var Se="v8.0.0-beta.0";var Go="TinyBase",nt=document,pe=()=>{addEventListener("load",()=>{let t=_s("#version");t.innerText=Se,t.style.width=t.scrollWidth+"px"})},Uo=null,Ce=()=>Uo??=_s("body > main > nav"),Wo=null,Re=()=>Wo??=_s("body > main > article"),Gt=t=>t.preventDefault(),_s=t=>nt.querySelector(t),tt=(t,n)=>t.querySelector(n),Yo=t=>nt.getElementById(t),ts=(t,n,c={},r)=>{let a=nt.createElement(t);return Object.entries(c).forEach(T=>a.setAttribute(...T)),r!=null&&(a.innerText=r),n!=null?n.appendChild(a):a},Js=(t,n)=>t.classList.add(n);var ft=(t,n)=>t.classList.remove(n);var ye=(t,n=!0)=>{let c=Ce();["?","#"].forEach(r=>{t.includes(r)&&(t=t.substring(0,t.indexOf(r)))}),fetch(`${t}nav.json`).then(r=>r.json()).then(r=>{ft(tt(c,"li.current"),"current"),Ve(r,tt(c,"ul"))}),fetch(`${t}article.html`).then(r=>r.text()).then(r=>{let a=Re();a.innerHTML=r,a.scrollTo(0,0),Bo()}),n&&history.pushState(null,"",t)},Bo=()=>{let t=tt(Re(),":scope iframe"),n=t?.parentElement;if(t==null||n==null)return;let c=n.insertBefore(ts("form",null,{action:"https://codepen.io/pen/define",method:"post",target:"_blank"}),t);n.insertBefore(ts("a",null,{id:"penEdit"},"Open this demo in CodePen"),t).onclick=()=>{c.childNodes.length==0?fetch("pen.json").then(r=>r.text()).then(r=>{ts("input",c,{type:"hidden",name:"data",value:r}),c.submit()}):c.submit()}},Ve=({i:t,n,u:c,r,c:a,p:T,o:E,_:F},I)=>{let y=Ce(),d=Yo(t);if(d==null){d=ts("li",I,{id:t}),ts("span",d);let h=ts("a",d,{href:c});r?ts("code",h,{},n):h.innerText=n,T&&Js(d,"parent")}if(E&&Js(d,"open"),F!=null){let h=tt(d,"ul")??ts("ul",d);F.forEach(g=>{Ve(g,h)})}if(a){Js(d,"current"),nt.title=`${n} | ${Go}`;let h=d.getBoundingClientRect(),g=y.getBoundingClientRect();h.top<g.top?y.scrollBy(0,h.top-g.top):h.bottom>g.bottom&&y.scrollBy(0,Math.min(h.bottom-g.bottom,h.top-g.top))}};var Gs="dark",an="light",fn="auto",me=()=>{let t=matchMedia("(prefers-color-scheme: dark)"),n=()=>{let c=localStorage.getItem(Gs)??fn;_s("#dark")?.setAttribute("class",c),_s("html").className=c==Gs||c==fn&&t.matches?Gs:an};t.addEventListener("change",n),window.addEventListener("storage",c=>{c.storageArea==localStorage&&c.key==Gs&&n()}),addEventListener("load",()=>{_s("#dark").addEventListener("click",()=>{let c=localStorage.getItem(Gs);localStorage.setItem(Gs,c==Gs?an:c==an?fn:Gs),n()}),n()}),n()};var De=t=>typeof t;var ko=De(""),Ne=t=>""+t,qo=t=>(n,c,r)=>t(n)?r?.():c(n),bs=t=>t===void 0,He=t=>t===null,Ks=qo(bs),Jo=t=>De(t)==ko,gt=t=>Array.isArray(t),Ps=t=>t.length,Ko=(t,n)=>t.test(n),_e=(t,n)=>t.every(n),$o=(t,n)=>Ps(t)===Ps(n)&&_e(t,(c,r)=>n[r]===c),Me=(t,n)=>_e(t,(c,r)=>r==0||n(t[r-1],c)<=0),ve=(t,n)=>t.sort(n),$s=(t,n)=>t.forEach(n),Oo=(t,n)=>t.map(n),Zo=t=>Ps(t)==0,Qo=(t,n,c)=>t.reduce(n,c),Fe=(t,...n)=>t.push(...n),Xo=t=>t.shift(),be=t=>n=>Qo(gn(n),(c,r)=>c+t(r),0),Pe=t=>t?.size??0,Ae=be(Pe),Io=be(Ae),et=(t,n)=>t?.has(n)??!1,ut=t=>bs(t)||Pe(t)==0,gn=t=>[...t?.values()??[]],we=t=>t.clear(),Ts=(t,n)=>t?.forEach(n),ot=(t,n)=>t?.delete(n),sc=Object,tc=sc.freeze,nc=Map,ns=t=>new nc(t),ze=t=>[...t?.keys()??[]],B=(t,n)=>t?.get(n),ht=(t,n)=>Ts(t,(c,r)=>n(r,c)),Y=(t,n,c)=>bs(c)?(ot(t,n),t):t?.set(n,c),je=(t,n,c,r)=>(et(t,n)?r?.(B(t,n)):Y(t,n,c()),B(t,n)),hn=(t,n,c,r,a=0)=>Ks((c?je:B)(t,n[a],a>Ps(n)-2?c:ns),T=>{if(a>Ps(n)-2)return r?.(T)&&Y(t,n[a]),T;let E=hn(T,n,c,r,a+1);return ut(T)&&Y(t,n[a]),E}),Us=t=>new Set(gt(t)||bs(t)?t:[t]),Fs=(t,n)=>t?.add(n),ec=(t,n,c,r,a)=>{let T=t.hasRow,E=ns(),F=ns(),I=ns(),y=ns(),d=ns(),h=ns(),g=()=>t,M=()=>ze(E),C=R=>ht(F,R),V=R=>et(F,R),H=R=>B(E,R),W=R=>B(F,R),Rs=(R,z)=>Y(F,R,z),cs=(R,z,...is)=>{let $=je(h,R,Us);return $s(is,S=>Fs($,S)&&z&&t.callListener(S)),is},ys=(R,...z)=>Ks(B(h,R),is=>{$s(Zo(z)?gn(is):z,$=>{t.delListener($),ot(is,$)}),ut(is)&&Y(h,R)}),vs=(R,z)=>{Y(E,R,z),et(F,R)||(Y(F,R,n()),Y(y,R,ns()),Y(d,R,ns()),a(I))},qs=(R,z,is,$,S)=>{vs(R,z);let P=ns(),O=ns(),Z=B(y,R),fs=B(d,R),hs=b=>{let q=ds=>t.getCell(z,b,ds),Q=B(Z,b),ps=T(z,b)?c($(q,b)):void 0;if(Q===ps||gt(Q)&&gt(ps)&&$o(Q,ps)||Y(P,b,[Q,ps]),!bs(S)){let ds=B(fs,b),ms=T(z,b)?S(q,b):void 0;ds!=ms&&Y(O,b,ms)}},gs=b=>{is(()=>{Ts(P,([,q],Q)=>Y(Z,Q,q)),Ts(O,(q,Q)=>Y(fs,Q,q))},P,O,Z,fs,b),we(P),we(O)};ht(Z,hs),t.hasTable(z)&&$s(t.getRowIds(z),b=>{et(Z,b)||hs(b)}),gs(!0),ys(R),cs(R,0,t.addRowListener(z,null,(b,q,Q)=>hs(Q)),t.addTableListener(z,()=>gs()))},Vs=R=>{Y(E,R),Y(F,R),Y(y,R),Y(d,R),ys(R),a(I)};return[g,M,C,V,H,W,Rs,vs,qs,Vs,R=>r(R,I),()=>ht(h,Vs),cs,ys]},xe=(t,n)=>Jo(t)?c=>c(t):t??(()=>n??""),oc=(t,n)=>{let c=new WeakMap;return r=>(c.has(r)||c.set(r,t(r)),c.get(r))},cc=(t,n)=>(t??0)<(n??0)?-1:1,ic=/^\d+$/,rc=()=>{let t=[],n=0;return[c=>(c?Xo(t):null)??""+n++,c=>{Ko(ic,c)&&Ps(t)<1e3&&Fe(t,c)}]},lc=(t,n=[""])=>{let c=[],r=(a,T)=>T==Ps(n)?Fe(c,a):He(n[T])?Ts(a,E=>r(E,T+1)):$s([n[T],null],E=>r(B(a,E),T+1));return r(t,0),c},ac=t=>{let n,[c,r]=rc(),a=ns();return[(y,d,h,g=[],M=()=>[])=>{n??=t();let C=c(1);return Y(a,C,[y,d,h,g,M]),Fs(hn(d,h??[""],Us),C),C},(y,d,...h)=>$s(lc(y,d),g=>Ts(g,M=>B(a,M)[0](n,...d??[],...h))),y=>Ks(B(a,y),([,d,h])=>(hn(d,h??[""],void 0,g=>(ot(g,y),ut(g)?1:0)),Y(a,y),r(y),h)),y=>Ks(B(a,y),([d,,h=[],g,M])=>{let C=(...V)=>{let H=Ps(V);H==Ps(h)?d(n,...V,...M(V)):He(h[H])?$s(g[H]?.(...V)??[],W=>C(...V,W)):C(...V,h[H])};C()})]},Ge=oc(t=>{let n=ns(),c=ns(),[r,a,T]=ac(()=>$),[E,F,I,y,d,h,g,,M,C,V,H]=ec(t,ns,S=>bs(S)?"":gt(S)?Oo(S,Ne):Ne(S),r,a),W=(S,P)=>et(h(S),P),Rs=(S,P,O,Z,fs,hs=cc)=>{let gs=bs(fs)?void 0:([b],[q])=>fs(b,q);return M(S,P,(b,q,Q,ps,ds,ms)=>{let Ns=0,ws=Us(),xs=Us(),rs=h(S);if(Ts(q,([k,Es],us)=>{let Ss=Us(k),A=Us(Es);Ts(Ss,ls=>ot(A,ls)?ot(Ss,ls):0),Ts(Ss,ls=>{Fs(ws,ls),Ks(B(rs,ls),yt=>{ot(yt,us),ut(yt)&&(Y(rs,ls),Ns=1)})}),Ts(A,ls=>{Fs(ws,ls),et(rs,ls)||(Y(rs,ls,Us()),Ns=1),Fs(B(rs,ls),us),bs(Z)||Fs(xs,ls)})}),b(),ut(ds)||(ms?ht(rs,k=>Fs(xs,k)):ht(Q,k=>Ks(B(ps,k),Es=>$s(gt(Es)?Es:[Es],us=>Fs(xs,us)))),Ts(xs,k=>{let Es=(Ss,A)=>hs(B(ds,Ss),B(ds,A),k),us=[...B(rs,k)];Me(us,Es)||(Y(rs,k,Us(ve(us,Es))),Fs(ws,k))})),(Ns||ms)&&!bs(gs)){let k=[...rs];Me(k,gs)||(g(S,ns(ve(k,gs))),Ns=1)}Ns&&a(n,[S]),Ts(ws,k=>a(c,[S,k]))},xe(O),Ks(Z,xe)),$},cs=S=>I((P,O)=>S(P,Z=>vs(P,Z,O))),ys=(S,P)=>vs(S,P,h(S)),vs=(S,P,O)=>{let Z=d(S);Ts(O,(fs,hs)=>P(hs,gs=>Ts(fs,b=>gs(b,q=>t.forEachCell(Z,b,q)))))},$={setIndexDefinition:Rs,delIndexDefinition:S=>(C(S),$),getStore:E,getIndexIds:F,forEachIndex:cs,forEachSlice:ys,hasIndex:y,hasSlice:W,getTableId:d,getSliceIds:S=>ze(h(S)),getSliceRowIds:(S,P)=>gn(B(h(S),P)),addIndexIdsListener:V,addSliceIdsListener:(S,P)=>r(P,n,[S]),addSliceRowIdsListener:(S,P,O)=>r(O,c,[S,P]),delListener:S=>(T(S),$),destroy:H,getListenerStats:()=>({sliceIds:Ae(n),sliceRowIds:Io(c)})};return tc($)});var Xs=t=>typeof t;var fc=Xs(""),hc=Xs(!0),$e=Xs(0),gc=Xs(Xs),Ut="type",As="default",Wt="allowNull",uc="null",Lc="Listener",Tc="add",Os="Has",sn="Ids",it="Table",Ue=it+"s",dc=it+sn,Kt="Row",Ec=Kt+"Count",Sc=Kt+sn,Jt="Cell",We=Jt+sn,$t="Value",Ye=$t+"s",pc=$t+sn,D=t=>""+t,Oe=t=>(n,c,r)=>t(n)?r?.():c(n),Cc=isFinite,Rc=(t,n)=>t instanceof n,Ot=t=>t==null,os=t=>t===void 0,Qs=t=>t===null,yc=Oe(Ot),J=Oe(os),Ze=t=>t==fc||t==hc,un=t=>Xs(t)==gc,Qe=t=>Array.isArray(t),Be=(t,n,c)=>t.slice(n,c),zs=t=>t.length,Vc=(t,n)=>t.test(n),Ln=async(t,n,c)=>{try{return await t()}catch(r){n?.(r)}},mc=(t,n)=>t.includes(n),Nc=(t,n)=>t.every(n),Mc=(t,n)=>zs(t)===zs(n)&&Nc(t,(c,r)=>n[r]===c),vc=(t,n)=>t.sort(n),Rt=(t,n)=>t.forEach(n),Zt=(t,n)=>t.map(n),wc=(t,n,c)=>t.reduce(n,c),Qt=(t,...n)=>t.push(...n),xc=t=>t.shift(),Lt=t=>{if(Qs(t))return uc;let n=Xs(t);return Ze(n)||n==$e&&Cc(t)?n:void 0},ke=(t,n,c,r,a)=>os(a)?t.delCell(n,c,r,!0):t.setCell(n,c,r,a),qe=(t,n,c)=>os(c)?t.delValue(n):t.setValue(n,c),Rn=t=>n=>wc(Dc(n),(c,r)=>c+t(r),0),yn=t=>t?.size??0,Vn=Rn(yn),Et=Rn(Vn),Tn=Rn(Et),es=(t,n)=>t?.has(n)??!1,p=t=>os(t)||yn(t)==0,Dc=t=>[...t?.values()??[]],dn=t=>t.clear(),N=(t,n)=>t?.forEach(n),Xt=(t,n)=>t?.delete(n),ks=Object,Je=t=>ks.getPrototypeOf(t),Hc=ks.isFrozen,Xe=ks.entries,It=t=>!Ot(t)&&yc(Je(t),n=>n==ks.prototype||Ot(Je(n)),()=>!0),_c=ks.keys,Fc=ks.freeze,bc=(t=[])=>ks.fromEntries(t),St=(t,n)=>n in t,Ie=(t,n)=>(delete t[n],t),Pc=(t,n)=>Rt(Xe(t),([c,r])=>n(r,c)),Ac=(t,n)=>Zt(Xe(t),([c,r])=>n(r,c)),Ys=(t,n)=>bc(Ac(t,(c,r)=>[r,n(c,r)])),zc=t=>zs(_c(t)),Ms=t=>It(t)&&zc(t)==0,Ws=(t,n,c,r=0)=>Ot(t)||!It(t)||!r&&Ms(t)||Hc(t)?(c?.(),!1):(Pc(t,(a,T)=>{n(a,T)||Ie(t,T)}),r?!0:!Ms(t)),jc=Map,m=t=>new jc(t),Tt=t=>[...t?.keys()??[]],u=(t,n)=>t?.get(n),Bs=(t,n)=>N(t,(c,r)=>n(r,c)),Gc=(t,n)=>Zt([...t?.entries()??[]],([c,r])=>n(r,c)),_=(t,n,c)=>os(c)?(Xt(t,n),t):t?.set(n,c),X=(t,n,c,r)=>(es(t,n)?r?.(u(t,n)):_(t,n,c()),u(t,n)),Zs=(t,n,c,r=_)=>(Ys(n,(a,T)=>c(t,T,a)),Bs(t,a=>St(n,a)?0:r(t,a)),t),as=(t,n,c,r)=>{let a={};return N(t,(T,E)=>{if(!c?.(T,E)){let F=n?n(T,E):T;r?.(F)||(a[E]=F)}}),a},Sn=(t,n,c)=>as(t,r=>as(r,n,c),p,Ms),Yt=(t,n,c)=>as(t,r=>Sn(r,n,c),p,Ms),Cs=(t,n)=>{let c=m();return N(t,(r,a)=>c.set(a,n?.(r)??r)),c},pn=t=>Cs(t,Cs),Ke=t=>Cs(t,pn),Cn=(t,n,c,r,a=0)=>J((c?X:u)(t,n[a],a>zs(n)-2?c:m),T=>{if(a>zs(n)-2)return r?.(T)&&_(t,n[a]),T;let E=Cn(T,n,c,r,a+1);return p(T)&&_(t,n[a]),E}),Uc=JSON.stringify,En=JSON.parse,ct=t=>Uc(t,(n,c)=>Rc(c,Map)?ks.fromEntries([...c]):c),Wc=(t,n)=>(t??0)<(n??0)?-1:1,Yc=/^\d+$/,so=()=>{let t=[],n=0;return[c=>(c?xc(t):null)??""+n++,c=>{Vc(Yc,c)&&zs(t)<1e3&&Qt(t,c)}]},pt=t=>new Set(Qe(t)||os(t)?t:[t]),Ct=(t,n)=>t?.add(n),Bc=(t,n=[""])=>{let c=[],r=(a,T)=>T==zs(n)?Qt(c,a):Qs(n[T])?N(a,E=>r(E,T+1)):Rt([n[T],null],E=>r(u(a,E),T+1));return r(t,0),c},kc=t=>{let n,[c,r]=so(),a=m();return[(y,d,h,g=[],M=()=>[])=>{n??=t();let C=c(1);return _(a,C,[y,d,h,g,M]),Ct(Cn(d,h??[""],pt),C),C},(y,d,...h)=>Rt(Bc(y,d),g=>N(g,M=>u(a,M)[0](n,...d??[],...h))),y=>J(u(a,y),([,d,h])=>(Cn(d,h??[""],void 0,g=>(Xt(g,y),p(g)?1:0)),_(a,y),r(y),h)),y=>J(u(a,y),([d,,h=[],g,M])=>{let C=(...V)=>{let H=zs(V);H==zs(h)?d(n,...V,...M(V)):Qs(h[H])?Rt(g[H]?.(...V)??[],W=>C(...V,W)):C(...V,h[H])};C()})]},Bt=t=>[t,t],G=(t,n=Vn)=>n(t[0])+n(t[1]),U=()=>[m(),m()],kt=t=>[...t],qt=([t,n])=>t===n,dt=(t,n,c)=>_(t,n,u(t,n)==-c?void 0:c),mn=()=>{let t,n,c=!1,r=!1,a=0,T=[],E=0,F=m(),I=m(),y=m(),d=m(),h=m(),g=m(),M=m(),C=m(),V=m(),H=m(),W=m(),Rs=m(),cs=m(),ys=m(),vs=pt(),qs=m(),Vs=m(),x=m(),K=m(),R=U(),z=U(),is=U(),$=U(),S=U(),P=U(),O=U(),Z=U(),fs=U(),hs=U(),gs=U(),b=U(),q=U(),Q=U(),ps=U(),ds=U(),ms=U(),Ns=U(),ws=U(),xs=U(),rs=U(),k=U(),Es=m(),us=U(),[Ss,A,ls,yt]=kc(()=>ss),oo=s=>Ws(s,e=>Ws(e,vn)),co=s=>Ws(s,vn),vn=s=>{if(!Ws(s,(i,l)=>mc([Ut,As,Wt],l)))return!1;let e=s[Ut];if(!Ze(e)&&e!=$e)return!1;let o=s[As];return Qs(o)&&!s[Wt]?!1:(!Qs(o)&&Lt(o)!=e&&Ie(s,As),!0)},io=Qe,ro=s=>Ws(s,wn,Ds),wn=(s,e)=>(!t||es(W,e)||Ds(e))&&Ws(s,(o,i)=>Vt(e,i,o),()=>Ds(e)),Vt=(s,e,o,i)=>Ws(i?o:_n(o,s,e),(l,f)=>J(xn(s,e,f,l),L=>(o[f]=L,!0),()=>!1),()=>Ds(s,e)),xn=(s,e,o,i)=>t?J(u(u(W,s),o),l=>Qs(i)?l[Wt]?i:Ds(s,e,o,i,l[As]):Lt(i)==l[Ut]?i:Ds(s,e,o,i,l[As]),()=>Ds(s,e,o,i)):os(Lt(i))?Ds(s,e,o,i):i,Dn=(s,e)=>Ws(e?s:lo(s),(o,i)=>J(Hn(i,o),l=>(s[i]=l,!0),()=>!1),()=>Is()),Hn=(s,e)=>n?J(u(cs,s),o=>Qs(e)?o[Wt]?e:Is(s,e,o[As]):Lt(e)==o[Ut]?e:Is(s,e,o[As]),()=>Is(s,e)):os(Lt(e))?Is(s,e):e,_n=(s,e,o)=>(J(u(Rs,e),([i,l])=>{N(i,(f,L)=>{St(s,L)||(s[L]=f)}),N(l,f=>{St(s,f)||Ds(e,o,f)})}),s),lo=s=>(n&&(N(ys,(e,o)=>{St(s,o)||(s[o]=e)}),N(vs,e=>{St(s,e)||Is(e)})),s),Fn=s=>Zs(W,s,(e,o,i)=>{let l=m(),f=pt();Zs(X(W,o,m),i,(L,v,w)=>{_(L,v,w),J(w[As],Hs=>_(l,v,Hs),()=>Ct(f,v))}),_(Rs,o,[l,f])},(e,o)=>{_(W,o),_(Rs,o)}),bn=s=>Zs(cs,s,(e,o,i)=>{_(cs,o,i),J(i[As],l=>_(ys,o,l),()=>Ct(vs,o))},(e,o)=>{_(cs,o),_(ys,o),Xt(vs,o)}),Pn=s=>Ms(s)?Pt():Ft(s),ao=([s,e])=>{(Ms(s)?Pt:Ft)(s),(Ms(e)?At:bt)(e)},An=s=>Zs(x,s,(e,o,i)=>mt(o,i),(e,o)=>Un(o)),mt=(s,e)=>Zs(X(x,s,()=>(kn(s,1),_(qs,s,so()),_(Vs,s,m()),m())),e,(o,i,l)=>rt(s,o,i,l),(o,i)=>Wn(s,o,i)),rt=(s,e,o,i,l)=>Zs(X(e,o,()=>(qn(s,o,1),m())),i,(f,L,v)=>tn(s,o,f,L,v),(f,L)=>Yn(s,e,o,f,L,l)),tn=(s,e,o,i,l)=>{es(o,i)||Jn(s,e,i,1);let f=u(o,i);l!==f&&(Kn(s,e,i,f,l),_(o,i,l))},zn=(s,e,o,i,l)=>J(u(e,o),f=>tn(s,o,f,i,l),()=>rt(s,e,o,_n({[i]:l},s,o))),jn=s=>Ms(s)?At():bt(s),Gn=s=>Zs(K,s,(e,o,i)=>Nt(o,i),(e,o)=>Bn(o)),Nt=(s,e)=>{es(K,s)||$n(s,1);let o=u(K,s);e!==o&&(On(s,o,e),_(K,s,e))},fo=(s,e)=>{let[o]=u(qs,s),i;do i=o(e);while(es(u(x,s),i));return i},Mt=s=>u(x,s)??mt(s,{}),Un=s=>mt(s,{}),Wn=(s,e,o)=>{let[,i]=u(qs,s);i(o),rt(s,e,o,{},!0)},Yn=(s,e,o,i,l,f)=>{let L=u(u(Rs,s)?.[0],l);if(!os(L)&&!f)return tn(s,o,i,l,L);let v=w=>{Kn(s,o,w,u(i,w)),Jn(s,o,w,-1),_(i,w)};os(L)?v(l):Bs(i,v),p(i)&&(qn(s,o,-1),p(_(e,o))&&(kn(s,-1),_(x,s),_(qs,s),_(Vs,s)))},Bn=s=>{let e=u(ys,s);if(!os(e))return Nt(s,e);On(s,u(K,s)),$n(s,-1),_(K,s)},kn=(s,e)=>dt(F,s,e),qn=(s,e,o)=>dt(X(d,s,m),e,o)&&_(y,s,X(y,s,()=>0)+o),Jn=(s,e,o,i)=>{let l=u(Vs,s),f=u(l,o)??0;(f==0&&i==1||f==1&&i==-1)&&dt(X(I,s,m),o,i),_(l,o,f!=-i?f+i:void 0),dt(X(X(h,s,m),e,m),o,i)},Kn=(s,e,o,i,l)=>{X(X(X(g,s,m),e,m),o,()=>[i,0])[1]=l,T[3]?.(s,e,o,l,E)},$n=(s,e)=>dt(M,s,e),On=(s,e,o)=>{X(C,s,()=>[e,0])[1]=o,T[4]?.(s,o,E)},Ds=(s,e,o,i,l)=>(Qt(X(X(X(V,s,m),e,m),o,()=>[]),i),l),Is=(s,e,o)=>(Qt(X(H,s,()=>[]),e),o),vt=(s,e,o)=>J(u(u(u(g,s),e),o),([i,l])=>[!0,i,l],()=>[!1,...Bt(xt(s,e,o))]),Zn=s=>J(u(C,s),([e,o])=>[!0,e,o],()=>[!1,...Bt(Dt(s))]),Qn=s=>!p(V)&&!p(ds[s])?N(s?Ke(V):V,(e,o)=>N(e,(i,l)=>N(i,(f,L)=>A(ds[s],[o,l,L],f)))):0,Xn=s=>!p(H)&&!p(ms[s])?N(s?Cs(H):H,(e,o)=>A(ms[s],[o],e)):0,lt=(s,e,o,i)=>{if(!p(s))return A(e,i,()=>as(s)),Bs(s,(l,f)=>A(o,[...i??[],l],f==1)),1},In=s=>{let e=!p(R[s]),o=!p(hs[s]),i=!(p(q[s])&&p(Q[s])&&p(fs[s])&&p(gs[s])&&p(P[s])&&p(O[s])&&p(Z[s])&&!o&&p(is[s])&&p($[s])),l=!(p(ps[s])&&p(b[s])&&p(S[s])&&p(z[s]));if(e||i||l){let f=s?[Cs(F),pn(I),Cs(y),pn(d),Ke(h),Cs(g,L=>Cs(L,v=>Cs(v,kt)))]:[F,I,y,d,h,g];if(e){let L=Ht();L!=c&&A(R[s],void 0,L)}if(i){lt(f[0],is[s],$[s]),N(f[1],(v,w)=>lt(v,P[s],O[s],[w])),N(f[2],(v,w)=>{v!=0&&A(Z[s],[w],ee(w))});let L=pt();N(f[3],(v,w)=>{lt(v,fs[s],gs[s],[w])&&o&&(A(hs[s],[w,null]),Ct(L,w))}),o&&N(f[5],(v,w)=>{if(!es(L,w)){let Hs=pt();N(v,js=>N(js,([zt,jt],at)=>jt!==zt?Ct(Hs,at):Xt(js,at))),N(Hs,js=>A(hs[s],[w,js]))}}),N(f[4],(v,w)=>N(v,(Hs,js)=>lt(Hs,q[s],Q[s],[w,js])))}if(l){let L;N(f[5],(v,w)=>{let Hs;N(v,(js,zt)=>{let jt;N(js,([at,Ee],jo)=>{Ee!==at&&(A(ps[s],[w,zt,jo],Ee,at,vt),L=Hs=jt=1)}),jt&&A(b[s],[w,zt],vt)}),Hs&&A(S[s],[w],vt)}),L&&A(z[s],void 0,vt)}}},se=s=>{let e=!p(Ns[s]),o=!p(xs[s])||!p(rs[s]),i=!p(k[s])||!p(ws[s]);if(e||o||i){let l=s?[Cs(M),Cs(C,kt)]:[M,C];if(e){let f=_t();f!=r&&A(Ns[s],void 0,f)}if(o&&lt(l[0],xs[s],rs[s]),i){let f;N(l[1],([L,v],w)=>{v!==L&&(A(k[s],[w],v,L,Zn),f=1)}),f&&A(ws[s],void 0,Zn)}}},j=(s,...e)=>(ln(()=>s(...Zt(e,D))),ss),te=(s,e,o,i,l)=>{let f=wt(s,e,...o);return Ss(()=>{let L=wt(s,e,...o);Mc(L,f)||(f=L,i(ss,s,e,...o,f))},hs[l?1:0],[s,e],[Ls])},ho=()=>[nn(),on()],nn=()=>Yt(x),Ls=()=>Tt(x),go=s=>Sn(u(x,D(s))),ne=s=>Tt(u(Vs,D(s))),ee=s=>yn(u(x,D(s))),st=s=>Tt(u(x,D(s))),wt=(s,e,o,i=0,l)=>It(s)?wt(s.tableId,s.cellId,s.descending,s.offset,s.limit):Zt(Be(vc(Gc(u(x,D(s)),(f,L)=>[os(e)?L:u(f,D(e)),L]),([f],[L])=>Wc(f,L)*(o?-1:1)),i,os(l)?l:i+l),([,f])=>f),uo=(s,e)=>as(u(u(x,D(s)),D(e))),en=(s,e)=>Tt(u(u(x,D(s)),D(e))),xt=(s,e,o)=>u(u(u(x,D(s)),D(e)),D(o)),on=()=>as(K),cn=()=>Tt(K),Dt=s=>u(K,D(s)),Ht=()=>!p(x),oe=s=>es(x,D(s)),ce=(s,e)=>es(u(Vs,D(s)),D(e)),ie=(s,e)=>es(u(x,D(s)),D(e)),re=(s,e,o)=>es(u(u(x,D(s)),D(e)),D(o)),_t=()=>!p(K),le=s=>es(K,D(s)),Lo=()=>ct(x),To=()=>ct(K),Eo=()=>ct([x,K]),So=()=>ct(W),po=()=>ct(cs),Co=()=>ct([W,cs]),Ro=s=>j(()=>{let e=un(s)?s():s;io(e)&&ao(e)}),Ft=s=>j(()=>ro(s)?An(s):0),yo=(s,e)=>j(o=>wn(e,o)?mt(o,e):0,s),Vo=(s,e,o)=>j((i,l)=>Vt(i,l,o)?rt(i,Mt(i),l,o):0,s,e),mo=(s,e,o=!0)=>ln(()=>{let i;return Vt(s,i,e)&&(s=D(s),rt(s,Mt(s),i=fo(s,o?1:0),e)),i}),No=(s,e,o)=>j((i,l)=>{if(Vt(i,l,o,1)){let f=Mt(i);Ys(o,(L,v)=>zn(i,f,l,v,L))}},s,e),Mo=(s,e,o,i)=>j((l,f,L)=>J(xn(l,f,L,un(i)?i(xt(l,f,L)):i),v=>zn(l,Mt(l),f,L,v)),s,e,o),bt=s=>j(()=>Dn(s)?Gn(s):0),vo=s=>j(()=>Dn(s,1)?Ys(s,(e,o)=>Nt(o,e)):0),wo=(s,e)=>j(o=>J(Hn(o,un(e)?e(Dt(o)):e),i=>Nt(o,i)),s),xo=s=>j(()=>{Ys(s[0],(e,o)=>os(e)?ge(o):Ys(e,(i,l)=>os(i)?ue(o,l):Ys(i,(f,L)=>ke(ss,o,l,L,f)))),Ys(s[1],(e,o)=>qe(ss,o,e))}),ae=s=>(Ln(()=>Pn(En(s))),ss),Do=s=>(Ln(()=>jn(En(s))),ss),Ho=s=>j(()=>Ln(()=>{let[e,o]=En(s);Pn(e),jn(o)},()=>ae(s))),fe=s=>j(()=>{if((t=oo(s))&&(Fn(s),!p(x))){let e=nn();Pt(),Ft(e)}}),he=s=>j(()=>{if(n=co(s)){let e=on();rn(),At(),n=!0,bn(s),bt(e)}}),_o=(s,e)=>j(()=>{fe(s),he(e)}),Pt=()=>j(()=>An({})),ge=s=>j(e=>es(x,e)?Un(e):0,s),ue=(s,e)=>j((o,i)=>J(u(x,o),l=>es(l,i)?Wn(o,l,i):0),s,e),Fo=(s,e,o,i)=>j((l,f,L)=>J(u(x,l),v=>J(u(v,f),w=>es(w,L)?Yn(l,v,f,w,L,i):0)),s,e,o),At=()=>j(()=>Gn({})),bo=s=>j(e=>es(K,e)?Bn(e):0,s),Le=()=>j(()=>{Fn({}),t=!1}),rn=()=>j(()=>{bn({}),n=!1}),Po=()=>j(()=>{Le(),rn()}),ln=(s,e)=>{if(a!=-1){Te();let o=s();return de(e),o}},Te=()=>(a!=-1&&a++,a==1&&(T[0]?.(),A(Es)),ss),Ao=()=>[as(g,(s,e)=>u(F,e)===-1?void 0:as(s,(o,i)=>u(u(d,e),i)===-1?void 0:as(o,([,l])=>l,l=>qt(l)),p,Ms),p,Ms),as(C,([,s])=>s,s=>qt(s)),1],zo=()=>[!p(g),!p(C),Yt(g,kt,qt),Yt(V),as(C,kt,qt),as(H),as(F),Sn(d),Yt(h),as(M)],de=s=>(a>0&&(a--,a==0&&(a=1,E=1,Qn(1),p(g)||In(1),Xn(1),p(C)||se(1),E=0,s?.(ss)&&(N(g,(e,o)=>N(e,(i,l)=>N(i,([f],L)=>ke(ss,o,l,L,f)))),dn(g),N(C,([e],o)=>qe(ss,o,e)),dn(C)),A(us[0],void 0),a=-1,Qn(0),p(g)||In(0),Xn(0),p(C)||se(0),T[1]?.(),A(us[1],void 0),T[2]?.(),a=0,c=Ht(),r=_t(),Rt([F,I,y,d,h,g,V,M,C,H],dn))),ss),ss={getContent:ho,getTables:nn,getTableIds:Ls,getTable:go,getTableCellIds:ne,getRowCount:ee,getRowIds:st,getSortedRowIds:wt,getRow:uo,getCellIds:en,getCell:xt,getValues:on,getValueIds:cn,getValue:Dt,hasTables:Ht,hasTable:oe,hasTableCell:ce,hasRow:ie,hasCell:re,hasValues:_t,hasValue:le,getTablesJson:Lo,getValuesJson:To,getJson:Eo,getTablesSchemaJson:So,getValuesSchemaJson:po,getSchemaJson:Co,hasTablesSchema:()=>t,hasValuesSchema:()=>n,setContent:Ro,setTables:Ft,setTable:yo,setRow:Vo,addRow:mo,setPartialRow:No,setCell:Mo,setValues:bt,setPartialValues:vo,setValue:wo,applyChanges:xo,setTablesJson:ae,setValuesJson:Do,setJson:Ho,setTablesSchema:fe,setValuesSchema:he,setSchema:_o,delTables:Pt,delTable:ge,delRow:ue,delCell:Fo,delValues:At,delValue:bo,delTablesSchema:Le,delValuesSchema:rn,delSchema:Po,transaction:ln,startTransaction:Te,getTransactionChanges:Ao,getTransactionLog:zo,finishTransaction:de,forEachTable:s=>N(x,(e,o)=>s(o,i=>N(e,(l,f)=>i(f,L=>Bs(l,L))))),forEachTableCell:(s,e)=>Bs(u(Vs,D(s)),e),forEachRow:(s,e)=>N(u(x,D(s)),(o,i)=>e(i,l=>Bs(o,l))),forEachCell:(s,e,o)=>Bs(u(u(x,D(s)),D(e)),o),forEachValue:s=>Bs(K,s),addSortedRowIdsListener:(s,e,o,i,l,f,L)=>It(s)?te(s.tableId,s.cellId,[s.descending??!1,s.offset??0,s.limit],e,o):te(s,e,[o,i,l],f,L),addStartTransactionListener:s=>Ss(s,Es),addWillFinishTransactionListener:s=>Ss(s,us[0]),addDidFinishTransactionListener:s=>Ss(s,us[1]),callListener:s=>(yt(s),ss),delListener:s=>(ls(s),ss),getListenerStats:()=>({hasTables:G(R),tables:G(z),tableIds:G(is),hasTable:G($),table:G(S),tableCellIds:G(P),hasTableCell:G(O,Et),rowCount:G(Z),rowIds:G(fs),sortedRowIds:G(hs),hasRow:G(gs,Et),row:G(b,Et),cellIds:G(q,Et),hasCell:G(Q,Tn),cell:G(ps,Tn),invalidCell:G(ds,Tn),hasValues:G(Ns),values:G(ws),valueIds:G(xs),hasValue:G(rs),value:G(k),invalidValue:G(ms),transaction:Vn(Es)+G(us)}),isMergeable:()=>!1,createStore:mn,addListener:Ss,callListeners:A,setInternalListeners:(s,e,o,i,l)=>T=[s,e,o,i,l]};return Ys({[Os+Ue]:[0,R,[],()=>[Ht()]],[Ue]:[0,z],[dc]:[0,is],[Os+it]:[1,$,[Ls],s=>[oe(...s)]],[it]:[1,S,[Ls]],[it+We]:[1,P,[Ls]],[Os+it+Jt]:[2,O,[Ls,ne],s=>[ce(...s)]],[Ec]:[1,Z,[Ls]],[Sc]:[1,fs,[Ls]],[Os+Kt]:[2,gs,[Ls,st],s=>[ie(...s)]],[Kt]:[2,b,[Ls,st]],[We]:[2,q,[Ls,st]],[Os+Jt]:[3,Q,[Ls,st,en],s=>[re(...s)]],[Jt]:[3,ps,[Ls,st,en],s=>Bt(xt(...s))],InvalidCell:[3,ds],[Os+Ye]:[0,Ns,[],()=>[_t()]],[Ye]:[0,ws],[pc]:[0,xs],[Os+$t]:[1,rs,[cn],s=>[le(...s)]],[$t]:[1,k,[cn],s=>Bt(Dt(s[0]))],InvalidValue:[1,ms]},([s,e,o,i],l)=>{ss[Tc+l+Lc]=(...f)=>Ss(f[s],e[f[s+1]?1:0],s>0?Be(f,0,s):void 0,o,i)}),Fc(ss)};var qc=["db","id","ids","no","ui","ws","add","api","bun","del","dom","for","get","has","hlc","log","map","row","set","sql","use","web","yjs"],eo=(t=!1)=>{addEventListener("load",()=>{let n=_s("body > header > nav");if(n==null)return;let c=ts("div",null,{id:"search"}),r=ts("input",c,{type:"text",placeholder:(navigator.platform.startsWith("Mac")?"\u2318":"cmd-")+"K Search"}),a=ts("ol",c),T=ts("li",a,{},"No results found"),E=mn(),F=Ge(E);F.setIndexDefinition("p","p",h=>{let g=[];return h("t").split(" ").forEach(M=>{for(let C=0;C<M.length;C++)g.push(M.slice(0,C+1))}),g},"t",void 0,(h,g,M)=>Mn(g,M)-Mn(h,M)),fetch("/pages.json").then(h=>h.json()).then(h=>{E.transaction(()=>{E.setContent(h),E.forEachRow("p",g=>{let{n:M,s:C}=E.getRow("p",g),V=new Set;Nn(g,V,!0),Nn(M,V),Nn(C,V),E.setCell("p",g,"t",Array.from(V.values()).join(" "))})}),I()});let I=()=>{n.prepend(c);let h=()=>(r.value?Js:ft)(a,"show");r.addEventListener("focus",h),r.addEventListener("input",()=>{h(),y()}),r.addEventListener("blur",()=>ft(a,"show")),d()},y=()=>{let h=r.value.toLowerCase().split(/[^a-z0-9]+/),g=new Map;h.forEach(V=>F.getSliceRowIds("p",V).slice(0,50).forEach(H=>g.set(H,(g.get(H)??0)+Mn(E.getCell("p",H,"t"),V))));let M=Array.from(g.keys()).sort((V,H)=>g.get(H)-g.get(V)).slice(0,10),C=M.length==0?[T]:M.map((V,H)=>{let W=ts("li"),{n:Rs,s:cs}=E.getRow("p",V);return to(ts("b",W),Rs,h[0]),to(ts("span",W),cs,h[0]),W.title=cs,W.addEventListener("mousedown",()=>t?location.href=V:ye(V)),H==0&&Js(W,"hover"),W});a.replaceChildren(...C)},d=()=>addEventListener("keydown",h=>{if(nt.activeElement==r){let g=tt(a,".hover");switch(h.code){case"Escape":return r.blur();case"ArrowDown":return Gt(h),no(g,g?.nextSibling??a.firstChild);case"ArrowUp":return Gt(h),no(g,g?.previousSibling??a.lastChild);case"Enter":return g?.dispatchEvent(new MouseEvent("mousedown"))}}else h.code=="KeyK"&&h.metaKey&&(r.focus(),Gt(h))})})},to=(t,n,c)=>{let r=n.toLowerCase().indexOf(c);t.innerHTML=r==-1?n:n.substring(0,r)+"<em>"+n.substring(r,r+c.length)+"</em>"+n.substring(r+c.length)},no=(t,n)=>{t!=n&&(t&&ft(t,"hover"),n&&(Js(n,"hover"),n.scrollIntoView({block:"nearest",inline:"nearest"})))},Nn=(t,n,c)=>{let r=t.replaceAll(/[^a-zA-Z0-9]/g," ").split(/\s+/);c&&r.reverse(),r.forEach(a=>{[a,...a.replaceAll(/([a-z])([A-Z])/g,"$1 $2").split(" ")].forEach(T=>{let E=T.toLowerCase();(E.length>3||qc.includes(E))&&n.add(E)})})},Mn=(t,n)=>{let c=t.length,r=t.indexOf(n);return r===-1?0:(c-r)/c};pe();me();eo(!0);})();
