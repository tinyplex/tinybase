"use strict";(()=>{var we="v8.0.0-beta.1";var Ko="TinyBase",at=document,De=()=>{addEventListener("load",()=>{let t=As("#version");t.innerText=we,t.style.width=t.scrollWidth+"px"})},$o=null,_e=()=>$o??=As("body > main > nav"),Oo=null,Fe=()=>Oo??=As("body > main > article"),qt=t=>t.preventDefault(),As=t=>at.querySelector(t),rt=(t,n)=>t.querySelector(n),Zo=t=>at.getElementById(t),ts=(t,n,i={},r)=>{let l=at.createElement(t);return Object.entries(i).forEach(g=>l.setAttribute(...g)),r!=null&&(l.innerText=r),n!=null?n.appendChild(l):l},$s=(t,n)=>t.classList.add(n);var dt=(t,n)=>t.classList.remove(n);var Pe=(t,n=!0)=>{let i=_e();["?","#"].forEach(r=>{t.includes(r)&&(t=t.substring(0,t.indexOf(r)))}),fetch(`${t}nav.json`).then(r=>r.json()).then(r=>{dt(rt(i,"li.current"),"current"),Ae(r,rt(i,"ul"))}),fetch(`${t}article.html`).then(r=>r.text()).then(r=>{let l=Fe();l.innerHTML=r,l.scrollTo(0,0),Qo()}),n&&history.pushState(null,"",t)},Qo=()=>{let t=rt(Fe(),":scope iframe"),n=t?.parentElement;if(t==null||n==null)return;let i=n.insertBefore(ts("form",null,{action:"https://codepen.io/pen/define",method:"post",target:"_blank"}),t);n.insertBefore(ts("a",null,{id:"penEdit"},"Open this demo in CodePen"),t).onclick=()=>{i.childNodes.length==0?fetch("pen.json").then(r=>r.text()).then(r=>{ts("input",i,{type:"hidden",name:"data",value:r}),i.submit()}):i.submit()}},Ae=({i:t,n,u:i,r,c:l,p:g,o:E,_:z},K)=>{let N=_e(),p=Zo(t);if(p==null){p=ts("li",K,{id:t}),ts("span",p);let h=ts("a",p,{href:i});r?ts("code",h,{},n):h.innerText=n,g&&$s(p,"parent")}if(E&&$s(p,"open"),z!=null){let h=rt(p,"ul")??ts("ul",p);z.forEach(T=>{Ae(T,h)})}if(l){$s(p,"current"),at.title=`${n} | ${Ko}`;let h=p.getBoundingClientRect(),T=N.getBoundingClientRect();h.top<T.top?N.scrollBy(0,h.top-T.top):h.bottom>T.bottom&&N.scrollBy(0,Math.min(h.bottom-T.bottom,h.top-T.top))}};var Ys="dark",En="light",Sn="auto",ze=()=>{let t=matchMedia("(prefers-color-scheme: dark)"),n=()=>{let i=localStorage.getItem(Ys)??Sn;As("#dark")?.setAttribute("class",i),As("html").className=i==Ys||i==Sn&&t.matches?Ys:En};t.addEventListener("change",n),window.addEventListener("storage",i=>{i.storageArea==localStorage&&i.key==Ys&&n()}),addEventListener("load",()=>{As("#dark").addEventListener("click",()=>{let i=localStorage.getItem(Ys);localStorage.setItem(Ys,i==Ys?En:i==En?Sn:Ys),n()}),n()}),n()};var Ye=t=>typeof t;var Xo=Ye(""),Ge=t=>""+t,Io=t=>(n,i,r)=>t(n)?r?.():i(n),Gs=t=>t===void 0,be=t=>t===null,Os=Io(Gs),sc=t=>Ye(t)==Xo,St=t=>Array.isArray(t),js=t=>t.length,tc=(t,n)=>t.test(n),qe=(t,n)=>t.every(n),nc=(t,n)=>js(t)===js(n)&&qe(t,(i,r)=>n[r]===i),je=(t,n)=>qe(t,(i,r)=>r==0||n(t[r-1],i)<=0),Be=(t,n)=>t.sort(n),Zs=(t,n)=>t.forEach(n),ec=(t,n)=>t.map(n),oc=t=>js(t)==0,cc=(t,n,i)=>t.reduce(n,i),ke=(t,...n)=>t.push(...n),ic=t=>t.shift(),Je=t=>n=>cc(Cn(n),(i,r)=>i+t(r),0),Ke=t=>t?.size??0,$e=Je(Ke),rc=Je($e),lt=(t,n)=>t?.has(n)??!1,pt=t=>Gs(t)||Ke(t)==0,Cn=t=>[...t?.values()??[]],Ue=t=>t.clear(),gs=(t,n)=>t?.forEach(n),ft=(t,n)=>t?.delete(n),ac=Object,lc=ac.freeze,fc=Map,ns=t=>new fc(t),Oe=t=>[...t?.keys()??[]],q=(t,n)=>t?.get(n),Et=(t,n)=>gs(t,(i,r)=>n(r,i)),Y=(t,n,i)=>Gs(i)?(ft(t,n),t):t?.set(n,i),Ze=(t,n,i,r)=>(lt(t,n)?r?.(q(t,n)):Y(t,n,i()),q(t,n)),pn=(t,n,i,r,l=0)=>Os((i?Ze:q)(t,n[l],l>js(n)-2?i:ns),g=>{if(l>js(n)-2)return r?.(g)&&Y(t,n[l]),g;let E=pn(g,n,i,r,l+1);return pt(g)&&Y(t,n[l]),E}),bs=t=>new Set(St(t)||Gs(t)?t:[t]),zs=(t,n)=>t?.add(n),hc=(t,n,i,r,l)=>{let g=t.hasRow,E=ns(),z=ns(),K=ns(),N=ns(),p=ns(),h=ns(),T=()=>t,V=()=>Oe(E),v=d=>Et(z,d),C=d=>lt(z,d),F=d=>q(E,d),b=d=>q(z,d),ls=(d,j)=>Y(z,d,j),Ls=(d,j,...cs)=>{let Z=Ze(h,d,bs);return Zs(cs,R=>zs(Z,R)&&j&&t.callListener(R)),cs},Ts=(d,...j)=>Os(q(h,d),cs=>{Zs(oc(j)?Cn(cs):j,Z=>{t.delListener(Z),ft(cs,Z)}),pt(cs)&&Y(h,d)}),Vs=(d,j)=>{Y(E,d,j),lt(z,d)||(Y(z,d,n()),Y(N,d,ns()),Y(p,d,ns()),l(K))},nt=(d,j,cs,Z,R)=>{Vs(d,j);let G=ns(),Q=ns(),X=q(N,d),fs=q(p,d),ds=P=>{let $=Es=>t.getCell(j,P,Es),I=q(X,P),ps=g(j,P)?i(Z($,P)):void 0;if(I===ps||St(I)&&St(ps)&&nc(I,ps)||Y(G,P,[I,ps]),!Gs(R)){let Es=q(fs,P),Ns=g(j,P)?R($,P):void 0;Es!=Ns&&Y(Q,P,Ns)}},is=P=>{cs(()=>{gs(G,([,$],I)=>Y(X,I,$)),gs(Q,($,I)=>Y(fs,I,$))},G,Q,X,fs,P),Ue(G),Ue(Q)};Et(X,ds),t.hasTable(j)&&Zs(t.getRowIds(j),P=>{lt(X,P)||ds(P)}),is(!0),Ts(d),Ls(d,0,t.addRowListener(j,null,(P,$,I)=>ds(I)),t.addTableListener(j,()=>is()))},ws=d=>{Y(E,d),Y(z,d),Y(N,d),Y(p,d),Ts(d),l(K)};return[T,V,v,C,F,b,ls,Vs,nt,ws,d=>r(d,K),()=>Et(h,ws),Ls,Ts]},We=(t,n)=>sc(t)?i=>i(t):t??(()=>n??""),uc=(t,n)=>{let i=new WeakMap;return r=>(i.has(r)||i.set(r,t(r)),i.get(r))},gc=(t,n)=>(t??0)<(n??0)?-1:1,Lc=/^\d+$/,Tc=()=>{let t=[],n=0;return[i=>(i?ic(t):null)??""+n++,i=>{tc(Lc,i)&&js(t)<1e3&&ke(t,i)}]},dc=(t,n=[""])=>{let i=[],r=(l,g)=>g==js(n)?ke(i,l):be(n[g])?gs(l,E=>r(E,g+1)):Zs([n[g],null],E=>r(q(l,E),g+1));return r(t,0),i},Ec=t=>{let n,[i,r]=Tc(),l=ns();return[(N,p,h,T=[],V=()=>[])=>{n??=t();let v=i(1);return Y(l,v,[N,p,h,T,V]),zs(pn(p,h??[""],bs),v),v},(N,p,...h)=>Zs(dc(N,p),T=>gs(T,V=>q(l,V)[0](n,...p??[],...h))),N=>Os(q(l,N),([,p,h])=>(pn(p,h??[""],void 0,T=>(ft(T,N),pt(T)?1:0)),Y(l,N),r(N),h)),N=>Os(q(l,N),([p,,h=[],T,V])=>{let v=(...C)=>{let F=js(C);F==js(h)?p(n,...C,...V(C)):be(h[F])?Zs(T[F]?.(...C)??[],b=>v(...C,b)):v(...C,h[F])};v()})]},Qe=uc(t=>{let n=ns(),i=ns(),[r,l,g]=Ec(()=>Z),[E,z,K,N,p,h,T,,V,v,C,F]=hc(t,ns,R=>Gs(R)?"":St(R)?ec(R,Ge):Ge(R),r,l),b=(R,G)=>lt(h(R),G),ls=(R,G,Q,X,fs,ds=gc)=>{let is=Gs(fs)?void 0:([P],[$])=>fs(P,$);return V(R,G,(P,$,I,ps,Es,Ns)=>{let Ms=0,_s=bs(),Fs=bs(),rs=h(R);if(gs($,([k,hs],Cs)=>{let Rs=bs(k),ys=bs(hs);gs(Rs,H=>ft(ys,H)?ft(Rs,H):0),gs(Rs,H=>{zs(_s,H),Os(q(rs,H),xt=>{ft(xt,Cs),pt(xt)&&(Y(rs,H),Ms=1)})}),gs(ys,H=>{zs(_s,H),lt(rs,H)||(Y(rs,H,bs()),Ms=1),zs(q(rs,H),Cs),Gs(X)||zs(Fs,H)})}),P(),pt(Es)||(Ns?Et(rs,k=>zs(Fs,k)):Et(I,k=>Os(q(ps,k),hs=>Zs(St(hs)?hs:[hs],Cs=>zs(Fs,Cs)))),gs(Fs,k=>{let hs=(Rs,ys)=>ds(q(Es,Rs),q(Es,ys),k),Cs=[...q(rs,k)];je(Cs,hs)||(Y(rs,k,bs(Be(Cs,hs))),zs(_s,k))})),(Ms||Ns)&&!Gs(is)){let k=[...rs];je(k,is)||(T(R,ns(Be(k,is))),Ms=1)}Ms&&l(n,[R]),gs(_s,k=>l(i,[R,k]))},We(Q),Os(X,We)),Z},Ls=R=>K((G,Q)=>R(G,X=>Vs(G,X,Q))),Ts=(R,G)=>Vs(R,G,h(R)),Vs=(R,G,Q)=>{let X=p(R);gs(Q,(fs,ds)=>G(ds,is=>gs(fs,P=>is(P,$=>t.forEachCell(X,P,$)))))},Z={setIndexDefinition:ls,delIndexDefinition:R=>(v(R),Z),getStore:E,getIndexIds:z,forEachIndex:Ls,forEachSlice:Ts,hasIndex:N,hasSlice:b,getTableId:p,getSliceIds:R=>Oe(h(R)),getSliceRowIds:(R,G)=>Cn(q(h(R),G)),addIndexIdsListener:C,addSliceIdsListener:(R,G)=>r(G,n,[R]),addSliceRowIdsListener:(R,G,Q)=>r(Q,i,[R,G]),delListener:R=>(g(R),Z),destroy:F,getListenerStats:()=>({sliceIds:$e(n),sliceRowIds:rc(i)})};return lc(Z)});var tt=t=>typeof t;var Sc=tt(""),pc=tt(!0),co=tt(0),Cc=tt(tt),kt="type",Bs="default",Jt="allowNull",Rc="null",yc="Listener",mc="add",Qs="Has",on="Ids",gt="Table",Xe=gt+"s",Vc=gt+on,Xt="Row",Nc=Xt+"Count",Mc=Xt+on,Qt="Cell",Ie=Qt+on,It="Value",so=It+"s",vc=It+on,_=t=>""+t,io=t=>(n,i,r)=>t(n)?r?.():i(n),xc=globalThis,Hc=isFinite,wc=(t,n)=>t instanceof n,sn=t=>t==null,os=t=>t===void 0,Is=t=>t===null,Dc=io(sn),A=io(os),ro=t=>t==Sc||t==pc,Rn=t=>tt(t)==Cc,ao=t=>Array.isArray(t),to=(t,n,i)=>t.slice(n,i),Hs=t=>t.length,_c=(t,n)=>t.test(n),ht=xc.structuredClone,yn=async(t,n,i)=>{try{return await t()}catch(r){n?.(r)}},Fc=(t,n)=>t.includes(n),lo=(t,n)=>t.every(n),Pc=(t,n)=>Hs(t)===Hs(n)&&lo(t,(i,r)=>n[r]===i),Ac=(t,n)=>t.sort(n),vt=(t,n)=>t.forEach(n),tn=(t,n)=>t.map(n),zc=(t,n,i)=>t.reduce(n,i),nn=(t,...n)=>t.push(...n),Gc=t=>t.shift(),Ct=t=>{if(Is(t))return Rc;let n=tt(t);return ro(n)||n==co&&Hc(t)?n:void 0},wn=t=>n=>zc(jc(n),(i,r)=>i+t(r),0),Dn=t=>t?.size??0,_n=wn(Dn),mt=wn(_n),mn=wn(mt),es=(t,n)=>t?.has(n)??!1,y=t=>os(t)||Dn(t)==0,jc=t=>[...t?.values()??[]],Vn=t=>t.clear(),x=(t,n)=>t?.forEach(n),en=(t,n)=>t?.delete(n),Js=Object,no=t=>Js.getPrototypeOf(t),Bc=Js.isFrozen,Fn=Js.entries,Lt=t=>!sn(t)&&Dc(no(t),n=>n==Js.prototype||sn(no(n)),()=>!0),Uc=Js.keys,Wc=Js.freeze,Yc=(t=[])=>Js.fromEntries(t),Vt=(t,n)=>n in t,fo=(t,n)=>(delete t[n],t),bc=(t,n)=>vt(Fn(t),([i,r])=>n(r,i)),qc=(t,n)=>tn(Fn(t),([i,r])=>n(r,i)),Us=(t,n)=>Yc(qc(t,(i,r)=>[r,n(i,r)])),ho=t=>Hs(Uc(t)),xs=t=>Lt(t)&&ho(t)==0,st=(t,n,i=(r,l)=>r===l)=>{let r=Fn(t);return Hs(r)===ho(n)&&lo(r,([l,g])=>Lt(g)?Lt(n[l])?st(n[l],g):!1:i(g,n[l]))},qs=(t,n,i,r=0)=>sn(t)||!Lt(t)||!r&&xs(t)||Bc(t)?(i?.(),!1):(bc(t,(l,g)=>{n(l,g)||fo(t,g)}),r?!0:!xs(t)),kc=Map,m=t=>new kc(t),Rt=t=>[...t?.keys()??[]],L=(t,n)=>t?.get(n),ks=(t,n)=>x(t,(i,r)=>n(r,i)),Jc=(t,n)=>tn([...t?.entries()??[]],([i,r])=>n(r,i)),w=(t,n,i)=>os(i)?(en(t,n),t):t?.set(n,i),O=(t,n,i,r)=>(es(t,n)?r?.(L(t,n)):w(t,n,i()),L(t,n)),Xs=(t,n,i,r=w)=>(Us(n,(l,g)=>i(t,g,l)),ks(t,l=>Vt(n,l)?0:r(t,l)),t),as=(t,n,i,r)=>{let l={};return x(t,(g,E)=>{if(!i?.(g,E)){let z=n?n(g,E):g;r?.(z)||(l[E]=z)}}),l},Mn=(t,n,i)=>as(t,r=>as(r,n,i),y,xs),Kt=(t,n,i)=>as(t,r=>Mn(r,n,i),y,xs),ms=(t,n)=>{let i=m();return x(t,(r,l)=>i.set(l,n?.(r)??r)),i},vn=t=>ms(t,ms),eo=t=>ms(t,vn),xn=(t,n,i,r,l=0)=>A((i?O:L)(t,n[l],l>Hs(n)-2?i:m),g=>{if(l>Hs(n)-2)return r?.(g)&&w(t,n[l]),g;let E=xn(g,n,i,r,l+1);return y(g)&&w(t,n[l]),E}),Kc=JSON.stringify,Nn=JSON.parse,ut=t=>Kc(t,(n,i)=>wc(i,Map)?Js.fromEntries([...i]):i),$c=(t,n)=>(t??0)<(n??0)?-1:1,Oc=/^\d+$/,Hn=()=>{let t=[],n=0;return[i=>(i?Gc(t):null)??""+n++,i=>{_c(Oc,i)&&Hs(t)<1e3&&nn(t,i)}]},Nt=t=>new Set(ao(t)||os(t)?t:[t]),Mt=(t,n)=>t?.add(n),Zc=(t,n=[""])=>{let i=[],r=(l,g)=>g==Hs(n)?nn(i,l):Is(n[g])?x(l,E=>r(E,g+1)):vt([n[g],null],E=>r(L(l,E),g+1));return r(t,0),i},Qc=t=>{let n,[i,r]=Hn(),l=m();return[(N,p,h,T=[],V=()=>[])=>{n??=t();let v=i(1);return w(l,v,[N,p,h,T,V]),Mt(xn(p,h??[""],Nt),v),v},(N,p,...h)=>vt(Zc(N,p),T=>x(T,V=>L(l,V)[0](n,...p??[],...h))),N=>A(L(l,N),([,p,h])=>(xn(p,h??[""],void 0,T=>(en(T,N),y(T)?1:0)),w(l,N),r(N),h)),N=>A(L(l,N),([p,,h=[],T,V])=>{let v=(...C)=>{let F=Hs(C);F==Hs(h)?p(n,...C,...V(C)):Is(h[F])?vt(T[F]?.(...C)??[],b=>v(...C,b)):v(...C,h[F])};v()})]},$t=t=>[t,t],U=(t,n=_n)=>n(t[0])+n(t[1]),W=()=>[m(),m()],Ot=t=>[...t],Zt=([t,n])=>t===n,yt=(t,n,i)=>w(t,n,L(t,n)==-i?void 0:i),oo=([t,n],[i,r])=>st(t,i)&&st(n,r),Pn=()=>{let t,n,i=!1,r=!1,l=0,g=[],E=[],z=0,K=m(),N=m(),p=m(),h=m(),T=m(),V=m(),v=m(),C=m(),F=m(),b=m(),ls=m(),Ls=m(),Ts=m(),Vs=m(),nt=Nt(),ws=m(),Ds=m(),D=m(),d=m(),j=W(),cs=W(),Z=W(),R=W(),G=W(),Q=W(),X=W(),fs=W(),ds=W(),is=W(),P=W(),$=W(),I=W(),ps=W(),Es=W(),Ns=W(),Ms=W(),_s=W(),Fs=W(),rs=W(),k=W(),hs=W(),Cs=m(),Rs=W(),[ys,H,xt,To]=Qc(()=>Ss),ss=s=>{let e=z;z=1;let o=s();return z=e,o},Ws=(s,e,o,c=Object.is)=>A(e(),a=>s===a||c(s,a)?o(a):ss(()=>o(a))),Eo=s=>qs(s,e=>qs(e,Gn)),So=s=>qs(s,Gn),Gn=s=>{if(!qs(s,(c,a)=>Fc([kt,Bs,Jt],a)))return!1;let e=s[kt];if(!ro(e)&&e!=co)return!1;let o=s[Bs];return Is(o)&&!s[Jt]?!1:(!Is(o)&&Ct(o)!=e&&fo(s,Bs),!0)},po=ao,Co=s=>qs(s,jn,Ps),jn=(s,e)=>(!t||es(ls,e)||Ps(e))&&qs(s,(o,c)=>Ht(e,c,o),()=>Ps(e)),Ht=(s,e,o,c)=>qs(c?o:Yn(o,s,e),(a,f)=>A(Bn(s,e,f,a),u=>(o[f]=u,!0),()=>!1),()=>Ps(s,e)),Bn=(s,e,o,c)=>t?A(L(L(ls,s),o),a=>Is(c)?a[Jt]?c:Ps(s,e,o,c,a[Bs]):Ct(c)==a[kt]?c:Ps(s,e,o,c,a[Bs]),()=>Ps(s,e,o,c)):os(Ct(c))?Ps(s,e,o,c):c,Un=(s,e)=>qs(e?s:Ro(s),(o,c)=>A(Wn(c,o),a=>(s[c]=a,!0),()=>!1),()=>et()),Wn=(s,e)=>n?A(L(Ts,s),o=>Is(e)?o[Jt]?e:et(s,e,o[Bs]):Ct(e)==o[kt]?e:et(s,e,o[Bs]),()=>et(s,e)):os(Ct(e))?et(s,e):e,Yn=(s,e,o)=>(A(L(Ls,e),([c,a])=>{x(c,(f,u)=>{Vt(s,u)||(s[u]=f)}),x(a,f=>{Vt(s,f)||Ps(e,o,f)})}),s),Ro=s=>(n&&(x(Vs,(e,o)=>{Vt(s,o)||(s[o]=e)}),x(nt,e=>{Vt(s,e)||et(e)})),s),bn=s=>Xs(ls,s,(e,o,c)=>{let a=m(),f=Nt();Xs(O(ls,o,m),c,(u,S,M)=>{w(u,S,M),A(M[Bs],J=>w(a,S,J),()=>Mt(f,S))}),w(Ls,o,[a,f])},(e,o)=>{w(ls,o),w(Ls,o)}),qn=s=>Xs(Ts,s,(e,o,c)=>{w(Ts,o,c),A(c[Bs],a=>w(Vs,o,a),()=>Mt(nt,o))},(e,o)=>{w(Ts,o),w(Vs,o),en(nt,o)}),kn=s=>xs(s)?Yt():Ut(s),cn=(s,e,o,c,a)=>os(c)?Ve(s,e,o,!0,a):Ee(s,e,o,c,a),Jn=s=>xs(s)?bt():Wt(s),rn=(s,e,o)=>os(e)?Ne(s,o):Se(s,e,o),yo=s=>Ws(s,()=>A(g[0],e=>ss(()=>e(ht(s))),()=>s),([e,o])=>{(xs(e)?Yt:Ut)(e),(xs(o)?bt:Wt)(o)},oo),Kn=(s,e)=>Ws(s,()=>e?s:A(g[1],o=>ss(()=>o(ht(s))),()=>s),o=>Xs(D,o,(c,a,f)=>an(a,f),(c,a)=>Zn(a)),st),an=(s,e,o)=>Ws(e,()=>o?e:A(g[2],c=>ss(()=>c(s,ht(e))),()=>e),c=>Xs(O(D,s,()=>(ln(s,1),w(ws,s,Hn()),w(Ds,s,m()),m())),c,(a,f,u)=>wt(s,a,f,u),(a,f)=>Qn(s,a,f)),st),wt=(s,e,o,c,a)=>Ws(c,()=>a?c:A(g[3],f=>ss(()=>f(s,o,ht(c))),()=>c),f=>Xs(O(e,o,()=>(fn(s,o,1),m())),f,(u,S,M)=>Dt(s,o,u,S,M),(u,S)=>Xn(s,e,o,u,S,a)),st),Dt=(s,e,o,c,a,f)=>Ws(a,()=>A(f?void 0:g[4],u=>ss(()=>u(s,e,c,a)),()=>a),u=>{es(o,c)||se(s,e,c,1);let S=L(o,c);u!==S&&(te(s,e,c,S,u),w(o,c,u))}),$n=(s,e,o,c,a,f)=>A(L(e,o),u=>Dt(s,o,u,c,a,f),()=>{let u=m();w(e,o,u),fn(s,o,1),Us(Yn({[c]:a},s,o),(S,M)=>Dt(s,o,u,M,S,f))}),On=(s,e)=>Ws(s,()=>e?s:A(g[5],o=>ss(()=>o(ht(s))),()=>s),o=>Xs(d,o,(c,a,f)=>_t(a,f),(c,a)=>In(a)),st),_t=(s,e,o)=>Ws(e,()=>A(o?void 0:g[6],c=>ss(()=>c(s,e)),()=>e),c=>{es(d,s)||ne(s,1);let a=L(d,s);c!==a&&(ee(s,a,c),w(d,s,c))}),mo=(s,e)=>{let[o]=L(ws,s),c;do c=o(e);while(es(L(D,s),c));return c},Ft=s=>O(D,s,()=>(ln(s,1),w(ws,s,Hn()),w(Ds,s,m()),m())),Zn=s=>ss(()=>g[8]?.(s))??!0?an(s,{},!0):L(D,s),Qn=(s,e,o)=>{if(ss(()=>g[9]?.(s,o))??!0){let[,c]=L(ws,s);c(o),wt(s,e,o,{},!0)}},Xn=(s,e,o,c,a,f,u)=>{let S=L(L(Ls,s)?.[0],a);if(!os(S)&&!f)return Dt(s,o,c,a,S);if(u||(ss(()=>g[10]?.(s,o,a))??!0)){let M=J=>{te(s,o,J,L(c,J)),se(s,o,J,-1),w(c,J)};os(S)?M(a):ks(c,M),y(c)&&(fn(s,o,-1),y(w(e,o))&&(ln(s,-1),w(D,s),w(ws,s),w(Ds,s)))}},In=(s,e)=>{let o=L(Vs,s);if(!os(o))return _t(s,o);(e||(ss(()=>g[12]?.(s))??!0))&&(ee(s,L(d,s)),ne(s,-1),w(d,s))},ln=(s,e)=>yt(K,s,e),fn=(s,e,o)=>yt(O(h,s,m),e,o)&&w(p,s,O(p,s,()=>0)+o),se=(s,e,o,c)=>{let a=L(Ds,s),f=L(a,o)??0;(f==0&&c==1||f==1&&c==-1)&&yt(O(N,s,m),o,c),w(a,o,f!=-c?f+c:void 0),yt(O(O(T,s,m),e,m),o,c)},te=(s,e,o,c,a)=>{O(O(O(V,s,m),e,m),o,()=>[c,0])[1]=a,E[3]?.(s,e,o,a,z)},ne=(s,e)=>yt(v,s,e),ee=(s,e,o)=>{O(C,s,()=>[e,0])[1]=o,E[4]?.(s,o,z)},Ps=(s,e,o,c,a)=>(nn(O(O(O(F,s,m),e,m),o,()=>[]),c),a),et=(s,e,o)=>(nn(O(b,s,()=>[]),e),o),Pt=(s,e,o)=>A(L(L(L(V,s),e),o),([c,a])=>[!0,c,a],()=>[!1,...$t(zt(s,e,o))]),oe=s=>A(L(C,s),([e,o])=>[!0,e,o],()=>[!1,...$t(Gt(s))]),ce=s=>!y(F)&&!y(Ns[s])?x(s?eo(F):F,(e,o)=>x(e,(c,a)=>x(c,(f,u)=>H(Ns[s],[o,a,u],f)))):0,ie=s=>!y(b)&&!y(Ms[s])?x(s?ms(b):b,(e,o)=>H(Ms[s],[o],e)):0,Tt=(s,e,o,c)=>{if(!y(s))return H(e,c,()=>as(s)),ks(s,(a,f)=>H(o,[...c??[],a],f==1)),1},re=s=>{let e=!y(j[s]),o=!y(is[s]),c=!(y(I[s])&&y(ps[s])&&y(ds[s])&&y(P[s])&&y(Q[s])&&y(X[s])&&y(fs[s])&&!o&&y(Z[s])&&y(R[s])),a=!(y(Es[s])&&y($[s])&&y(G[s])&&y(cs[s]));if(e||c||a){let f=s?[ms(K),vn(N),ms(p),vn(h),eo(T),ms(V,u=>ms(u,S=>ms(S,Ot)))]:[K,N,p,h,T,V];if(e){let u=jt();u!=i&&H(j[s],void 0,u)}if(c){Tt(f[0],Z[s],R[s]),x(f[1],(S,M)=>Tt(S,Q[s],X[s],[M])),x(f[2],(S,M)=>{S!=0&&H(fs[s],[M],he(M))});let u=Nt();x(f[3],(S,M)=>{Tt(S,ds[s],P[s],[M])&&o&&(H(is[s],[M,null]),Mt(u,M))}),o&&x(f[5],(S,M)=>{if(!es(u,M)){let J=Nt();x(S,vs=>x(vs,([ct,it],Ks)=>it!==ct?Mt(J,Ks):en(vs,Ks))),x(J,vs=>H(is[s],[M,vs]))}}),x(f[4],(S,M)=>x(S,(J,vs)=>Tt(J,I[s],ps[s],[M,vs])))}if(a){let u;x(f[5],(S,M)=>{let J;x(S,(vs,ct)=>{let it;x(vs,([Ks,He],Jo)=>{He!==Ks&&(H(Es[s],[M,ct,Jo],He,Ks,Pt),u=J=it=1)}),it&&H($[s],[M,ct],Pt)}),J&&H(G[s],[M],Pt)}),u&&H(cs[s],void 0,Pt)}}},ae=s=>{let e=!y(_s[s]),o=!y(rs[s])||!y(k[s]),c=!y(hs[s])||!y(Fs[s]);if(e||o||c){let a=s?[ms(v),ms(C,Ot)]:[v,C];if(e){let f=Bt();f!=r&&H(_s[s],void 0,f)}if(o&&Tt(a[0],rs[s],k[s]),c){let f;x(a[1],([u,S],M)=>{S!==u&&(H(hs[s],[M],S,u,oe),f=1)}),f&&H(Fs[s],void 0,oe)}}},B=(s,...e)=>(dn(()=>s(...tn(e,_))),Ss),le=(s,e,o,c,a)=>{let f=At(s,e,...o);return ys(()=>{let u=At(s,e,...o);Pc(u,f)||(f=u,c(Ss,s,e,...o,f))},is[a?1:0],[s,e],[us])},Vo=()=>[hn(),gn()],hn=()=>Kt(D),us=()=>Rt(D),No=s=>Mn(L(D,_(s))),fe=s=>Rt(L(Ds,_(s))),he=s=>Dn(L(D,_(s))),ot=s=>Rt(L(D,_(s))),At=(s,e,o,c=0,a)=>Lt(s)?At(s.tableId,s.cellId,s.descending,s.offset,s.limit):tn(to(Ac(Jc(L(D,_(s)),(f,u)=>[os(e)?u:L(f,_(e)),u]),([f],[u])=>$c(f,u)*(o?-1:1)),c,os(a)?a:c+a),([,f])=>f),Mo=(s,e)=>as(L(L(D,_(s)),_(e))),un=(s,e)=>Rt(L(L(D,_(s)),_(e))),zt=(s,e,o)=>L(L(L(D,_(s)),_(e)),_(o)),gn=()=>as(d),Ln=()=>Rt(d),Gt=s=>L(d,_(s)),jt=()=>!y(D),ue=s=>es(D,_(s)),ge=(s,e)=>es(L(Ds,_(s)),_(e)),Le=(s,e)=>es(L(D,_(s)),_(e)),Te=(s,e,o)=>es(L(L(D,_(s)),_(e)),_(o)),Bt=()=>!y(d),de=s=>es(d,_(s)),vo=()=>ut(D),xo=()=>ut(d),Ho=()=>ut([D,d]),wo=()=>ut(ls),Do=()=>ut(Ts),_o=()=>ut([ls,Ts]),Fo=s=>B(()=>{let e=Rn(s)?s():s;po(e)&&yo(e)}),Ut=s=>B(()=>Co(s)?Kn(s):0),Po=(s,e)=>B(o=>jn(e,o)?an(o,e):0,s),Ao=(s,e,o)=>B((c,a)=>Ht(c,a,o)?wt(c,Ft(c),a,o):0,s,e),zo=(s,e,o=!0)=>dn(()=>{let c;return Ht(s,c,e)&&(s=_(s),wt(s,Ft(s),c=mo(s,o?1:0),e)),c}),Go=(s,e,o)=>B((c,a)=>{if(Ht(c,a,o,1)){let f=Ft(c);Us(o,(u,S)=>$n(c,f,a,S,u))}},s,e),Ee=(s,e,o,c,a)=>B((f,u,S)=>A(Bn(f,u,S,Rn(c)?c(zt(f,u,S)):c),M=>$n(f,Ft(f),u,S,M,a)),s,e,o),Wt=s=>B(()=>Un(s)?On(s):0),jo=s=>B(()=>Un(s,1)?Us(s,(e,o)=>_t(o,e)):0),Se=(s,e,o)=>B(c=>A(Wn(c,Rn(e)?e(Gt(c)):e),a=>_t(c,a,o)),s),Bo=s=>B(()=>Ws(s,()=>A(g[13],e=>ss(()=>e(ht(s))),()=>s),e=>{Us(e[0],(o,c)=>os(o)?ye(c):Us(o,(a,f)=>os(a)?me(c,f):Us(a,(u,S)=>cn(c,f,S,u)))),Us(e[1],(o,c)=>rn(c,o))},oo)),pe=s=>(yn(()=>kn(Nn(s))),Ss),Uo=s=>(yn(()=>Jn(Nn(s))),Ss),Wo=s=>B(()=>yn(()=>{let[e,o]=Nn(s);kn(e),Jn(o)},()=>pe(s))),Ce=s=>B(()=>{if((t=Eo(s))&&(bn(s),!y(D))){let e=hn();Yt(),Ut(e)}}),Re=s=>B(()=>{if(n=So(s)){let e=gn();Tn(),bt(),n=!0,qn(s),Wt(e)}}),Yo=(s,e)=>B(()=>{Ce(s),Re(e)}),Yt=()=>B(()=>ss(()=>g[7]?.())??!0?Kn({},!0):0),ye=s=>B(e=>es(D,e)?Zn(e):0,s),me=(s,e)=>B((o,c)=>A(L(D,o),a=>es(a,c)?Qn(o,a,c):0),s,e),Ve=(s,e,o,c,a)=>B((f,u,S)=>A(L(D,f),M=>A(L(M,u),J=>es(J,S)?Xn(f,M,u,J,S,c,a):0)),s,e,o),bt=()=>B(()=>ss(()=>g[11]?.())??!0?On({},!0):0),Ne=(s,e)=>B(o=>es(d,o)?In(o,e):0,s),Me=()=>B(()=>{bn({}),t=!1}),Tn=()=>B(()=>{qn({}),n=!1}),bo=()=>B(()=>{Me(),Tn()}),dn=(s,e)=>{if(l!=-1){ve();let o=s();return xe(e),o}},ve=()=>(l!=-1&&l++,l==1&&(E[0]?.(),H(Cs)),Ss),qo=()=>[as(V,(s,e)=>L(K,e)===-1?void 0:as(s,(o,c)=>L(L(h,e),c)===-1?void 0:as(o,([,a])=>a,a=>Zt(a)),y,xs),y,xs),as(C,([,s])=>s,s=>Zt(s)),1],ko=()=>[!y(V),!y(C),Kt(V,Ot,Zt),Kt(F),as(C,Ot,Zt),as(b),as(K),Mn(h),Kt(T),as(v)],xe=s=>(l>0&&(l--,l==0&&(l=1,ss(()=>{ce(1),y(V)||re(1),ie(1),y(C)||ae(1)}),s?.(Ss)&&(x(V,(e,o)=>x(e,(c,a)=>x(c,([f],u)=>cn(o,a,u,f,!0)))),Vn(V),x(C,([e],o)=>rn(o,e,!0)),Vn(C)),H(Rs[0],void 0),l=-1,ce(0),y(V)||re(0),ie(0),y(C)||ae(0),E[1]?.(),H(Rs[1],void 0),E[2]?.(),l=0,i=jt(),r=Bt(),vt([K,N,p,h,T,V,F,v,C,b],Vn))),Ss),Ss={getContent:Vo,getTables:hn,getTableIds:us,getTable:No,getTableCellIds:fe,getRowCount:he,getRowIds:ot,getSortedRowIds:At,getRow:Mo,getCellIds:un,getCell:zt,getValues:gn,getValueIds:Ln,getValue:Gt,hasTables:jt,hasTable:ue,hasTableCell:ge,hasRow:Le,hasCell:Te,hasValues:Bt,hasValue:de,getTablesJson:vo,getValuesJson:xo,getJson:Ho,getTablesSchemaJson:wo,getValuesSchemaJson:Do,getSchemaJson:_o,hasTablesSchema:()=>t,hasValuesSchema:()=>n,setContent:Fo,setTables:Ut,setTable:Po,setRow:Ao,addRow:zo,setPartialRow:Go,setCell:Ee,setValues:Wt,setPartialValues:jo,setValue:Se,applyChanges:Bo,setTablesJson:pe,setValuesJson:Uo,setJson:Wo,setTablesSchema:Ce,setValuesSchema:Re,setSchema:Yo,delTables:Yt,delTable:ye,delRow:me,delCell:Ve,delValues:bt,delValue:Ne,delTablesSchema:Me,delValuesSchema:Tn,delSchema:bo,transaction:dn,startTransaction:ve,getTransactionChanges:qo,getTransactionLog:ko,finishTransaction:xe,forEachTable:s=>x(D,(e,o)=>s(o,c=>x(e,(a,f)=>c(f,u=>ks(a,u))))),forEachTableCell:(s,e)=>ks(L(Ds,_(s)),e),forEachRow:(s,e)=>x(L(D,_(s)),(o,c)=>e(c,a=>ks(o,a))),forEachCell:(s,e,o)=>ks(L(L(D,_(s)),_(e)),o),forEachValue:s=>ks(d,s),addSortedRowIdsListener:(s,e,o,c,a,f,u)=>Lt(s)?le(s.tableId,s.cellId,[s.descending??!1,s.offset??0,s.limit],e,o):le(s,e,[o,c,a],f,u),addStartTransactionListener:s=>ys(s,Cs),addWillFinishTransactionListener:s=>ys(s,Rs[0]),addDidFinishTransactionListener:s=>ys(s,Rs[1]),callListener:s=>(To(s),Ss),delListener:s=>(xt(s),Ss),getListenerStats:()=>({hasTables:U(j),tables:U(cs),tableIds:U(Z),hasTable:U(R),table:U(G),tableCellIds:U(Q),hasTableCell:U(X,mt),rowCount:U(fs),rowIds:U(ds),sortedRowIds:U(is),hasRow:U(P,mt),row:U($,mt),cellIds:U(I,mt),hasCell:U(ps,mn),cell:U(Es,mn),invalidCell:U(Ns,mn),hasValues:U(_s),values:U(Fs),valueIds:U(rs),hasValue:U(k),value:U(hs),invalidValue:U(Ms),transaction:_n(Cs)+U(Rs)}),isMergeable:()=>!1,createStore:Pn,addListener:ys,callListeners:H,setInternalListeners:(s,e,o,c,a)=>E=[s,e,o,c,a],setMiddleware:(s,e,o,c,a,f,u,S,M,J,vs,ct,it,Ks)=>g=[s,e,o,c,a,f,u,S,M,J,vs,ct,it,Ks],setOrDelCell:cn,setOrDelValue:rn};return Us({[Qs+Xe]:[0,j,[],()=>[jt()]],[Xe]:[0,cs],[Vc]:[0,Z],[Qs+gt]:[1,R,[us],s=>[ue(...s)]],[gt]:[1,G,[us]],[gt+Ie]:[1,Q,[us]],[Qs+gt+Qt]:[2,X,[us,fe],s=>[ge(...s)]],[Nc]:[1,fs,[us]],[Mc]:[1,ds,[us]],[Qs+Xt]:[2,P,[us,ot],s=>[Le(...s)]],[Xt]:[2,$,[us,ot]],[Ie]:[2,I,[us,ot]],[Qs+Qt]:[3,ps,[us,ot,un],s=>[Te(...s)]],[Qt]:[3,Es,[us,ot,un],s=>$t(zt(...s))],InvalidCell:[3,Ns],[Qs+so]:[0,_s,[],()=>[Bt()]],[so]:[0,Fs],[vc]:[0,rs],[Qs+It]:[1,k,[Ln],s=>[de(...s)]],[It]:[1,hs,[Ln],s=>$t(Gt(s[0]))],InvalidValue:[1,Ms]},([s,e,o,c],a)=>{Ss[mc+a+yc]=(...f)=>ys(f[s],e[f[s+1]?1:0],s>0?to(f,0,s):void 0,o,c)}),Wc(Ss)};var Xc=["db","id","ids","no","ui","ws","add","api","bun","del","dom","for","get","has","hlc","log","map","row","set","sql","use","web","yjs"],Lo=(t=!1)=>{addEventListener("load",()=>{let n=As("body > header > nav");if(n==null)return;let i=ts("div",null,{id:"search"}),r=ts("input",i,{type:"text",placeholder:(navigator.platform.startsWith("Mac")?"\u2318":"cmd-")+"K Search"}),l=ts("ol",i),g=ts("li",l,{},"No results found"),E=Pn(),z=Qe(E);z.setIndexDefinition("p","p",h=>{let T=[];return h("t").split(" ").forEach(V=>{for(let v=0;v<V.length;v++)T.push(V.slice(0,v+1))}),T},"t",void 0,(h,T,V)=>zn(T,V)-zn(h,V)),fetch("/pages.json").then(h=>h.json()).then(h=>{E.transaction(()=>{E.setContent(h),E.forEachRow("p",T=>{let{n:V,s:v}=E.getRow("p",T),C=new Set;An(T,C,!0),An(V,C),An(v,C),E.setCell("p",T,"t",Array.from(C.values()).join(" "))})}),K()});let K=()=>{n.prepend(i);let h=()=>(r.value?$s:dt)(l,"show");r.addEventListener("focus",h),r.addEventListener("input",()=>{h(),N()}),r.addEventListener("blur",()=>dt(l,"show")),p()},N=()=>{let h=r.value.toLowerCase().split(/[^a-z0-9]+/),T=new Map;h.forEach(C=>z.getSliceRowIds("p",C).slice(0,50).forEach(F=>T.set(F,(T.get(F)??0)+zn(E.getCell("p",F,"t"),C))));let V=Array.from(T.keys()).sort((C,F)=>T.get(F)-T.get(C)).slice(0,10),v=V.length==0?[g]:V.map((C,F)=>{let b=ts("li"),{n:ls,s:Ls}=E.getRow("p",C);return uo(ts("b",b),ls,h[0]),uo(ts("span",b),Ls,h[0]),b.title=Ls,b.addEventListener("mousedown",()=>t?location.href=C:Pe(C)),F==0&&$s(b,"hover"),b});l.replaceChildren(...v)},p=()=>addEventListener("keydown",h=>{if(at.activeElement==r){let T=rt(l,".hover");switch(h.code){case"Escape":return r.blur();case"ArrowDown":return qt(h),go(T,T?.nextSibling??l.firstChild);case"ArrowUp":return qt(h),go(T,T?.previousSibling??l.lastChild);case"Enter":return T?.dispatchEvent(new MouseEvent("mousedown"))}}else h.code=="KeyK"&&h.metaKey&&(r.focus(),qt(h))})})},uo=(t,n,i)=>{let r=n.toLowerCase().indexOf(i);t.innerHTML=r==-1?n:n.substring(0,r)+"<em>"+n.substring(r,r+i.length)+"</em>"+n.substring(r+i.length)},go=(t,n)=>{t!=n&&(t&&dt(t,"hover"),n&&($s(n,"hover"),n.scrollIntoView({block:"nearest",inline:"nearest"})))},An=(t,n,i)=>{let r=t.replaceAll(/[^a-zA-Z0-9]/g," ").split(/\s+/);i&&r.reverse(),r.forEach(l=>{[l,...l.replaceAll(/([a-z])([A-Z])/g,"$1 $2").split(" ")].forEach(g=>{let E=g.toLowerCase();(E.length>3||Xc.includes(E))&&n.add(E)})})},zn=(t,n)=>{let i=t.length,r=t.indexOf(n);return r===-1?0:(i-r)/i};De();ze();Lo(!0);})();
