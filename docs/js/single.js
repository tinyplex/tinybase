"use strict";(()=>{var M=document,c=t=>M.querySelector(t);var L=t=>M.getElementById(t);var T=(t,s,e)=>{var r;let n=((r=t.className)!=null?r:"").split(" ");e(n,n.indexOf(s)),t.className=n.join(" ")},v=(t,s)=>T(t,s,(e,n)=>n==-1?e.push(s):null),p=(t,s)=>T(t,s,(e,n)=>n!=-1?e.splice(n,1):null);var a="dark",g="light",u="auto",H=()=>f(),f=()=>{let t=matchMedia("(prefers-color-scheme: dark)"),s=()=>{var n,r;let e=(n=localStorage.getItem(a))!=null?n:u;(r=c("#dark"))==null||r.setAttribute("class",e),c("html").className=e==a||e==u&&t.matches?a:g};t.addEventListener("change",s),window.addEventListener("storage",e=>{e.storageArea==localStorage&&e.key==a&&s()}),addEventListener("load",()=>{c("#dark").addEventListener("click",()=>{let e=localStorage.getItem(a);localStorage.setItem(a,e==a?g:e==g?u:a),s()}),s()}),s()};H();addEventListener("load",()=>{let t=c("body > main > nav"),s=c("body > main > article");if(t==null||s==null)return;let e=new Map,n=new IntersectionObserver(r=>{r.forEach(o=>{let l=o.target,m=o.target.className,i=/s\d+/.test(m)?parseInt(m.substr(1)):0,d=e.get(i);d==null&&(d=new Set,e.set(i,d)),o.isIntersecting?d.add(l):(d.delete(l),p(L(l.dataset.id),"current"))});let E=0;e.forEach((o,l)=>{o.size>0&&l>E&&(E=l)}),e.forEach((o,l)=>o.forEach(m=>{let i=L(m.dataset.id);l==E?v(i,"current"):p(i,"current")}))});s.querySelectorAll("section[data-id]").forEach(r=>n.observe(r))});})();
