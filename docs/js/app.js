"use strict";(()=>{var Ce="v7.0.0-beta.3";var Go="TinyBase",zs=document,me=()=>{addEventListener("load",()=>{let s=xs("#version");s.innerText=Ce,s.style.width=s.scrollWidth+"px"})},Wo=null,ye=()=>Wo??=xs("body > main > nav"),Yo=null,Re=()=>Yo??=xs("body > main > article"),Js=s=>s.preventDefault(),xs=s=>zs.querySelector(s),Ps=(s,n)=>s.querySelector(n),ko=s=>zs.getElementById(s),ts=(s,n,c={},i)=>{let a=zs.createElement(s);return Object.entries(c).forEach(d=>a.setAttribute(...d)),i!=null&&(a.innerText=i),n!=null?n.appendChild(a):a},Ks=(s,n)=>s.classList.add(n);var ht=(s,n)=>s.classList.remove(n),Ve=(s,n,c)=>s.classList.toggle(n)?c():0,ut=(s,n=!0)=>{let c=ye();["?","#"].forEach(i=>{s.includes(i)&&(s=s.substring(0,s.indexOf(i)))}),fetch(`${s}nav.json`).then(i=>i.json()).then(i=>{ht(Ps(c,"li.current"),"current"),Ne(i,Ps(c,"ul"))}),fetch(`${s}article.html`).then(i=>i.text()).then(i=>{let a=Re();a.innerHTML=i,a.scrollTo(0,0),an()}),n&&history.pushState(null,"",s)},an=()=>{let s=Ps(Re(),":scope iframe"),n=s?.parentElement;if(s==null||n==null)return;let c=n.insertBefore(ts("form",null,{action:"https://codepen.io/pen/define",method:"post",target:"_blank"}),s);n.insertBefore(ts("a",null,{id:"penEdit"},"Open this demo in CodePen"),s).onclick=()=>{c.childNodes.length==0?fetch("pen.json").then(i=>i.text()).then(i=>{ts("input",c,{type:"hidden",name:"data",value:i}),c.submit()}):c.submit()}},Ne=({i:s,n,u:c,r:i,c:a,p:d,o:T,_:A},J)=>{let S=ye(),E=ko(s);if(E==null){E=ts("li",J,{id:s}),ts("span",E);let f=ts("a",E,{href:c});i?ts("code",f,{},n):f.innerText=n,d&&Ks(E,"parent")}if(T&&Ks(E,"open"),A!=null){let f=Ps(E,"ul")??ts("ul",E);A.forEach(g=>{Ne(g,f)})}if(a){Ks(E,"current"),zs.title=`${n} | ${Go}`;let f=E.getBoundingClientRect(),g=S.getBoundingClientRect();f.top<g.top?S.scrollBy(0,f.top-g.top):f.bottom>g.bottom&&S.scrollBy(0,Math.min(f.bottom-g.bottom,f.top-g.top))}};var js="dark",fn="light",hn="auto",Me=()=>{let s=matchMedia("(prefers-color-scheme: dark)"),n=()=>{let c=localStorage.getItem(js)??hn;xs("#dark")?.setAttribute("class",c),xs("html").className=c==js||c==hn&&s.matches?js:fn};s.addEventListener("change",n),window.addEventListener("storage",c=>{c.storageArea==localStorage&&c.key==js&&n()}),addEventListener("load",()=>{xs("#dark").addEventListener("click",()=>{let c=localStorage.getItem(js);localStorage.setItem(js,c==js?fn:c==fn?hn:js),n()}),n()}),n()};var _e=s=>typeof s;var Bo=_e(""),ve=s=>""+s,Uo=(s=qo)=>(n,c,i)=>s(n)?i?.():c(n),qo=s=>s==null,Ws=s=>s===void 0,Ko=s=>s===null,$s=Uo(Ws),Jo=s=>_e(s)==Bo,dt=s=>Array.isArray(s),_s=s=>s.length,$o=(s,n)=>s.test(n),Fe=(s,n)=>s.every(n),Zo=(s,n)=>_s(s)===_s(n)&&Fe(s,(c,i)=>n[i]===c),we=(s,n)=>Fe(s,(c,i)=>i==0||n(s[i-1],c)<=0),He=(s,n)=>s.sort(n),Zs=(s,n)=>s.forEach(n),Oo=(s,n)=>s.map(n),Qo=s=>_s(s)==0,Xo=(s,n,c)=>s.reduce(n,c),be=(s,...n)=>s.push(...n),Io=s=>s.shift(),Ae=s=>n=>Xo(gn(n),(c,i)=>c+s(i),0),Pe=s=>s?.size??0,ze=Ae(Pe),sc=Ae(ze),nt=(s,n)=>s?.has(n)??!1,Lt=s=>Ws(s)||Pe(s)==0,gn=s=>[...s?.values()??[]],xe=s=>s.clear(),ds=(s,n)=>s?.forEach(n),et=(s,n)=>s?.delete(n),tc=Object,nc=tc.freeze,ns=s=>new Map(s),je=s=>[...s?.keys()??[]],k=(s,n)=>s?.get(n),gt=(s,n)=>ds(s,(c,i)=>n(i,c)),Y=(s,n,c)=>c===void 0?(et(s,n),s):s?.set(n,c),Ge=(s,n,c,i)=>(nt(s,n)?i?.(k(s,n)):Y(s,n,c()),k(s,n)),un=(s,n,c,i,a=0)=>$s((c?Ge:k)(s,n[a],a>_s(n)-2?c:ns),d=>{if(a>_s(n)-2)return i?.(d)&&Y(s,n[a]),d;let T=un(d,n,c,i,a+1);return Lt(d)&&Y(s,n[a]),T}),Gs=s=>new Set(dt(s)||Ws(s)?s:[s]),Ds=(s,n)=>s?.add(n),ec=(s,n,c,i,a)=>{let d=s.hasRow,T=ns(),A=ns(),J=ns(),S=ns(),E=ns(),f=ns(),g=()=>s,y=()=>je(T),N=C=>gt(A,C),R=C=>nt(A,C),x=C=>k(T,C),B=C=>k(A,C),Ls=(C,z)=>Y(A,C,z),Ts=(C,z,...os)=>{let Z=Ge(f,C,Gs);return Zs(os,p=>Ds(Z,p)&&z&&s.callListener(p)),os},Rs=(C,...z)=>$s(k(f,C),os=>{Zs(Qo(z)?gn(os):z,Z=>{s.delListener(Z),et(os,Z)}),Lt(os)&&Y(f,C)}),Cs=(C,z)=>{Y(T,C,z),nt(A,C)||(Y(A,C,n()),Y(S,C,ns()),Y(E,C,ns()),a(J))},Vs=(C,z,os,Z,p)=>{Cs(C,z);let b=ns(),O=ns(),Q=k(S,C),cs=k(E,C),Es=F=>{let q=ps=>s.getCell(z,F,ps),X=k(Q,F),Ss=d(z,F)?c(Z(q,F)):void 0;if(X===Ss||dt(X)&&dt(Ss)&&Zo(X,Ss)||Y(b,F,[X,Ss]),!Ws(p)){let ps=k(cs,F),Ns=d(z,F)?p(q,F):void 0;ps!=Ns&&Y(O,F,Ns)}},us=F=>{os(()=>{ds(b,([,q],X)=>Y(Q,X,q)),ds(O,(q,X)=>Y(cs,X,q))},b,O,Q,cs,F),xe(b),xe(O)};gt(Q,Es),s.hasTable(z)&&Zs(s.getRowIds(z),F=>{nt(Q,F)||Es(F)}),us(!0),Rs(C),Ts(C,0,s.addRowListener(z,null,(F,q,X)=>Es(X)),s.addTableListener(z,()=>us()))},v=C=>{Y(T,C),Y(A,C),Y(S,C),Y(E,C),Rs(C),a(J)};return[g,y,N,R,x,B,Ls,Cs,Vs,v,C=>i(C,J),()=>gt(f,v),Ts,Rs]},De=(s,n)=>Jo(s)?c=>c(s):s??(()=>n??""),oc=(s,n)=>{let c=new WeakMap;return i=>(c.has(i)||c.set(i,s(i)),c.get(i))},cc=(s,n)=>(s??0)<(n??0)?-1:1,ic=/^\d+$/,rc=()=>{let s=[],n=0;return[c=>(c?Io(s):null)??""+n++,c=>{$o(ic,c)&&_s(s)<1e3&&be(s,c)}]},lc=(s,n=[""])=>{let c=[],i=(a,d)=>d==_s(n)?be(c,a):n[d]===null?ds(a,T=>i(T,d+1)):Zs([n[d],null],T=>i(k(a,T),d+1));return i(s,0),c},ac=s=>{let n,[c,i]=rc(),a=ns();return[(S,E,f,g=[],y=()=>[])=>{n??=s();let N=c(1);return Y(a,N,[S,E,f,g,y]),Ds(un(E,f??[""],Gs),N),N},(S,E,...f)=>Zs(lc(S,E),g=>ds(g,y=>k(a,y)[0](n,...E??[],...f))),S=>$s(k(a,S),([,E,f])=>(un(E,f??[""],void 0,g=>(et(g,S),Lt(g)?1:0)),Y(a,S),i(S),f)),S=>$s(k(a,S),([E,,f=[],g,y])=>{let N=(...R)=>{let x=_s(R);x==_s(f)?E(n,...R,...y(R)):Ko(f[x])?Zs(g[x]?.(...R)??[],B=>N(...R,B)):N(...R,f[x])};N()})]},We=oc(s=>{let n=ns(),c=ns(),[i,a,d]=ac(()=>Z),[T,A,J,S,E,f,g,,y,N,R,x]=ec(s,ns,p=>Ws(p)?"":dt(p)?Oo(p,ve):ve(p),i,a),B=(p,b)=>nt(f(p),b),Ls=(p,b,O,Q,cs,Es=cc)=>{let us=Ws(cs)?void 0:([F],[q])=>cs(F,q);return y(p,b,(F,q,X,Ss,ps,Ns)=>{let ms=0,Ms=Gs(),vs=Gs(),is=f(p);if(ds(q,([U,rs],ls)=>{let P=Gs(U),Is=Gs(rs);ds(P,as=>et(Is,as)?et(P,as):0),ds(P,as=>{Ds(Ms,as),$s(k(is,as),Nt=>{et(Nt,ls),Lt(Nt)&&(Y(is,as),ms=1)})}),ds(Is,as=>{Ds(Ms,as),nt(is,as)||(Y(is,as,Gs()),ms=1),Ds(k(is,as),ls),Ws(Q)||Ds(vs,as)})}),F(),Lt(ps)||(Ns?gt(is,U=>Ds(vs,U)):gt(X,U=>$s(k(Ss,U),rs=>Zs(dt(rs)?rs:[rs],ls=>Ds(vs,ls)))),ds(vs,U=>{let rs=(P,Is)=>Es(k(ps,P),k(ps,Is),U),ls=[...k(is,U)];we(ls,rs)||(Y(is,U,Gs(He(ls,rs))),Ds(Ms,U))})),(ms||Ns)&&!Ws(us)){let U=[...is];we(U,us)||(g(p,ns(He(U,us))),ms=1)}ms&&a(n,[p]),ds(Ms,U=>a(c,[p,U]))},De(O),$s(Q,De)),Z},Ts=p=>J((b,O)=>p(b,Q=>Cs(b,Q,O))),Rs=(p,b)=>Cs(p,b,f(p)),Cs=(p,b,O)=>{let Q=E(p);ds(O,(cs,Es)=>b(Es,us=>ds(cs,F=>us(F,q=>s.forEachCell(Q,F,q)))))},Z={setIndexDefinition:Ls,delIndexDefinition:p=>(N(p),Z),getStore:T,getIndexIds:A,forEachIndex:Ts,forEachSlice:Rs,hasIndex:S,hasSlice:B,getTableId:E,getSliceIds:p=>je(f(p)),getSliceRowIds:(p,b)=>gn(k(f(p),b)),addIndexIdsListener:R,addSliceIdsListener:(p,b)=>i(b,n,[p]),addSliceRowIdsListener:(p,b,O)=>i(O,c,[p,b]),delListener:p=>(d(p),Z),destroy:x,getListenerStats:()=>({sliceIds:ze(n),sliceRowIds:sc(c)})};return nc(Z)});var Xs=s=>typeof s;var fc=Xs(""),hc=Xs(!0),Ze=Xs(0),uc=Xs(Xs),kt="type",Fs="default",Bt="allowNull",gc="Listener",dc="add",Os="Has",sn="Ids",ct="Table",Ye=ct+"s",Lc=ct+sn,$t="Row",Tc=$t+"Count",Ec=$t+sn,Jt="Cell",ke=Jt+sn,Zt="Value",Be=Zt+"s",pc=Zt+sn,D=s=>""+s,Oe=(s=Rt)=>(n,c,i)=>s(n)?i?.():c(n),Sc=isFinite,Cc=(s,n)=>s instanceof n,Rt=s=>s==null,hs=s=>s===void 0,it=s=>s===null,mc=Oe(Rt),K=Oe(hs),Qe=s=>s==fc||s==hc,dn=s=>Xs(s)==uc,Xe=s=>Array.isArray(s),Ue=(s,n,c)=>s.slice(n,c),bs=s=>s.length,yc=(s,n)=>s.test(n),Ln=async(s,n,c)=>{try{return await s()}catch(i){n?.(i)}},Rc=(s,n)=>s.includes(n),Vc=(s,n)=>s.every(n),Nc=(s,n)=>bs(s)===bs(n)&&Vc(s,(c,i)=>n[i]===c),Mc=(s,n)=>s.sort(n),Vt=(s,n)=>s.forEach(n),Ot=(s,n)=>s.map(n),vc=(s,n,c)=>s.reduce(n,c),Qt=(s,...n)=>s.push(...n),wc=s=>s.shift(),Tt=s=>{if(it(s))return"null";let n=Xs(s);return Qe(n)||n==Ze&&Sc(s)?n:void 0},qe=(s,n,c,i,a)=>hs(a)?s.delCell(n,c,i,!0):s.setCell(n,c,i,a),Ke=(s,n,c)=>hs(c)?s.delValue(n):s.setValue(n,c),Rn=s=>n=>vc(Hc(n),(c,i)=>c+s(i),0),Vn=s=>s?.size??0,Nn=Rn(Vn),St=Rn(Nn),Tn=Rn(St),es=(s,n)=>s?.has(n)??!1,m=s=>hs(s)||Vn(s)==0,Hc=s=>[...s?.values()??[]],En=s=>s.clear(),M=(s,n)=>s?.forEach(n),Xt=(s,n)=>s?.delete(n),qs=Object,Je=s=>qs.getPrototypeOf(s),xc=qs.isFrozen,Ie=qs.entries,It=s=>!Rt(s)&&mc(Je(s),n=>n==qs.prototype||Rt(Je(n)),()=>!0),Dc=qs.keys,_c=qs.freeze,Fc=(s=[])=>qs.fromEntries(s),Ct=(s,n)=>n in s,so=(s,n)=>(delete s[n],s),bc=(s,n)=>Vt(Ie(s),([c,i])=>n(i,c)),Ac=(s,n)=>Ot(Ie(s),([c,i])=>n(i,c)),ks=(s,n)=>Fc(Ac(s,(c,i)=>[i,n(c,i)])),Pc=s=>bs(Dc(s)),ys=s=>It(s)&&Pc(s)==0,Ys=(s,n,c,i=0)=>Rt(s)||!It(s)||!i&&ys(s)||xc(s)?(c?.(),!1):(bc(s,(a,d)=>{n(a,d)||so(s,d)}),i?!0:!ys(s)),V=s=>new Map(s),Et=s=>[...s?.keys()??[]],u=(s,n)=>s?.get(n),Bs=(s,n)=>M(s,(c,i)=>n(i,c)),zc=(s,n)=>Ot([...s?.entries()??[]],([c,i])=>n(i,c)),_=(s,n,c)=>c===void 0?(Xt(s,n),s):s?.set(n,c),I=(s,n,c,i)=>(es(s,n)?i?.(u(s,n)):_(s,n,c()),u(s,n)),Qs=(s,n,c,i=_)=>(ks(n,(a,d)=>c(s,d,a)),Bs(s,a=>Ct(n,a)?0:i(s,a)),s),fs=(s,n,c,i)=>{let a={};return M(s,(d,T)=>{if(!c?.(d,T)){let A=n?n(d,T):d;i?.(A)||(a[T]=A)}}),a},Cn=(s,n,c)=>fs(s,i=>fs(i,n,c),m,ys),Ut=(s,n,c)=>fs(s,i=>Cn(i,n,c),m,ys),Us=(s,n)=>{let c=V();return M(s,(i,a)=>c.set(a,n?.(i)??i)),c},mn=s=>Us(s,Us),pn=s=>Us(s,mn),yn=(s,n,c,i,a=0)=>K((c?I:u)(s,n[a],a>bs(n)-2?c:V),d=>{if(a>bs(n)-2)return i?.(d)&&_(s,n[a]),d;let T=yn(d,n,c,i,a+1);return m(d)&&_(s,n[a]),T}),jc=JSON.stringify,Sn=JSON.parse,ot=s=>jc(s,(n,c)=>Cc(c,Map)?qs.fromEntries([...c]):c),Gc=(s,n)=>(s??0)<(n??0)?-1:1,Wc=/^\d+$/,to=()=>{let s=[],n=0;return[c=>(c?wc(s):null)??""+n++,c=>{yc(Wc,c)&&bs(s)<1e3&&Qt(s,c)}]},mt=s=>new Set(Xe(s)||hs(s)?s:[s]),yt=(s,n)=>s?.add(n),Yc=(s,n=[""])=>{let c=[],i=(a,d)=>d==bs(n)?Qt(c,a):n[d]===null?M(a,T=>i(T,d+1)):Vt([n[d],null],T=>i(u(a,T),d+1));return i(s,0),c},kc=s=>{let n,[c,i]=to(),a=V();return[(S,E,f,g=[],y=()=>[])=>{n??=s();let N=c(1);return _(a,N,[S,E,f,g,y]),yt(yn(E,f??[""],mt),N),N},(S,E,...f)=>Vt(Yc(S,E),g=>M(g,y=>u(a,y)[0](n,...E??[],...f))),S=>K(u(a,S),([,E,f])=>(yn(E,f??[""],void 0,g=>(Xt(g,S),m(g)?1:0)),_(a,S),i(S),f)),S=>K(u(a,S),([E,,f=[],g,y])=>{let N=(...R)=>{let x=bs(R);x==bs(f)?E(n,...R,...y(R)):it(f[x])?Vt(g[x]?.(...R)??[],B=>N(...R,B)):N(...R,f[x])};N()})]},qt=s=>[s,s],G=(s,n=Nn)=>n(s[0])+n(s[1]),W=()=>[V(),V()],$e=s=>[...s],Kt=([s,n])=>s===n,pt=(s,n,c)=>_(s,n,u(s,n)==-c?void 0:c),Mn=()=>{let s,n,c=!1,i=!1,a=0,d=[],T=V(),A=V(),J=V(),S=V(),E=V(),f=V(),g=V(),y=V(),N=V(),R=V(),x=V(),B=V(),Ls=V(),Ts=V(),Rs=mt(),Cs=V(),Vs=V(),v=V(),$=V(),rt=W(),C=W(),z=W(),os=W(),Z=W(),p=W(),b=W(),O=W(),Q=W(),cs=W(),Es=W(),us=W(),F=W(),q=W(),X=W(),Ss=W(),ps=W(),Ns=W(),ms=W(),Ms=W(),vs=W(),is=W(),U=V(),rs=W(),[ls,P,Is,as]=kc(()=>ss),Nt=t=>Ys(t,e=>Ys(e,Hn)),co=t=>Ys(t,Hn),Hn=t=>{if(!Ys(t,(r,l)=>Rc([kt,Fs,Bt],l)))return!1;let e=t[kt];if(!Qe(e)&&e!=Ze)return!1;let o=t[Fs];return it(o)&&!t[Bt]?!1:(!it(o)&&Tt(o)!=e&&so(t,Fs),!0)},io=Xe,ro=t=>Ys(t,xn,ws),xn=(t,e)=>(!s||es(x,e)||ws(e))&&Ys(t,(o,r)=>Mt(e,r,o),()=>ws(e)),Mt=(t,e,o,r)=>Ys(r?o:bn(o,t,e),(l,h)=>K(Dn(t,e,h,l),L=>(o[h]=L,!0),()=>!1),()=>ws(t,e)),Dn=(t,e,o,r)=>s?K(u(u(x,t),o),l=>it(r)?l[Bt]?r:ws(t,e,o,r,l[Fs]):Tt(r)==l[kt]?r:ws(t,e,o,r,l[Fs]),()=>ws(t,e,o,r)):hs(Tt(r))?ws(t,e,o,r):r,_n=(t,e)=>Ys(e?t:lo(t),(o,r)=>K(Fn(r,o),l=>(t[r]=l,!0),()=>!1),()=>st()),Fn=(t,e)=>n?K(u(Ls,t),o=>it(e)?o[Bt]?e:st(t,e,o[Fs]):Tt(e)==o[kt]?e:st(t,e,o[Fs]),()=>st(t,e)):hs(Tt(e))?st(t,e):e,bn=(t,e,o)=>(K(u(B,e),([r,l])=>{M(r,(h,L)=>{Ct(t,L)||(t[L]=h)}),M(l,h=>{Ct(t,h)||ws(e,o,h)})}),t),lo=t=>(n&&(M(Ts,(e,o)=>{Ct(t,o)||(t[o]=e)}),M(Rs,e=>{Ct(t,e)||st(e)})),t),An=t=>Qs(x,t,(e,o,r)=>{let l=V(),h=mt();Qs(I(x,o,V),r,(L,w,H)=>{_(L,w,H),K(H[Fs],Hs=>_(l,w,Hs),()=>yt(h,w))}),_(B,o,[l,h])},(e,o)=>{_(x,o),_(B,o)}),Pn=t=>Qs(Ls,t,(e,o,r)=>{_(Ls,o,r),K(r[Fs],l=>_(Ts,o,l),()=>yt(Rs,o))},(e,o)=>{_(Ls,o),_(Ts,o),Xt(Rs,o)}),zn=t=>ys(t)?jt():Pt(t),ao=([t,e])=>{(ys(t)?jt:Pt)(t),(ys(e)?Gt:zt)(e)},jn=t=>Qs(v,t,(e,o,r)=>vt(o,r),(e,o)=>kn(o)),vt=(t,e)=>Qs(I(v,t,()=>(Kn(t,1),_(Cs,t,to()),_(Vs,t,V()),V())),e,(o,r,l)=>lt(t,o,r,l),(o,r)=>Bn(t,o,r)),lt=(t,e,o,r,l)=>Qs(I(e,o,()=>(Jn(t,o,1),V())),r,(h,L,w)=>tn(t,o,h,L,w),(h,L)=>Un(t,e,o,h,L,l)),tn=(t,e,o,r,l)=>{es(o,r)||$n(t,e,r,1);let h=u(o,r);l!==h&&(Zn(t,e,r,h,l),_(o,r,l))},Gn=(t,e,o,r,l)=>K(u(e,o),h=>tn(t,o,h,r,l),()=>lt(t,e,o,bn({[r]:l},t,o))),Wn=t=>ys(t)?Gt():zt(t),Yn=t=>Qs($,t,(e,o,r)=>wt(o,r),(e,o)=>qn(o)),wt=(t,e)=>{es($,t)||On(t,1);let o=u($,t);e!==o&&(Qn(t,o,e),_($,t,e))},fo=(t,e)=>{let[o]=u(Cs,t),r;do r=o(e);while(es(u(v,t),r));return r},Ht=t=>u(v,t)??vt(t,{}),kn=t=>vt(t,{}),Bn=(t,e,o)=>{let[,r]=u(Cs,t);r(o),lt(t,e,o,{},!0)},Un=(t,e,o,r,l,h)=>{let L=u(u(B,t)?.[0],l);if(!hs(L)&&!h)return tn(t,o,r,l,L);let w=H=>{Zn(t,o,H,u(r,H)),$n(t,o,H,-1),_(r,H)};hs(L)?w(l):Bs(r,w),m(r)&&(Jn(t,o,-1),m(_(e,o))&&(Kn(t,-1),_(v,t),_(Cs,t),_(Vs,t)))},qn=t=>{let e=u(Ts,t);if(!hs(e))return wt(t,e);Qn(t,u($,t)),On(t,-1),_($,t)},Kn=(t,e)=>pt(T,t,e),Jn=(t,e,o)=>pt(I(S,t,V),e,o)&&_(J,t,I(J,t,()=>0)+o),$n=(t,e,o,r)=>{let l=u(Vs,t),h=u(l,o)??0;(h==0&&r==1||h==1&&r==-1)&&pt(I(A,t,V),o,r),_(l,o,h!=-r?h+r:void 0),pt(I(I(E,t,V),e,V),o,r)},Zn=(t,e,o,r,l)=>{I(I(I(f,t,V),e,V),o,()=>[r,0])[1]=l,d[3]?.(t,e,o,l)},On=(t,e)=>pt(g,t,e),Qn=(t,e,o)=>{I(y,t,()=>[e,0])[1]=o,d[4]?.(t,o)},ws=(t,e,o,r,l)=>(Qt(I(I(I(N,t,V),e,V),o,()=>[]),r),l),st=(t,e,o)=>(Qt(I(R,t,()=>[]),e),o),xt=(t,e,o)=>K(u(u(u(f,t),e),o),([r,l])=>[!0,r,l],()=>[!1,...qt(_t(t,e,o))]),Xn=t=>K(u(y,t),([e,o])=>[!0,e,o],()=>[!1,...qt(Ft(t))]),In=t=>!m(N)&&!m(Ss[t])?M(t?pn(N):N,(e,o)=>M(e,(r,l)=>M(r,(h,L)=>P(Ss[t],[o,l,L],h)))):0,se=t=>!m(R)&&!m(ps[t])?M(t?Us(R):R,(e,o)=>P(ps[t],[o],e)):0,at=(t,e,o,r)=>{if(!m(t))return P(e,r,()=>fs(t)),Bs(t,(l,h)=>P(o,[...r??[],l],h==1)),1},te=t=>{let e=bt();e!=c&&P(rt[t],void 0,e);let o=m(cs[t]),r=m(F[t])&&m(q[t])&&m(Q[t])&&m(Es[t])&&m(p[t])&&m(b[t])&&m(O[t])&&o&&m(z[t])&&m(os[t]),l=m(X[t])&&m(us[t])&&m(Z[t])&&m(C[t]);if(!r||!l){let h=t?[Us(T),mn(A),Us(J),mn(S),pn(E),pn(f)]:[T,A,J,S,E,f];if(!r){at(h[0],z[t],os[t]),M(h[1],(w,H)=>at(w,p[t],b[t],[H])),M(h[2],(w,H)=>{w!=0&&P(O[t],[H],ce(H))});let L=mt();M(h[3],(w,H)=>{at(w,Q[t],Es[t],[H])&&!o&&(P(cs[t],[H,null]),yt(L,H))}),o||M(h[5],(w,H)=>{if(!es(L,H)){let Hs=mt();M(w,As=>M(As,([Wt,Yt],ft)=>Yt!==Wt?yt(Hs,ft):Xt(As,ft))),M(Hs,As=>P(cs[t],[H,As]))}}),M(h[4],(w,H)=>M(w,(Hs,As)=>at(Hs,F[t],q[t],[H,As])))}if(!l){let L;M(h[5],(w,H)=>{let Hs;M(w,(As,Wt)=>{let Yt;M(As,([ft,Se],jo)=>{Se!==ft&&(P(X[t],[H,Wt,jo],Se,ft,xt),L=Hs=Yt=1)}),Yt&&P(us[t],[H,Wt],xt)}),Hs&&P(Z[t],[H],xt)}),L&&P(C[t],void 0,xt)}}},ne=t=>{let e=At();e!=i&&P(Ns[t],void 0,e);let o=m(Ms[t])&&m(vs[t]),r=m(is[t])&&m(ms[t]);if(!o||!r){let l=t?[Us(g),Us(y)]:[g,y];if(o||at(l[0],Ms[t],vs[t]),!r){let h;M(l[1],([L,w],H)=>{w!==L&&(P(is[t],[H],w,L,Xn),h=1)}),h&&P(ms[t],void 0,Xn)}}},j=(t,...e)=>(ln(()=>t(...Ot(e,D))),ss),ee=(t,e,o,r,l)=>{let h=Dt(t,e,...o);return ls(()=>{let L=Dt(t,e,...o);Nc(L,h)||(h=L,r(ss,t,e,...o,h))},cs[l?1:0],[t,e],[gs])},ho=()=>[nn(),on()],nn=()=>Ut(v),gs=()=>Et(v),uo=t=>Cn(u(v,D(t))),oe=t=>Et(u(Vs,D(t))),ce=t=>Vn(u(v,D(t))),tt=t=>Et(u(v,D(t))),Dt=(t,e,o,r=0,l)=>It(t)?Dt(t.tableId,t.cellId,t.descending,t.offset,t.limit):Ot(Ue(Mc(zc(u(v,D(t)),(h,L)=>[hs(e)?L:u(h,D(e)),L]),([h],[L])=>Gc(h,L)*(o?-1:1)),r,hs(l)?l:r+l),([,h])=>h),go=(t,e)=>fs(u(u(v,D(t)),D(e))),en=(t,e)=>Et(u(u(v,D(t)),D(e))),_t=(t,e,o)=>u(u(u(v,D(t)),D(e)),D(o)),on=()=>fs($),cn=()=>Et($),Ft=t=>u($,D(t)),bt=()=>!m(v),ie=t=>es(v,D(t)),re=(t,e)=>es(u(Vs,D(t)),D(e)),le=(t,e)=>es(u(v,D(t)),D(e)),ae=(t,e,o)=>es(u(u(v,D(t)),D(e)),D(o)),At=()=>!m($),fe=t=>es($,D(t)),Lo=()=>ot(v),To=()=>ot($),Eo=()=>ot([v,$]),po=()=>ot(x),So=()=>ot(Ls),Co=()=>ot([x,Ls]),mo=t=>j(()=>{let e=dn(t)?t():t;io(e)&&ao(e)}),Pt=t=>j(()=>ro(t)?jn(t):0),yo=(t,e)=>j(o=>xn(e,o)?vt(o,e):0,t),Ro=(t,e,o)=>j((r,l)=>Mt(r,l,o)?lt(r,Ht(r),l,o):0,t,e),Vo=(t,e,o=!0)=>ln(()=>{let r;return Mt(t,r,e)&&(t=D(t),lt(t,Ht(t),r=fo(t,o?1:0),e)),r}),No=(t,e,o)=>j((r,l)=>{if(Mt(r,l,o,1)){let h=Ht(r);ks(o,(L,w)=>Gn(r,h,l,w,L))}},t,e),Mo=(t,e,o,r)=>j((l,h,L)=>K(Dn(l,h,L,dn(r)?r(_t(l,h,L)):r),w=>Gn(l,Ht(l),h,L,w)),t,e,o),zt=t=>j(()=>_n(t)?Yn(t):0),vo=t=>j(()=>_n(t,1)?ks(t,(e,o)=>wt(o,e)):0),wo=(t,e)=>j(o=>K(Fn(o,dn(e)?e(Ft(o)):e),r=>wt(o,r)),t),Ho=t=>j(()=>{ks(t[0],(e,o)=>hs(e)?de(o):ks(e,(r,l)=>hs(r)?Le(o,l):ks(r,(h,L)=>qe(ss,o,l,L,h)))),ks(t[1],(e,o)=>Ke(ss,o,e))}),he=t=>(Ln(()=>zn(Sn(t))),ss),xo=t=>(Ln(()=>Wn(Sn(t))),ss),Do=t=>j(()=>Ln(()=>{let[e,o]=Sn(t);zn(e),Wn(o)},()=>he(t))),ue=t=>j(()=>{if((s=Nt(t))&&(An(t),!m(v))){let e=nn();jt(),Pt(e)}}),ge=t=>j(()=>{if(n=co(t)){let e=on();rn(),Gt(),n=!0,Pn(t),zt(e)}}),_o=(t,e)=>j(()=>{ue(t),ge(e)}),jt=()=>j(()=>jn({})),de=t=>j(e=>es(v,e)?kn(e):0,t),Le=(t,e)=>j((o,r)=>K(u(v,o),l=>es(l,r)?Bn(o,l,r):0),t,e),Fo=(t,e,o,r)=>j((l,h,L)=>K(u(v,l),w=>K(u(w,h),H=>es(H,L)?Un(l,w,h,H,L,r):0)),t,e,o),Gt=()=>j(()=>Yn({})),bo=t=>j(e=>es($,e)?qn(e):0,t),Te=()=>j(()=>{An({}),s=!1}),rn=()=>j(()=>{Pn({}),n=!1}),Ao=()=>j(()=>{Te(),rn()}),ln=(t,e)=>{if(a!=-1){Ee();let o=t();return pe(e),o}},Ee=()=>(a!=-1&&a++,a==1&&(d[0]?.(),P(U)),ss),Po=()=>[fs(f,(t,e)=>u(T,e)===-1?void 0:fs(t,(o,r)=>u(u(S,e),r)===-1?void 0:fs(o,([,l])=>l,l=>Kt(l)),m,ys),m,ys),fs(y,([,t])=>t,t=>Kt(t)),1],zo=()=>[!m(f),!m(y),Ut(f,$e,Kt),Ut(N),fs(y,$e,Kt),fs(R),fs(T),Cn(S),Ut(E),fs(g)],pe=t=>(a>0&&(a--,a==0&&(a=1,In(1),m(f)||te(1),se(1),m(y)||ne(1),t?.(ss)&&(M(f,(e,o)=>M(e,(r,l)=>M(r,([h],L)=>qe(ss,o,l,L,h)))),En(f),M(y,([e],o)=>Ke(ss,o,e)),En(y)),P(rs[0],void 0),a=-1,In(0),m(f)||te(0),se(0),m(y)||ne(0),d[1]?.(),P(rs[1],void 0),d[2]?.(),a=0,c=bt(),i=At(),Vt([T,A,J,S,E,f,N,g,y,R],En))),ss),ss={getContent:ho,getTables:nn,getTableIds:gs,getTable:uo,getTableCellIds:oe,getRowCount:ce,getRowIds:tt,getSortedRowIds:Dt,getRow:go,getCellIds:en,getCell:_t,getValues:on,getValueIds:cn,getValue:Ft,hasTables:bt,hasTable:ie,hasTableCell:re,hasRow:le,hasCell:ae,hasValues:At,hasValue:fe,getTablesJson:Lo,getValuesJson:To,getJson:Eo,getTablesSchemaJson:po,getValuesSchemaJson:So,getSchemaJson:Co,hasTablesSchema:()=>s,hasValuesSchema:()=>n,setContent:mo,setTables:Pt,setTable:yo,setRow:Ro,addRow:Vo,setPartialRow:No,setCell:Mo,setValues:zt,setPartialValues:vo,setValue:wo,applyChanges:Ho,setTablesJson:he,setValuesJson:xo,setJson:Do,setTablesSchema:ue,setValuesSchema:ge,setSchema:_o,delTables:jt,delTable:de,delRow:Le,delCell:Fo,delValues:Gt,delValue:bo,delTablesSchema:Te,delValuesSchema:rn,delSchema:Ao,transaction:ln,startTransaction:Ee,getTransactionChanges:Po,getTransactionLog:zo,finishTransaction:pe,forEachTable:t=>M(v,(e,o)=>t(o,r=>M(e,(l,h)=>r(h,L=>Bs(l,L))))),forEachTableCell:(t,e)=>Bs(u(Vs,D(t)),e),forEachRow:(t,e)=>M(u(v,D(t)),(o,r)=>e(r,l=>Bs(o,l))),forEachCell:(t,e,o)=>Bs(u(u(v,D(t)),D(e)),o),forEachValue:t=>Bs($,t),addSortedRowIdsListener:(t,e,o,r,l,h,L)=>It(t)?ee(t.tableId,t.cellId,[t.descending??!1,t.offset??0,t.limit],e,o):ee(t,e,[o,r,l],h,L),addStartTransactionListener:t=>ls(t,U),addWillFinishTransactionListener:t=>ls(t,rs[0]),addDidFinishTransactionListener:t=>ls(t,rs[1]),callListener:t=>(as(t),ss),delListener:t=>(Is(t),ss),getListenerStats:()=>({hasTables:G(rt),tables:G(C),tableIds:G(z),hasTable:G(os),table:G(Z),tableCellIds:G(p),hasTableCell:G(b,St),rowCount:G(O),rowIds:G(Q),sortedRowIds:G(cs),hasRow:G(Es,St),row:G(us,St),cellIds:G(F,St),hasCell:G(q,Tn),cell:G(X,Tn),invalidCell:G(Ss,Tn),hasValues:G(Ns),values:G(ms),valueIds:G(Ms),hasValue:G(vs),value:G(is),invalidValue:G(ps),transaction:Nn(U)+G(rs)}),isMergeable:()=>!1,createStore:Mn,addListener:ls,callListeners:P,setInternalListeners:(t,e,o,r,l)=>d=[t,e,o,r,l]};return ks({[Os+Ye]:[0,rt,[],()=>[bt()]],[Ye]:[0,C],[Lc]:[0,z],[Os+ct]:[1,os,[gs],t=>[ie(...t)]],[ct]:[1,Z,[gs]],[ct+ke]:[1,p,[gs]],[Os+ct+Jt]:[2,b,[gs,oe],t=>[re(...t)]],[Tc]:[1,O,[gs]],[Ec]:[1,Q,[gs]],[Os+$t]:[2,Es,[gs,tt],t=>[le(...t)]],[$t]:[2,us,[gs,tt]],[ke]:[2,F,[gs,tt]],[Os+Jt]:[3,q,[gs,tt,en],t=>[ae(...t)]],[Jt]:[3,X,[gs,tt,en],t=>qt(_t(...t))],InvalidCell:[3,Ss],[Os+Be]:[0,Ns,[],()=>[At()]],[Be]:[0,ms],[pc]:[0,Ms],[Os+Zt]:[1,vs,[cn],t=>[fe(...t)]],[Zt]:[1,is,[cn],t=>qt(Ft(t[0]))],InvalidValue:[1,ps]},([t,e,o,r],l)=>{ss[dc+l+gc]=(...h)=>ls(h[t],e[h[t+1]?1:0],t>0?Ue(h,0,t):void 0,o,r)}),_c(ss)};var Bc=["db","id","ids","no","ui","ws","add","api","bun","del","dom","for","get","has","hlc","log","map","row","set","sql","use","web","yjs"],oo=(s=!1)=>{addEventListener("load",()=>{let n=xs("body > header > nav");if(n==null)return;let c=ts("div",null,{id:"search"}),i=ts("input",c,{type:"text",placeholder:(navigator.platform.startsWith("Mac")?"\u2318":"cmd-")+"K Search"}),a=ts("ol",c),d=ts("li",a,{},"No results found"),T=Mn(),A=We(T);A.setIndexDefinition("p","p",f=>{let g=[];return f("t").split(" ").forEach(y=>{for(let N=0;N<y.length;N++)g.push(y.slice(0,N+1))}),g},"t",void 0,(f,g,y)=>wn(g,y)-wn(f,y)),fetch("/pages.json").then(f=>f.json()).then(f=>{T.transaction(()=>{T.setContent(f),T.forEachRow("p",g=>{let{n:y,s:N}=T.getRow("p",g),R=new Set;vn(g,R,!0),vn(y,R),vn(N,R),T.setCell("p",g,"t",Array.from(R.values()).join(" "))})}),J()});let J=()=>{n.prepend(c);let f=()=>(i.value?Ks:ht)(a,"show");i.addEventListener("focus",f),i.addEventListener("input",()=>{f(),S()}),i.addEventListener("blur",()=>ht(a,"show")),E()},S=()=>{let f=i.value.toLowerCase().split(/[^a-z0-9]+/),g=new Map;f.forEach(R=>A.getSliceRowIds("p",R).slice(0,50).forEach(x=>g.set(x,(g.get(x)??0)+wn(T.getCell("p",x,"t"),R))));let y=Array.from(g.keys()).sort((R,x)=>g.get(x)-g.get(R)).slice(0,10),N=y.length==0?[d]:y.map((R,x)=>{let B=ts("li"),{n:Ls,s:Ts}=T.getRow("p",R);return no(ts("b",B),Ls,f[0]),no(ts("span",B),Ts,f[0]),B.title=Ts,B.addEventListener("mousedown",()=>s?location.href=R:ut(R)),x==0&&Ks(B,"hover"),B});a.replaceChildren(...N)},E=()=>addEventListener("keydown",f=>{if(zs.activeElement==i){let g=Ps(a,".hover");switch(f.code){case"Escape":return i.blur();case"ArrowDown":return Js(f),eo(g,g?.nextSibling??a.firstChild);case"ArrowUp":return Js(f),eo(g,g?.previousSibling??a.lastChild);case"Enter":return g?.dispatchEvent(new MouseEvent("mousedown"))}}else f.code=="KeyK"&&f.metaKey&&(i.focus(),Js(f))})})},no=(s,n,c)=>{let i=n.toLowerCase().indexOf(c);s.innerHTML=i==-1?n:n.substring(0,i)+"<em>"+n.substring(i,i+c.length)+"</em>"+n.substring(i+c.length)},eo=(s,n)=>{s!=n&&(s&&ht(s,"hover"),n&&(Ks(n,"hover"),n.scrollIntoView({block:"nearest",inline:"nearest"})))},vn=(s,n,c)=>{let i=s.replaceAll(/[^a-zA-Z0-9]/g," ").split(/\s+/);c&&i.reverse(),i.forEach(a=>{[a,...a.replaceAll(/([a-z])([A-Z])/g,"$1 $2").split(" ")].forEach(d=>{let T=d.toLowerCase();(T.length>3||Bc.includes(T))&&n.add(T)})})},wn=(s,n)=>{let c=s.length,i=s.indexOf(n);return i===-1?0:(c-i)/c};me();Me();oo();addEventListener("load",()=>{an(),zs.body.addEventListener("click",n=>{if(n.button!=0)return;let c=n.target;if(c.tagName=="SPAN"&&c.innerHTML==""&&c.parentElement?.tagName=="LI")return s(c.parentElement);for(;c.tagName!="A"&&c.parentElement!=null;)c=c.parentElement;let i=c.href;!n.metaKey&&!n.shiftKey&&i!=null&&i!=location.origin+"/"&&i.startsWith(location.origin+"/")&&!i.includes("#")&&(ut(i),Js(n))}),window.onpopstate=function(n){location.href.includes("#")||(ut(location.href,!1),Js(n))};let s=n=>Ve(n,"open",()=>{let c=Ps(n,"a");c.href!=location.origin&&c.click()})});})();
