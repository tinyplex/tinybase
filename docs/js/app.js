"use strict";(()=>{var _e="v8.0.0-beta.1";var Oo="TinyBase",Ys=document,Fe=()=>{addEventListener("load",()=>{let t=As("#version");t.innerText=_e,t.style.width=t.scrollWidth+"px"})},Zo=null,Pe=()=>Zo??=As("body > main > nav"),Qo=null,Ae=()=>Qo??=As("body > main > article"),Qs=t=>t.preventDefault(),As=t=>Ys.querySelector(t),Us=(t,n)=>t.querySelector(n),Xo=t=>Ys.getElementById(t),ts=(t,n,c={},r)=>{let l=Ys.createElement(t);return Object.entries(c).forEach(g=>l.setAttribute(...g)),r!=null&&(l.innerText=r),n!=null?n.appendChild(l):l},Zs=(t,n)=>t.classList.add(n);var Et=(t,n)=>t.classList.remove(n),ze=(t,n,c)=>t.classList.toggle(n)?c():0,St=(t,n=!0)=>{let c=Pe();["?","#"].forEach(r=>{t.includes(r)&&(t=t.substring(0,t.indexOf(r)))}),fetch(`${t}nav.json`).then(r=>r.json()).then(r=>{Et(Us(c,"li.current"),"current"),Ge(r,Us(c,"ul"))}),fetch(`${t}article.html`).then(r=>r.text()).then(r=>{let l=Ae();l.innerHTML=r,l.scrollTo(0,0),Sn()}),n&&history.pushState(null,"",t)},Sn=()=>{let t=Us(Ae(),":scope iframe"),n=t?.parentElement;if(t==null||n==null)return;let c=n.insertBefore(ts("form",null,{action:"https://codepen.io/pen/define",method:"post",target:"_blank"}),t);n.insertBefore(ts("a",null,{id:"penEdit"},"Open this demo in CodePen"),t).onclick=()=>{c.childNodes.length==0?fetch("pen.json").then(r=>r.text()).then(r=>{ts("input",c,{type:"hidden",name:"data",value:r}),c.submit()}):c.submit()}},Ge=({i:t,n,u:c,r,c:l,p:g,o:E,_:z},J)=>{let M=Pe(),p=Xo(t);if(p==null){p=ts("li",J,{id:t}),ts("span",p);let h=ts("a",p,{href:c});r?ts("code",h,{},n):h.innerText=n,g&&Zs(p,"parent")}if(E&&Zs(p,"open"),z!=null){let h=Us(p,"ul")??ts("ul",p);z.forEach(T=>{Ge(T,h)})}if(l){Zs(p,"current"),Ys.title=`${n} | ${Oo}`;let h=p.getBoundingClientRect(),T=M.getBoundingClientRect();h.top<T.top?M.scrollBy(0,h.top-T.top):h.bottom>T.bottom&&M.scrollBy(0,Math.min(h.bottom-T.bottom,h.top-T.top))}};var qs="dark",pn="light",Cn="auto",je=()=>{let t=matchMedia("(prefers-color-scheme: dark)"),n=()=>{let c=localStorage.getItem(qs)??Cn;As("#dark")?.setAttribute("class",c),As("html").className=c==qs||c==Cn&&t.matches?qs:pn};t.addEventListener("change",n),window.addEventListener("storage",c=>{c.storageArea==localStorage&&c.key==qs&&n()}),addEventListener("load",()=>{As("#dark").addEventListener("click",()=>{let c=localStorage.getItem(qs);localStorage.setItem(qs,c==qs?pn:c==pn?Cn:qs),n()}),n()}),n()};var qe=t=>typeof t;var Io=qe(""),be=t=>""+t,sc=t=>(n,c,r)=>t(n)?r?.():c(n),Gs=t=>t===void 0,ke=t=>t===null,Xs=sc(Gs),tc=t=>qe(t)==Io,Ct=t=>Array.isArray(t),js=t=>t.length,nc=(t,n)=>t.test(n),Ke=(t,n)=>t.every(n),ec=(t,n)=>js(t)===js(n)&&Ke(t,(c,r)=>n[r]===c),We=(t,n)=>Ke(t,(c,r)=>r==0||n(t[r-1],c)<=0),Be=(t,n)=>t.sort(n),Is=(t,n)=>t.forEach(n),oc=(t,n)=>t.map(n),cc=t=>js(t)==0,ic=(t,n,c)=>t.reduce(n,c),Je=(t,...n)=>t.push(...n),rc=t=>t.shift(),$e=t=>n=>ic(yn(n),(c,r)=>c+t(r),0),Oe=t=>t?.size??0,Ze=$e(Oe),ac=$e(Ze),ft=(t,n)=>t?.has(n)??!1,mt=t=>Gs(t)||Oe(t)==0,yn=t=>[...t?.values()??[]],Ue=t=>t.clear(),gs=(t,n)=>t?.forEach(n),ht=(t,n)=>t?.delete(n),lc=Object,fc=lc.freeze,hc=Map,ns=t=>new hc(t),Qe=t=>[...t?.keys()??[]],q=(t,n)=>t?.get(n),pt=(t,n)=>gs(t,(c,r)=>n(r,c)),U=(t,n,c)=>Gs(c)?(ht(t,n),t):t?.set(n,c),Xe=(t,n,c,r)=>(ft(t,n)?r?.(q(t,n)):U(t,n,c()),q(t,n)),mn=(t,n,c,r,l=0)=>Xs((c?Xe:q)(t,n[l],l>js(n)-2?c:ns),g=>{if(l>js(n)-2)return r?.(g)&&U(t,n[l]),g;let E=mn(g,n,c,r,l+1);return mt(g)&&U(t,n[l]),E}),ks=t=>new Set(Ct(t)||Gs(t)?t:[t]),zs=(t,n)=>t?.add(n),uc=(t,n,c,r,l)=>{let g=t.hasRow,E=ns(),z=ns(),J=ns(),M=ns(),p=ns(),h=ns(),T=()=>t,V=()=>Qe(E),H=d=>pt(z,d),C=d=>ft(z,d),F=d=>q(E,d),Y=d=>q(z,d),ls=(d,j)=>U(z,d,j),Ls=(d,j,...cs)=>{let Z=Xe(h,d,ks);return Is(cs,m=>zs(Z,m)&&j&&t.callListener(m)),cs},Ts=(d,...j)=>Xs(q(h,d),cs=>{Is(cc(j)?yn(cs):j,Z=>{t.delListener(Z),ht(cs,Z)}),mt(cs)&&U(h,d)}),Vs=(d,j)=>{U(E,d,j),ft(z,d)||(U(z,d,n()),U(M,d,ns()),U(p,d,ns()),l(J))},ct=(d,j,cs,Z,m)=>{Vs(d,j);let G=ns(),Q=ns(),X=q(M,d),fs=q(p,d),ds=P=>{let $=Es=>t.getCell(j,P,Es),I=q(X,P),ps=g(j,P)?c(Z($,P)):void 0;if(I===ps||Ct(I)&&Ct(ps)&&ec(I,ps)||U(G,P,[I,ps]),!Gs(m)){let Es=q(fs,P),Ms=g(j,P)?m($,P):void 0;Es!=Ms&&U(Q,P,Ms)}},is=P=>{cs(()=>{gs(G,([,$],I)=>U(X,I,$)),gs(Q,($,I)=>U(fs,I,$))},G,Q,X,fs,P),Ue(G),Ue(Q)};pt(X,ds),t.hasTable(j)&&Is(t.getRowIds(j),P=>{ft(X,P)||ds(P)}),is(!0),Ts(d),Ls(d,0,t.addRowListener(j,null,(P,$,I)=>ds(I)),t.addTableListener(j,()=>is()))},xs=d=>{U(E,d),U(z,d),U(M,d),U(p,d),Ts(d),l(J)};return[T,V,H,C,F,Y,ls,Vs,ct,xs,d=>r(d,J),()=>pt(h,xs),Ls,Ts]},Ye=(t,n)=>tc(t)?c=>c(t):t??(()=>n??""),gc=(t,n)=>{let c=new WeakMap;return r=>(c.has(r)||c.set(r,t(r)),c.get(r))},Lc=(t,n)=>(t??0)<(n??0)?-1:1,Tc=/^\d+$/,dc=()=>{let t=[],n=0;return[c=>(c?rc(t):null)??""+n++,c=>{nc(Tc,c)&&js(t)<1e3&&Je(t,c)}]},Ec=(t,n=[""])=>{let c=[],r=(l,g)=>g==js(n)?Je(c,l):ke(n[g])?gs(l,E=>r(E,g+1)):Is([n[g],null],E=>r(q(l,E),g+1));return r(t,0),c},Sc=t=>{let n,[c,r]=dc(),l=ns();return[(M,p,h,T=[],V=()=>[])=>{n??=t();let H=c(1);return U(l,H,[M,p,h,T,V]),zs(mn(p,h??[""],ks),H),H},(M,p,...h)=>Is(Ec(M,p),T=>gs(T,V=>q(l,V)[0](n,...p??[],...h))),M=>Xs(q(l,M),([,p,h])=>(mn(p,h??[""],void 0,T=>(ht(T,M),mt(T)?1:0)),U(l,M),r(M),h)),M=>Xs(q(l,M),([p,,h=[],T,V])=>{let H=(...C)=>{let F=js(C);F==js(h)?p(n,...C,...V(C)):ke(h[F])?Is(T[F]?.(...C)??[],Y=>H(...C,Y)):H(...C,h[F])};H()})]},Ie=gc(t=>{let n=ns(),c=ns(),[r,l,g]=Sc(()=>Z),[E,z,J,M,p,h,T,,V,H,C,F]=uc(t,ns,m=>Gs(m)?"":Ct(m)?oc(m,be):be(m),r,l),Y=(m,G)=>ft(h(m),G),ls=(m,G,Q,X,fs,ds=Lc)=>{let is=Gs(fs)?void 0:([P],[$])=>fs(P,$);return V(m,G,(P,$,I,ps,Es,Ms)=>{let Ns=0,_s=ks(),Fs=ks(),rs=h(m);if(gs($,([k,hs],Cs)=>{let ms=ks(k),ys=ks(hs);gs(ms,w=>ht(ys,w)?ht(ms,w):0),gs(ms,w=>{zs(_s,w),Xs(q(rs,w),xt=>{ht(xt,Cs),mt(xt)&&(U(rs,w),Ns=1)})}),gs(ys,w=>{zs(_s,w),ft(rs,w)||(U(rs,w,ks()),Ns=1),zs(q(rs,w),Cs),Gs(X)||zs(Fs,w)})}),P(),mt(Es)||(Ms?pt(rs,k=>zs(Fs,k)):pt(I,k=>Xs(q(ps,k),hs=>Is(Ct(hs)?hs:[hs],Cs=>zs(Fs,Cs)))),gs(Fs,k=>{let hs=(ms,ys)=>ds(q(Es,ms),q(Es,ys),k),Cs=[...q(rs,k)];We(Cs,hs)||(U(rs,k,ks(Be(Cs,hs))),zs(_s,k))})),(Ns||Ms)&&!Gs(is)){let k=[...rs];We(k,is)||(T(m,ns(Be(k,is))),Ns=1)}Ns&&l(n,[m]),gs(_s,k=>l(c,[m,k]))},Ye(Q),Xs(X,Ye)),Z},Ls=m=>J((G,Q)=>m(G,X=>Vs(G,X,Q))),Ts=(m,G)=>Vs(m,G,h(m)),Vs=(m,G,Q)=>{let X=p(m);gs(Q,(fs,ds)=>G(ds,is=>gs(fs,P=>is(P,$=>t.forEachCell(X,P,$)))))},Z={setIndexDefinition:ls,delIndexDefinition:m=>(H(m),Z),getStore:E,getIndexIds:z,forEachIndex:Ls,forEachSlice:Ts,hasIndex:M,hasSlice:Y,getTableId:p,getSliceIds:m=>Qe(h(m)),getSliceRowIds:(m,G)=>yn(q(h(m),G)),addIndexIdsListener:C,addSliceIdsListener:(m,G)=>r(G,n,[m]),addSliceRowIdsListener:(m,G,Q)=>r(Q,c,[m,G]),delListener:m=>(g(m),Z),destroy:F,getListenerStats:()=>({sliceIds:Ze(n),sliceRowIds:ac(c)})};return fc(Z)});var ot=t=>typeof t;var pc=ot(""),Cc=ot(!0),ro=ot(0),mc=ot(ot),Kt="type",bs="default",Jt="allowNull",yc="null",Rc="Listener",Vc="add",st="Has",cn="Ids",Lt="Table",so=Lt+"s",Mc=Lt+cn,It="Row",Nc=It+"Count",Hc=It+cn,Xt="Cell",to=Xt+cn,sn="Value",no=sn+"s",vc=sn+cn,_=t=>""+t,ao=t=>(n,c,r)=>t(n)?r?.():c(n),wc=globalThis,xc=isFinite,Dc=(t,n)=>t instanceof n,tn=t=>t==null,os=t=>t===void 0,nt=t=>t===null,_c=ao(tn),A=ao(os),lo=t=>t==pc||t==Cc,Rn=t=>ot(t)==mc,fo=t=>Array.isArray(t),eo=(t,n,c)=>t.slice(n,c),ws=t=>t.length,Fc=(t,n)=>t.test(n),ut=wc.structuredClone,Vn=async(t,n,c)=>{try{return await t()}catch(r){n?.(r)}},Pc=(t,n)=>t.includes(n),ho=(t,n)=>t.every(n),Ac=(t,n)=>ws(t)===ws(n)&&ho(t,(c,r)=>n[r]===c),zc=(t,n)=>t.sort(n),wt=(t,n)=>t.forEach(n),nn=(t,n)=>t.map(n),Gc=(t,n,c)=>t.reduce(n,c),en=(t,...n)=>t.push(...n),jc=t=>t.shift(),yt=t=>{if(nt(t))return yc;let n=ot(t);return lo(n)||n==ro&&xc(t)?n:void 0},_n=t=>n=>Gc(bc(n),(c,r)=>c+t(r),0),Fn=t=>t?.size??0,Pn=_n(Fn),Mt=_n(Pn),Mn=_n(Mt),es=(t,n)=>t?.has(n)??!1,y=t=>os(t)||Fn(t)==0,bc=t=>[...t?.values()??[]],Nn=t=>t.clear(),v=(t,n)=>t?.forEach(n),on=(t,n)=>t?.delete(n),$s=Object,oo=t=>$s.getPrototypeOf(t),Wc=$s.isFrozen,An=$s.entries,Tt=t=>!tn(t)&&_c(oo(t),n=>n==$s.prototype||tn(oo(n)),()=>!0),Bc=$s.keys,Uc=$s.freeze,Yc=(t=[])=>$s.fromEntries(t),Nt=(t,n)=>n in t,uo=(t,n)=>(delete t[n],t),qc=(t,n)=>wt(An(t),([c,r])=>n(r,c)),kc=(t,n)=>nn(An(t),([c,r])=>n(r,c)),Ws=(t,n)=>Yc(kc(t,(c,r)=>[r,n(c,r)])),go=t=>ws(Bc(t)),vs=t=>Tt(t)&&go(t)==0,et=(t,n,c=(r,l)=>r===l)=>{let r=An(t);return ws(r)===go(n)&&ho(r,([l,g])=>Tt(g)?Tt(n[l])?et(n[l],g):!1:c(g,n[l]))},Ks=(t,n,c,r=0)=>tn(t)||!Tt(t)||!r&&vs(t)||Wc(t)?(c?.(),!1):(qc(t,(l,g)=>{n(l,g)||uo(t,g)}),r?!0:!vs(t)),Kc=Map,R=t=>new Kc(t),Rt=t=>[...t?.keys()??[]],L=(t,n)=>t?.get(n),Js=(t,n)=>v(t,(c,r)=>n(r,c)),Jc=(t,n)=>nn([...t?.entries()??[]],([c,r])=>n(r,c)),x=(t,n,c)=>os(c)?(on(t,n),t):t?.set(n,c),O=(t,n,c,r)=>(es(t,n)?r?.(L(t,n)):x(t,n,c()),L(t,n)),tt=(t,n,c,r=x)=>(Ws(n,(l,g)=>c(t,g,l)),Js(t,l=>Nt(n,l)?0:r(t,l)),t),as=(t,n,c,r)=>{let l={};return v(t,(g,E)=>{if(!c?.(g,E)){let z=n?n(g,E):g;r?.(z)||(l[E]=z)}}),l},vn=(t,n,c)=>as(t,r=>as(r,n,c),y,vs),$t=(t,n,c)=>as(t,r=>vn(r,n,c),y,vs),Rs=(t,n)=>{let c=R();return v(t,(r,l)=>c.set(l,n?.(r)??r)),c},wn=t=>Rs(t,Rs),co=t=>Rs(t,wn),xn=(t,n,c,r,l=0)=>A((c?O:L)(t,n[l],l>ws(n)-2?c:R),g=>{if(l>ws(n)-2)return r?.(g)&&x(t,n[l]),g;let E=xn(g,n,c,r,l+1);return y(g)&&x(t,n[l]),E}),$c=JSON.stringify,Hn=JSON.parse,gt=t=>$c(t,(n,c)=>Dc(c,Map)?$s.fromEntries([...c]):c),Oc=(t,n)=>(t??0)<(n??0)?-1:1,Zc=/^\d+$/,Dn=()=>{let t=[],n=0;return[c=>(c?jc(t):null)??""+n++,c=>{Fc(Zc,c)&&ws(t)<1e3&&en(t,c)}]},Ht=t=>new Set(fo(t)||os(t)?t:[t]),vt=(t,n)=>t?.add(n),Qc=(t,n=[""])=>{let c=[],r=(l,g)=>g==ws(n)?en(c,l):nt(n[g])?v(l,E=>r(E,g+1)):wt([n[g],null],E=>r(L(l,E),g+1));return r(t,0),c},Xc=t=>{let n,[c,r]=Dn(),l=R();return[(M,p,h,T=[],V=()=>[])=>{n??=t();let H=c(1);return x(l,H,[M,p,h,T,V]),vt(xn(p,h??[""],Ht),H),H},(M,p,...h)=>wt(Qc(M,p),T=>v(T,V=>L(l,V)[0](n,...p??[],...h))),M=>A(L(l,M),([,p,h])=>(xn(p,h??[""],void 0,T=>(on(T,M),y(T)?1:0)),x(l,M),r(M),h)),M=>A(L(l,M),([p,,h=[],T,V])=>{let H=(...C)=>{let F=ws(C);F==ws(h)?p(n,...C,...V(C)):nt(h[F])?wt(T[F]?.(...C)??[],Y=>H(...C,Y)):H(...C,h[F])};H()})]},Ot=t=>[t,t],W=(t,n=Pn)=>n(t[0])+n(t[1]),B=()=>[R(),R()],Zt=t=>[...t],Qt=([t,n])=>t===n,Vt=(t,n,c)=>x(t,n,L(t,n)==-c?void 0:c),io=([t,n],[c,r])=>et(t,c)&&et(n,r),zn=()=>{let t,n,c=!1,r=!1,l=0,g=[],E=[],z=0,J=R(),M=R(),p=R(),h=R(),T=R(),V=R(),H=R(),C=R(),F=R(),Y=R(),ls=R(),Ls=R(),Ts=R(),Vs=R(),ct=Ht(),xs=R(),Ds=R(),D=R(),d=R(),j=B(),cs=B(),Z=B(),m=B(),G=B(),Q=B(),X=B(),fs=B(),ds=B(),is=B(),P=B(),$=B(),I=B(),ps=B(),Es=B(),Ms=B(),Ns=B(),_s=B(),Fs=B(),rs=B(),k=B(),hs=B(),Cs=R(),ms=B(),[ys,w,xt,So]=Xc(()=>Ss),ss=s=>{let e=z;z=1;let o=s();return z=e,o},Bs=(s,e,o,i=Object.is)=>A(e(),a=>s===a||i(s,a)?o(a):ss(()=>o(a))),po=s=>Ks(s,e=>Ks(e,bn)),Co=s=>Ks(s,bn),bn=s=>{if(!Ks(s,(i,a)=>Pc([Kt,bs,Jt],a)))return!1;let e=s[Kt];if(!lo(e)&&e!=ro)return!1;let o=s[bs];return nt(o)&&!s[Jt]?!1:(!nt(o)&&yt(o)!=e&&uo(s,bs),!0)},mo=fo,yo=s=>Ks(s,Wn,Ps),Wn=(s,e)=>(!t||es(ls,e)||Ps(e))&&Ks(s,(o,i)=>Dt(e,i,o),()=>Ps(e)),Dt=(s,e,o,i)=>Ks(i?o:qn(o,s,e),(a,f)=>A(Bn(s,e,f,a),u=>(o[f]=u,!0),()=>!1),()=>Ps(s,e)),Bn=(s,e,o,i)=>t?A(L(L(ls,s),o),a=>nt(i)?a[Jt]?i:Ps(s,e,o,i,a[bs]):yt(i)==a[Kt]?i:Ps(s,e,o,i,a[bs]),()=>Ps(s,e,o,i)):os(yt(i))?Ps(s,e,o,i):i,Un=(s,e)=>Ks(e?s:Ro(s),(o,i)=>A(Yn(i,o),a=>(s[i]=a,!0),()=>!1),()=>it()),Yn=(s,e)=>n?A(L(Ts,s),o=>nt(e)?o[Jt]?e:it(s,e,o[bs]):yt(e)==o[Kt]?e:it(s,e,o[bs]),()=>it(s,e)):os(yt(e))?it(s,e):e,qn=(s,e,o)=>(A(L(Ls,e),([i,a])=>{v(i,(f,u)=>{Nt(s,u)||(s[u]=f)}),v(a,f=>{Nt(s,f)||Ps(e,o,f)})}),s),Ro=s=>(n&&(v(Vs,(e,o)=>{Nt(s,o)||(s[o]=e)}),v(ct,e=>{Nt(s,e)||it(e)})),s),kn=s=>tt(ls,s,(e,o,i)=>{let a=R(),f=Ht();tt(O(ls,o,R),i,(u,S,N)=>{x(u,S,N),A(N[bs],K=>x(a,S,K),()=>vt(f,S))}),x(Ls,o,[a,f])},(e,o)=>{x(ls,o),x(Ls,o)}),Kn=s=>tt(Ts,s,(e,o,i)=>{x(Ts,o,i),A(i[bs],a=>x(Vs,o,a),()=>vt(ct,o))},(e,o)=>{x(Ts,o),x(Vs,o),on(ct,o)}),Jn=s=>vs(s)?qt():Ut(s),rn=(s,e,o,i,a)=>os(i)?Ne(s,e,o,!0,a):pe(s,e,o,i,a),$n=s=>vs(s)?kt():Yt(s),an=(s,e,o)=>os(e)?He(s,o):Ce(s,e,o),Vo=s=>Bs(s,()=>A(g[0],e=>ss(()=>e(ut(s))),()=>s),([e,o])=>{(vs(e)?qt:Ut)(e),(vs(o)?kt:Yt)(o)},io),On=(s,e)=>Bs(s,()=>e?s:A(g[1],o=>ss(()=>o(ut(s))),()=>s),o=>tt(D,o,(i,a,f)=>ln(a,f),(i,a)=>Xn(a)),et),ln=(s,e,o)=>Bs(e,()=>o?e:A(g[2],i=>ss(()=>i(s,ut(e))),()=>e),i=>tt(O(D,s,()=>(fn(s,1),x(xs,s,Dn()),x(Ds,s,R()),R())),i,(a,f,u)=>_t(s,a,f,u),(a,f)=>In(s,a,f)),et),_t=(s,e,o,i,a)=>Bs(i,()=>a?i:A(g[3],f=>ss(()=>f(s,o,ut(i))),()=>i),f=>tt(O(e,o,()=>(hn(s,o,1),R())),f,(u,S,N)=>Ft(s,o,u,S,N),(u,S)=>se(s,e,o,u,S,a)),et),Ft=(s,e,o,i,a,f)=>Bs(a,()=>A(f?void 0:g[4],u=>ss(()=>u(s,e,i,a)),()=>a),u=>{es(o,i)||ne(s,e,i,1);let S=L(o,i);u!==S&&(ee(s,e,i,S,u),x(o,i,u))}),Zn=(s,e,o,i,a,f)=>A(L(e,o),u=>Ft(s,o,u,i,a,f),()=>{let u=R();x(e,o,u),hn(s,o,1),Ws(qn({[i]:a},s,o),(S,N)=>Ft(s,o,u,N,S,f))}),Qn=(s,e)=>Bs(s,()=>e?s:A(g[5],o=>ss(()=>o(ut(s))),()=>s),o=>tt(d,o,(i,a,f)=>Pt(a,f),(i,a)=>te(a)),et),Pt=(s,e,o)=>Bs(e,()=>A(o?void 0:g[6],i=>ss(()=>i(s,e)),()=>e),i=>{es(d,s)||oe(s,1);let a=L(d,s);i!==a&&(ce(s,a,i),x(d,s,i))}),Mo=(s,e)=>{let[o]=L(xs,s),i;do i=o(e);while(es(L(D,s),i));return i},At=s=>O(D,s,()=>(fn(s,1),x(xs,s,Dn()),x(Ds,s,R()),R())),Xn=s=>ss(()=>g[8]?.(s))??!0?ln(s,{},!0):L(D,s),In=(s,e,o)=>{if(ss(()=>g[9]?.(s,o))??!0){let[,i]=L(xs,s);i(o),_t(s,e,o,{},!0)}},se=(s,e,o,i,a,f,u)=>{let S=L(L(Ls,s)?.[0],a);if(!os(S)&&!f)return Ft(s,o,i,a,S);if(u||(ss(()=>g[10]?.(s,o,a))??!0)){let N=K=>{ee(s,o,K,L(i,K)),ne(s,o,K,-1),x(i,K)};os(S)?N(a):Js(i,N),y(i)&&(hn(s,o,-1),y(x(e,o))&&(fn(s,-1),x(D,s),x(xs,s),x(Ds,s)))}},te=(s,e)=>{let o=L(Vs,s);if(!os(o))return Pt(s,o);(e||(ss(()=>g[12]?.(s))??!0))&&(ce(s,L(d,s)),oe(s,-1),x(d,s))},fn=(s,e)=>Vt(J,s,e),hn=(s,e,o)=>Vt(O(h,s,R),e,o)&&x(p,s,O(p,s,()=>0)+o),ne=(s,e,o,i)=>{let a=L(Ds,s),f=L(a,o)??0;(f==0&&i==1||f==1&&i==-1)&&Vt(O(M,s,R),o,i),x(a,o,f!=-i?f+i:void 0),Vt(O(O(T,s,R),e,R),o,i)},ee=(s,e,o,i,a)=>{O(O(O(V,s,R),e,R),o,()=>[i,0])[1]=a,E[3]?.(s,e,o,a,z)},oe=(s,e)=>Vt(H,s,e),ce=(s,e,o)=>{O(C,s,()=>[e,0])[1]=o,E[4]?.(s,o,z)},Ps=(s,e,o,i,a)=>(en(O(O(O(F,s,R),e,R),o,()=>[]),i),a),it=(s,e,o)=>(en(O(Y,s,()=>[]),e),o),zt=(s,e,o)=>A(L(L(L(V,s),e),o),([i,a])=>[!0,i,a],()=>[!1,...Ot(jt(s,e,o))]),ie=s=>A(L(C,s),([e,o])=>[!0,e,o],()=>[!1,...Ot(bt(s))]),re=s=>!y(F)&&!y(Ms[s])?v(s?co(F):F,(e,o)=>v(e,(i,a)=>v(i,(f,u)=>w(Ms[s],[o,a,u],f)))):0,ae=s=>!y(Y)&&!y(Ns[s])?v(s?Rs(Y):Y,(e,o)=>w(Ns[s],[o],e)):0,dt=(s,e,o,i)=>{if(!y(s))return w(e,i,()=>as(s)),Js(s,(a,f)=>w(o,[...i??[],a],f==1)),1},le=s=>{let e=!y(j[s]),o=!y(is[s]),i=!(y(I[s])&&y(ps[s])&&y(ds[s])&&y(P[s])&&y(Q[s])&&y(X[s])&&y(fs[s])&&!o&&y(Z[s])&&y(m[s])),a=!(y(Es[s])&&y($[s])&&y(G[s])&&y(cs[s]));if(e||i||a){let f=s?[Rs(J),wn(M),Rs(p),wn(h),co(T),Rs(V,u=>Rs(u,S=>Rs(S,Zt)))]:[J,M,p,h,T,V];if(e){let u=Wt();u!=c&&w(j[s],void 0,u)}if(i){dt(f[0],Z[s],m[s]),v(f[1],(S,N)=>dt(S,Q[s],X[s],[N])),v(f[2],(S,N)=>{S!=0&&w(fs[s],[N],ge(N))});let u=Ht();v(f[3],(S,N)=>{dt(S,ds[s],P[s],[N])&&o&&(w(is[s],[N,null]),vt(u,N))}),o&&v(f[5],(S,N)=>{if(!es(u,N)){let K=Ht();v(S,Hs=>v(Hs,([at,lt],Os)=>lt!==at?vt(K,Os):on(Hs,Os))),v(K,Hs=>w(is[s],[N,Hs]))}}),v(f[4],(S,N)=>v(S,(K,Hs)=>dt(K,I[s],ps[s],[N,Hs])))}if(a){let u;v(f[5],(S,N)=>{let K;v(S,(Hs,at)=>{let lt;v(Hs,([Os,De],$o)=>{De!==Os&&(w(Es[s],[N,at,$o],De,Os,zt),u=K=lt=1)}),lt&&w($[s],[N,at],zt)}),K&&w(G[s],[N],zt)}),u&&w(cs[s],void 0,zt)}}},fe=s=>{let e=!y(_s[s]),o=!y(rs[s])||!y(k[s]),i=!y(hs[s])||!y(Fs[s]);if(e||o||i){let a=s?[Rs(H),Rs(C,Zt)]:[H,C];if(e){let f=Bt();f!=r&&w(_s[s],void 0,f)}if(o&&dt(a[0],rs[s],k[s]),i){let f;v(a[1],([u,S],N)=>{S!==u&&(w(hs[s],[N],S,u,ie),f=1)}),f&&w(Fs[s],void 0,ie)}}},b=(s,...e)=>(En(()=>s(...nn(e,_))),Ss),he=(s,e,o,i,a)=>{let f=Gt(s,e,...o);return ys(()=>{let u=Gt(s,e,...o);Ac(u,f)||(f=u,i(Ss,s,e,...o,f))},is[a?1:0],[s,e],[us])},No=()=>[un(),Ln()],un=()=>$t(D),us=()=>Rt(D),Ho=s=>vn(L(D,_(s))),ue=s=>Rt(L(Ds,_(s))),ge=s=>Fn(L(D,_(s))),rt=s=>Rt(L(D,_(s))),Gt=(s,e,o,i=0,a)=>Tt(s)?Gt(s.tableId,s.cellId,s.descending,s.offset,s.limit):nn(eo(zc(Jc(L(D,_(s)),(f,u)=>[os(e)?u:L(f,_(e)),u]),([f],[u])=>Oc(f,u)*(o?-1:1)),i,os(a)?a:i+a),([,f])=>f),vo=(s,e)=>as(L(L(D,_(s)),_(e))),gn=(s,e)=>Rt(L(L(D,_(s)),_(e))),jt=(s,e,o)=>L(L(L(D,_(s)),_(e)),_(o)),Ln=()=>as(d),Tn=()=>Rt(d),bt=s=>L(d,_(s)),Wt=()=>!y(D),Le=s=>es(D,_(s)),Te=(s,e)=>es(L(Ds,_(s)),_(e)),de=(s,e)=>es(L(D,_(s)),_(e)),Ee=(s,e,o)=>es(L(L(D,_(s)),_(e)),_(o)),Bt=()=>!y(d),Se=s=>es(d,_(s)),wo=()=>gt(D),xo=()=>gt(d),Do=()=>gt([D,d]),_o=()=>gt(ls),Fo=()=>gt(Ts),Po=()=>gt([ls,Ts]),Ao=s=>b(()=>{let e=Rn(s)?s():s;mo(e)&&Vo(e)}),Ut=s=>b(()=>yo(s)?On(s):0),zo=(s,e)=>b(o=>Wn(e,o)?ln(o,e):0,s),Go=(s,e,o)=>b((i,a)=>Dt(i,a,o)?_t(i,At(i),a,o):0,s,e),jo=(s,e,o=!0)=>En(()=>{let i;return Dt(s,i,e)&&(s=_(s),_t(s,At(s),i=Mo(s,o?1:0),e)),i}),bo=(s,e,o)=>b((i,a)=>{if(Dt(i,a,o,1)){let f=At(i);Ws(o,(u,S)=>Zn(i,f,a,S,u))}},s,e),pe=(s,e,o,i,a)=>b((f,u,S)=>A(Bn(f,u,S,Rn(i)?i(jt(f,u,S)):i),N=>Zn(f,At(f),u,S,N,a)),s,e,o),Yt=s=>b(()=>Un(s)?Qn(s):0),Wo=s=>b(()=>Un(s,1)?Ws(s,(e,o)=>Pt(o,e)):0),Ce=(s,e,o)=>b(i=>A(Yn(i,Rn(e)?e(bt(i)):e),a=>Pt(i,a,o)),s),Bo=s=>b(()=>Bs(s,()=>A(g[13],e=>ss(()=>e(ut(s))),()=>s),e=>{Ws(e[0],(o,i)=>os(o)?Ve(i):Ws(o,(a,f)=>os(a)?Me(i,f):Ws(a,(u,S)=>rn(i,f,S,u)))),Ws(e[1],(o,i)=>an(i,o))},io)),me=s=>(Vn(()=>Jn(Hn(s))),Ss),Uo=s=>(Vn(()=>$n(Hn(s))),Ss),Yo=s=>b(()=>Vn(()=>{let[e,o]=Hn(s);Jn(e),$n(o)},()=>me(s))),ye=s=>b(()=>{if((t=po(s))&&(kn(s),!y(D))){let e=un();qt(),Ut(e)}}),Re=s=>b(()=>{if(n=Co(s)){let e=Ln();dn(),kt(),n=!0,Kn(s),Yt(e)}}),qo=(s,e)=>b(()=>{ye(s),Re(e)}),qt=()=>b(()=>ss(()=>g[7]?.())??!0?On({},!0):0),Ve=s=>b(e=>es(D,e)?Xn(e):0,s),Me=(s,e)=>b((o,i)=>A(L(D,o),a=>es(a,i)?In(o,a,i):0),s,e),Ne=(s,e,o,i,a)=>b((f,u,S)=>A(L(D,f),N=>A(L(N,u),K=>es(K,S)?se(f,N,u,K,S,i,a):0)),s,e,o),kt=()=>b(()=>ss(()=>g[11]?.())??!0?Qn({},!0):0),He=(s,e)=>b(o=>es(d,o)?te(o,e):0,s),ve=()=>b(()=>{kn({}),t=!1}),dn=()=>b(()=>{Kn({}),n=!1}),ko=()=>b(()=>{ve(),dn()}),En=(s,e)=>{if(l!=-1){we();let o=s();return xe(e),o}},we=()=>(l!=-1&&l++,l==1&&(E[0]?.(),w(Cs)),Ss),Ko=()=>[as(V,(s,e)=>L(J,e)===-1?void 0:as(s,(o,i)=>L(L(h,e),i)===-1?void 0:as(o,([,a])=>a,a=>Qt(a)),y,vs),y,vs),as(C,([,s])=>s,s=>Qt(s)),1],Jo=()=>[!y(V),!y(C),$t(V,Zt,Qt),$t(F),as(C,Zt,Qt),as(Y),as(J),vn(h),$t(T),as(H)],xe=s=>(l>0&&(l--,l==0&&(l=1,ss(()=>{re(1),y(V)||le(1),ae(1),y(C)||fe(1)}),s?.(Ss)&&(v(V,(e,o)=>v(e,(i,a)=>v(i,([f],u)=>rn(o,a,u,f,!0)))),Nn(V),v(C,([e],o)=>an(o,e,!0)),Nn(C)),w(ms[0],void 0),l=-1,re(0),y(V)||le(0),ae(0),y(C)||fe(0),E[1]?.(),w(ms[1],void 0),E[2]?.(),l=0,c=Wt(),r=Bt(),wt([J,M,p,h,T,V,F,H,C,Y],Nn))),Ss),Ss={getContent:No,getTables:un,getTableIds:us,getTable:Ho,getTableCellIds:ue,getRowCount:ge,getRowIds:rt,getSortedRowIds:Gt,getRow:vo,getCellIds:gn,getCell:jt,getValues:Ln,getValueIds:Tn,getValue:bt,hasTables:Wt,hasTable:Le,hasTableCell:Te,hasRow:de,hasCell:Ee,hasValues:Bt,hasValue:Se,getTablesJson:wo,getValuesJson:xo,getJson:Do,getTablesSchemaJson:_o,getValuesSchemaJson:Fo,getSchemaJson:Po,hasTablesSchema:()=>t,hasValuesSchema:()=>n,setContent:Ao,setTables:Ut,setTable:zo,setRow:Go,addRow:jo,setPartialRow:bo,setCell:pe,setValues:Yt,setPartialValues:Wo,setValue:Ce,applyChanges:Bo,setTablesJson:me,setValuesJson:Uo,setJson:Yo,setTablesSchema:ye,setValuesSchema:Re,setSchema:qo,delTables:qt,delTable:Ve,delRow:Me,delCell:Ne,delValues:kt,delValue:He,delTablesSchema:ve,delValuesSchema:dn,delSchema:ko,transaction:En,startTransaction:we,getTransactionChanges:Ko,getTransactionLog:Jo,finishTransaction:xe,forEachTable:s=>v(D,(e,o)=>s(o,i=>v(e,(a,f)=>i(f,u=>Js(a,u))))),forEachTableCell:(s,e)=>Js(L(Ds,_(s)),e),forEachRow:(s,e)=>v(L(D,_(s)),(o,i)=>e(i,a=>Js(o,a))),forEachCell:(s,e,o)=>Js(L(L(D,_(s)),_(e)),o),forEachValue:s=>Js(d,s),addSortedRowIdsListener:(s,e,o,i,a,f,u)=>Tt(s)?he(s.tableId,s.cellId,[s.descending??!1,s.offset??0,s.limit],e,o):he(s,e,[o,i,a],f,u),addStartTransactionListener:s=>ys(s,Cs),addWillFinishTransactionListener:s=>ys(s,ms[0]),addDidFinishTransactionListener:s=>ys(s,ms[1]),callListener:s=>(So(s),Ss),delListener:s=>(xt(s),Ss),getListenerStats:()=>({hasTables:W(j),tables:W(cs),tableIds:W(Z),hasTable:W(m),table:W(G),tableCellIds:W(Q),hasTableCell:W(X,Mt),rowCount:W(fs),rowIds:W(ds),sortedRowIds:W(is),hasRow:W(P,Mt),row:W($,Mt),cellIds:W(I,Mt),hasCell:W(ps,Mn),cell:W(Es,Mn),invalidCell:W(Ms,Mn),hasValues:W(_s),values:W(Fs),valueIds:W(rs),hasValue:W(k),value:W(hs),invalidValue:W(Ns),transaction:Pn(Cs)+W(ms)}),isMergeable:()=>!1,createStore:zn,addListener:ys,callListeners:w,setInternalListeners:(s,e,o,i,a)=>E=[s,e,o,i,a],setMiddleware:(s,e,o,i,a,f,u,S,N,K,Hs,at,lt,Os)=>g=[s,e,o,i,a,f,u,S,N,K,Hs,at,lt,Os],setOrDelCell:rn,setOrDelValue:an};return Ws({[st+so]:[0,j,[],()=>[Wt()]],[so]:[0,cs],[Mc]:[0,Z],[st+Lt]:[1,m,[us],s=>[Le(...s)]],[Lt]:[1,G,[us]],[Lt+to]:[1,Q,[us]],[st+Lt+Xt]:[2,X,[us,ue],s=>[Te(...s)]],[Nc]:[1,fs,[us]],[Hc]:[1,ds,[us]],[st+It]:[2,P,[us,rt],s=>[de(...s)]],[It]:[2,$,[us,rt]],[to]:[2,I,[us,rt]],[st+Xt]:[3,ps,[us,rt,gn],s=>[Ee(...s)]],[Xt]:[3,Es,[us,rt,gn],s=>Ot(jt(...s))],InvalidCell:[3,Ms],[st+no]:[0,_s,[],()=>[Bt()]],[no]:[0,Fs],[vc]:[0,rs],[st+sn]:[1,k,[Tn],s=>[Se(...s)]],[sn]:[1,hs,[Tn],s=>Ot(bt(s[0]))],InvalidValue:[1,Ns]},([s,e,o,i],a)=>{Ss[Vc+a+Rc]=(...f)=>ys(f[s],e[f[s+1]?1:0],s>0?eo(f,0,s):void 0,o,i)}),Uc(Ss)};var Ic=["db","id","ids","no","ui","ws","add","api","bun","del","dom","for","get","has","hlc","log","map","row","set","sql","use","web","yjs"],Eo=(t=!1)=>{addEventListener("load",()=>{let n=As("body > header > nav");if(n==null)return;let c=ts("div",null,{id:"search"}),r=ts("input",c,{type:"text",placeholder:(navigator.platform.startsWith("Mac")?"\u2318":"cmd-")+"K Search"}),l=ts("ol",c),g=ts("li",l,{},"No results found"),E=zn(),z=Ie(E);z.setIndexDefinition("p","p",h=>{let T=[];return h("t").split(" ").forEach(V=>{for(let H=0;H<V.length;H++)T.push(V.slice(0,H+1))}),T},"t",void 0,(h,T,V)=>jn(T,V)-jn(h,V)),fetch("/pages.json").then(h=>h.json()).then(h=>{E.transaction(()=>{E.setContent(h),E.forEachRow("p",T=>{let{n:V,s:H}=E.getRow("p",T),C=new Set;Gn(T,C,!0),Gn(V,C),Gn(H,C),E.setCell("p",T,"t",Array.from(C.values()).join(" "))})}),J()});let J=()=>{n.prepend(c);let h=()=>(r.value?Zs:Et)(l,"show");r.addEventListener("focus",h),r.addEventListener("input",()=>{h(),M()}),r.addEventListener("blur",()=>Et(l,"show")),p()},M=()=>{let h=r.value.toLowerCase().split(/[^a-z0-9]+/),T=new Map;h.forEach(C=>z.getSliceRowIds("p",C).slice(0,50).forEach(F=>T.set(F,(T.get(F)??0)+jn(E.getCell("p",F,"t"),C))));let V=Array.from(T.keys()).sort((C,F)=>T.get(F)-T.get(C)).slice(0,10),H=V.length==0?[g]:V.map((C,F)=>{let Y=ts("li"),{n:ls,s:Ls}=E.getRow("p",C);return Lo(ts("b",Y),ls,h[0]),Lo(ts("span",Y),Ls,h[0]),Y.title=Ls,Y.addEventListener("mousedown",()=>t?location.href=C:St(C)),F==0&&Zs(Y,"hover"),Y});l.replaceChildren(...H)},p=()=>addEventListener("keydown",h=>{if(Ys.activeElement==r){let T=Us(l,".hover");switch(h.code){case"Escape":return r.blur();case"ArrowDown":return Qs(h),To(T,T?.nextSibling??l.firstChild);case"ArrowUp":return Qs(h),To(T,T?.previousSibling??l.lastChild);case"Enter":return T?.dispatchEvent(new MouseEvent("mousedown"))}}else h.code=="KeyK"&&h.metaKey&&(r.focus(),Qs(h))})})},Lo=(t,n,c)=>{let r=n.toLowerCase().indexOf(c);t.innerHTML=r==-1?n:n.substring(0,r)+"<em>"+n.substring(r,r+c.length)+"</em>"+n.substring(r+c.length)},To=(t,n)=>{t!=n&&(t&&Et(t,"hover"),n&&(Zs(n,"hover"),n.scrollIntoView({block:"nearest",inline:"nearest"})))},Gn=(t,n,c)=>{let r=t.replaceAll(/[^a-zA-Z0-9]/g," ").split(/\s+/);c&&r.reverse(),r.forEach(l=>{[l,...l.replaceAll(/([a-z])([A-Z])/g,"$1 $2").split(" ")].forEach(g=>{let E=g.toLowerCase();(E.length>3||Ic.includes(E))&&n.add(E)})})},jn=(t,n)=>{let c=t.length,r=t.indexOf(n);return r===-1?0:(c-r)/c};Fe();je();Eo();addEventListener("load",()=>{Sn(),Ys.body.addEventListener("click",n=>{if(n.button!=0)return;let c=n.target;if(c.tagName=="SPAN"&&c.innerHTML==""&&c.parentElement?.tagName=="LI")return t(c.parentElement);for(;c.tagName!="A"&&c.parentElement!=null;)c=c.parentElement;let r=c.href;!n.metaKey&&!n.shiftKey&&r!=null&&r!=location.origin+"/"&&r.startsWith(location.origin+"/")&&!r.includes("#")&&(St(r),Qs(n))}),window.onpopstate=function(n){location.href.includes("#")||(St(location.href,!1),Qs(n))};let t=n=>ze(n,"open",()=>{let c=Us(n,"a");c.href!=location.origin&&c.click()})});})();
