"use strict";(()=>{var Ce="v8.0.0-beta.0";var Uo="TinyBase",Ws=document,me=()=>{addEventListener("load",()=>{let t=_s("#version");t.innerText=Ce,t.style.width=t.scrollWidth+"px"})},Yo=null,ye=()=>Yo??=_s("body > main > nav"),ko=null,Re=()=>ko??=_s("body > main > article"),Os=t=>t.preventDefault(),_s=t=>Ws.querySelector(t),Gs=(t,n)=>t.querySelector(n),Bo=t=>Ws.getElementById(t),ts=(t,n,c={},i)=>{let a=Ws.createElement(t);return Object.entries(c).forEach(L=>a.setAttribute(...L)),i!=null&&(a.innerText=i),n!=null?n.appendChild(a):a},$s=(t,n)=>t.classList.add(n);var ht=(t,n)=>t.classList.remove(n),Ve=(t,n,c)=>t.classList.toggle(n)?c():0,gt=(t,n=!0)=>{let c=ye();["?","#"].forEach(i=>{t.includes(i)&&(t=t.substring(0,t.indexOf(i)))}),fetch(`${t}nav.json`).then(i=>i.json()).then(i=>{ht(Gs(c,"li.current"),"current"),Ne(i,Gs(c,"ul"))}),fetch(`${t}article.html`).then(i=>i.text()).then(i=>{let a=Re();a.innerHTML=i,a.scrollTo(0,0),fn()}),n&&history.pushState(null,"",t)},fn=()=>{let t=Gs(Re(),":scope iframe"),n=t?.parentElement;if(t==null||n==null)return;let c=n.insertBefore(ts("form",null,{action:"https://codepen.io/pen/define",method:"post",target:"_blank"}),t);n.insertBefore(ts("a",null,{id:"penEdit"},"Open this demo in CodePen"),t).onclick=()=>{c.childNodes.length==0?fetch("pen.json").then(i=>i.text()).then(i=>{ts("input",c,{type:"hidden",name:"data",value:i}),c.submit()}):c.submit()}},Ne=({i:t,n,u:c,r:i,c:a,p:L,o:E,_:b},I)=>{let y=ye(),T=Bo(t);if(T==null){T=ts("li",I,{id:t}),ts("span",T);let h=ts("a",T,{href:c});i?ts("code",h,{},n):h.innerText=n,L&&$s(T,"parent")}if(E&&$s(T,"open"),b!=null){let h=Gs(T,"ul")??ts("ul",T);b.forEach(g=>{Ne(g,h)})}if(a){$s(T,"current"),Ws.title=`${n} | ${Uo}`;let h=T.getBoundingClientRect(),g=y.getBoundingClientRect();h.top<g.top?y.scrollBy(0,h.top-g.top):h.bottom>g.bottom&&y.scrollBy(0,Math.min(h.bottom-g.bottom,h.top-g.top))}};var Us="dark",hn="light",gn="auto",Me=()=>{let t=matchMedia("(prefers-color-scheme: dark)"),n=()=>{let c=localStorage.getItem(Us)??gn;_s("#dark")?.setAttribute("class",c),_s("html").className=c==Us||c==gn&&t.matches?Us:hn};t.addEventListener("change",n),window.addEventListener("storage",c=>{c.storageArea==localStorage&&c.key==Us&&n()}),addEventListener("load",()=>{_s("#dark").addEventListener("click",()=>{let c=localStorage.getItem(Us);localStorage.setItem(Us,c==Us?hn:c==hn?gn:Us),n()}),n()}),n()};var _e=t=>typeof t;var qo=_e(""),ve=t=>""+t,Ko=t=>(n,c,i)=>t(n)?i?.():c(n),Fs=t=>t===void 0,be=t=>t===null,Zs=Ko(Fs),Jo=t=>_e(t)==qo,dt=t=>Array.isArray(t),Ps=t=>t.length,$o=(t,n)=>t.test(n),Fe=(t,n)=>t.every(n),Oo=(t,n)=>Ps(t)===Ps(n)&&Fe(t,(c,i)=>n[i]===c),we=(t,n)=>Fe(t,(c,i)=>i==0||n(t[i-1],c)<=0),He=(t,n)=>t.sort(n),Qs=(t,n)=>t.forEach(n),Zo=(t,n)=>t.map(n),Qo=t=>Ps(t)==0,Xo=(t,n,c)=>t.reduce(n,c),Pe=(t,...n)=>t.push(...n),Io=t=>t.shift(),Ae=t=>n=>Xo(dn(n),(c,i)=>c+t(i),0),ze=t=>t?.size??0,je=Ae(ze),sc=Ae(je),ot=(t,n)=>t?.has(n)??!1,Lt=t=>Fs(t)||ze(t)==0,dn=t=>[...t?.values()??[]],xe=t=>t.clear(),Ls=(t,n)=>t?.forEach(n),ct=(t,n)=>t?.delete(n),tc=Object,nc=tc.freeze,ec=Map,ns=t=>new ec(t),Ge=t=>[...t?.keys()??[]],k=(t,n)=>t?.get(n),ut=(t,n)=>Ls(t,(c,i)=>n(i,c)),Y=(t,n,c)=>Fs(c)?(ct(t,n),t):t?.set(n,c),We=(t,n,c,i)=>(ot(t,n)?i?.(k(t,n)):Y(t,n,c()),k(t,n)),un=(t,n,c,i,a=0)=>Zs((c?We:k)(t,n[a],a>Ps(n)-2?c:ns),L=>{if(a>Ps(n)-2)return i?.(L)&&Y(t,n[a]),L;let E=un(L,n,c,i,a+1);return Lt(L)&&Y(t,n[a]),E}),Ys=t=>new Set(dt(t)||Fs(t)?t:[t]),bs=(t,n)=>t?.add(n),oc=(t,n,c,i,a)=>{let L=t.hasRow,E=ns(),b=ns(),I=ns(),y=ns(),T=ns(),h=ns(),g=()=>t,M=()=>Ge(E),C=m=>ut(b,m),R=m=>ot(b,m),D=m=>k(E,m),U=m=>k(b,m),ms=(m,z)=>Y(b,m,z),cs=(m,z,...is)=>{let $=We(h,m,Ys);return Qs(is,p=>bs($,p)&&z&&t.callListener(p)),is},ys=(m,...z)=>Zs(k(h,m),is=>{Qs(Qo(z)?dn(is):z,$=>{t.delListener($),ct(is,$)}),Lt(is)&&Y(h,m)}),vs=(m,z)=>{Y(E,m,z),ot(b,m)||(Y(b,m,n()),Y(y,m,ns()),Y(T,m,ns()),a(I))},Js=(m,z,is,$,p)=>{vs(m,z);let P=ns(),O=ns(),Z=k(y,m),fs=k(T,m),hs=F=>{let q=Ts=>t.getCell(z,F,Ts),Q=k(Z,F),Ss=L(z,F)?c($(q,F)):void 0;if(Q===Ss||dt(Q)&&dt(Ss)&&Oo(Q,Ss)||Y(P,F,[Q,Ss]),!Fs(p)){let Ts=k(fs,F),Vs=L(z,F)?p(q,F):void 0;Ts!=Vs&&Y(O,F,Vs)}},gs=F=>{is(()=>{Ls(P,([,q],Q)=>Y(Z,Q,q)),Ls(O,(q,Q)=>Y(fs,Q,q))},P,O,Z,fs,F),xe(P),xe(O)};ut(Z,hs),t.hasTable(z)&&Qs(t.getRowIds(z),F=>{ot(Z,F)||hs(F)}),gs(!0),ys(m),cs(m,0,t.addRowListener(z,null,(F,q,Q)=>hs(Q)),t.addTableListener(z,()=>gs()))},Rs=m=>{Y(E,m),Y(b,m),Y(y,m),Y(T,m),ys(m),a(I)};return[g,M,C,R,D,U,ms,vs,Js,Rs,m=>i(m,I),()=>ut(h,Rs),cs,ys]},De=(t,n)=>Jo(t)?c=>c(t):t??(()=>n??""),cc=(t,n)=>{let c=new WeakMap;return i=>(c.has(i)||c.set(i,t(i)),c.get(i))},ic=(t,n)=>(t??0)<(n??0)?-1:1,rc=/^\d+$/,lc=()=>{let t=[],n=0;return[c=>(c?Io(t):null)??""+n++,c=>{$o(rc,c)&&Ps(t)<1e3&&Pe(t,c)}]},ac=(t,n=[""])=>{let c=[],i=(a,L)=>L==Ps(n)?Pe(c,a):be(n[L])?Ls(a,E=>i(E,L+1)):Qs([n[L],null],E=>i(k(a,E),L+1));return i(t,0),c},fc=t=>{let n,[c,i]=lc(),a=ns();return[(y,T,h,g=[],M=()=>[])=>{n??=t();let C=c(1);return Y(a,C,[y,T,h,g,M]),bs(un(T,h??[""],Ys),C),C},(y,T,...h)=>Qs(ac(y,T),g=>Ls(g,M=>k(a,M)[0](n,...T??[],...h))),y=>Zs(k(a,y),([,T,h])=>(un(T,h??[""],void 0,g=>(ct(g,y),Lt(g)?1:0)),Y(a,y),i(y),h)),y=>Zs(k(a,y),([T,,h=[],g,M])=>{let C=(...R)=>{let D=Ps(R);D==Ps(h)?T(n,...R,...M(R)):be(h[D])?Qs(g[D]?.(...R)??[],U=>C(...R,U)):C(...R,h[D])};C()})]},Ue=cc(t=>{let n=ns(),c=ns(),[i,a,L]=fc(()=>$),[E,b,I,y,T,h,g,,M,C,R,D]=oc(t,ns,p=>Fs(p)?"":dt(p)?Zo(p,ve):ve(p),i,a),U=(p,P)=>ot(h(p),P),ms=(p,P,O,Z,fs,hs=ic)=>{let gs=Fs(fs)?void 0:([F],[q])=>fs(F,q);return M(p,P,(F,q,Q,Ss,Ts,Vs)=>{let Ns=0,ws=Ys(),Hs=Ys(),rs=h(p);if(Ls(q,([B,Es],us)=>{let ps=Ys(B),A=Ys(Es);Ls(ps,ls=>ct(A,ls)?ct(ps,ls):0),Ls(ps,ls=>{bs(ws,ls),Zs(k(rs,ls),Vt=>{ct(Vt,us),Lt(Vt)&&(Y(rs,ls),Ns=1)})}),Ls(A,ls=>{bs(ws,ls),ot(rs,ls)||(Y(rs,ls,Ys()),Ns=1),bs(k(rs,ls),us),Fs(Z)||bs(Hs,ls)})}),F(),Lt(Ts)||(Vs?ut(rs,B=>bs(Hs,B)):ut(Q,B=>Zs(k(Ss,B),Es=>Qs(dt(Es)?Es:[Es],us=>bs(Hs,us)))),Ls(Hs,B=>{let Es=(ps,A)=>hs(k(Ts,ps),k(Ts,A),B),us=[...k(rs,B)];we(us,Es)||(Y(rs,B,Ys(He(us,Es))),bs(ws,B))})),(Ns||Vs)&&!Fs(gs)){let B=[...rs];we(B,gs)||(g(p,ns(He(B,gs))),Ns=1)}Ns&&a(n,[p]),Ls(ws,B=>a(c,[p,B]))},De(O),Zs(Z,De)),$},cs=p=>I((P,O)=>p(P,Z=>vs(P,Z,O))),ys=(p,P)=>vs(p,P,h(p)),vs=(p,P,O)=>{let Z=T(p);Ls(O,(fs,hs)=>P(hs,gs=>Ls(fs,F=>gs(F,q=>t.forEachCell(Z,F,q)))))},$={setIndexDefinition:ms,delIndexDefinition:p=>(C(p),$),getStore:E,getIndexIds:b,forEachIndex:cs,forEachSlice:ys,hasIndex:y,hasSlice:U,getTableId:T,getSliceIds:p=>Ge(h(p)),getSliceRowIds:(p,P)=>dn(k(h(p),P)),addIndexIdsListener:R,addSliceIdsListener:(p,P)=>i(P,n,[p]),addSliceRowIdsListener:(p,P,O)=>i(O,c,[p,P]),delListener:p=>(L(p),$),destroy:D,getListenerStats:()=>({sliceIds:je(n),sliceRowIds:sc(c)})};return nc($)});var tt=t=>typeof t;var hc=tt(""),gc=tt(!0),Ze=tt(0),uc=tt(tt),Ut="type",As="default",Yt="allowNull",dc="null",Lc="Listener",Tc="add",Xs="Has",tn="Ids",rt="Table",Ye=rt+"s",Ec=rt+tn,$t="Row",pc=$t+"Count",Sc=$t+tn,Jt="Cell",ke=Jt+tn,Ot="Value",Be=Ot+"s",Cc=Ot+tn,x=t=>""+t,Qe=t=>(n,c,i)=>t(n)?i?.():c(n),mc=isFinite,yc=(t,n)=>t instanceof n,Zt=t=>t==null,os=t=>t===void 0,st=t=>t===null,Rc=Qe(Zt),K=Qe(os),Xe=t=>t==hc||t==gc,Ln=t=>tt(t)==uc,Ie=t=>Array.isArray(t),qe=(t,n,c)=>t.slice(n,c),zs=t=>t.length,Vc=(t,n)=>t.test(n),Tn=async(t,n,c)=>{try{return await t()}catch(i){n?.(i)}},Nc=(t,n)=>t.includes(n),Mc=(t,n)=>t.every(n),vc=(t,n)=>zs(t)===zs(n)&&Mc(t,(c,i)=>n[i]===c),wc=(t,n)=>t.sort(n),Rt=(t,n)=>t.forEach(n),Qt=(t,n)=>t.map(n),Hc=(t,n,c)=>t.reduce(n,c),Xt=(t,...n)=>t.push(...n),xc=t=>t.shift(),Tt=t=>{if(st(t))return dc;let n=tt(t);return Xe(n)||n==Ze&&mc(t)?n:void 0},Ke=(t,n,c,i,a)=>os(a)?t.delCell(n,c,i,!0):t.setCell(n,c,i,a),Je=(t,n,c)=>os(c)?t.delValue(n):t.setValue(n,c),Rn=t=>n=>Hc(Dc(n),(c,i)=>c+t(i),0),Vn=t=>t?.size??0,Nn=Rn(Vn),St=Rn(Nn),En=Rn(St),es=(t,n)=>t?.has(n)??!1,S=t=>os(t)||Vn(t)==0,Dc=t=>[...t?.values()??[]],pn=t=>t.clear(),N=(t,n)=>t?.forEach(n),It=(t,n)=>t?.delete(n),Ks=Object,$e=t=>Ks.getPrototypeOf(t),_c=Ks.isFrozen,so=Ks.entries,sn=t=>!Zt(t)&&Rc($e(t),n=>n==Ks.prototype||Zt($e(n)),()=>!0),bc=Ks.keys,Fc=Ks.freeze,Pc=(t=[])=>Ks.fromEntries(t),Ct=(t,n)=>n in t,to=(t,n)=>(delete t[n],t),Ac=(t,n)=>Rt(so(t),([c,i])=>n(i,c)),zc=(t,n)=>Qt(so(t),([c,i])=>n(i,c)),Bs=(t,n)=>Pc(zc(t,(c,i)=>[i,n(c,i)])),jc=t=>zs(bc(t)),Ms=t=>sn(t)&&jc(t)==0,ks=(t,n,c,i=0)=>Zt(t)||!sn(t)||!i&&Ms(t)||_c(t)?(c?.(),!1):(Ac(t,(a,L)=>{n(a,L)||to(t,L)}),i?!0:!Ms(t)),Gc=Map,V=t=>new Gc(t),Et=t=>[...t?.keys()??[]],u=(t,n)=>t?.get(n),qs=(t,n)=>N(t,(c,i)=>n(i,c)),Wc=(t,n)=>Qt([...t?.entries()??[]],([c,i])=>n(i,c)),_=(t,n,c)=>os(c)?(It(t,n),t):t?.set(n,c),X=(t,n,c,i)=>(es(t,n)?i?.(u(t,n)):_(t,n,c()),u(t,n)),Is=(t,n,c,i=_)=>(Bs(n,(a,L)=>c(t,L,a)),qs(t,a=>Ct(n,a)?0:i(t,a)),t),as=(t,n,c,i)=>{let a={};return N(t,(L,E)=>{if(!c?.(L,E)){let b=n?n(L,E):L;i?.(b)||(a[E]=b)}}),a},Cn=(t,n,c)=>as(t,i=>as(i,n,c),S,Ms),kt=(t,n,c)=>as(t,i=>Cn(i,n,c),S,Ms),Cs=(t,n)=>{let c=V();return N(t,(i,a)=>c.set(a,n?.(i)??i)),c},mn=t=>Cs(t,Cs),Oe=t=>Cs(t,mn),yn=(t,n,c,i,a=0)=>K((c?X:u)(t,n[a],a>zs(n)-2?c:V),L=>{if(a>zs(n)-2)return i?.(L)&&_(t,n[a]),L;let E=yn(L,n,c,i,a+1);return S(L)&&_(t,n[a]),E}),Uc=JSON.stringify,Sn=JSON.parse,it=t=>Uc(t,(n,c)=>yc(c,Map)?Ks.fromEntries([...c]):c),Yc=(t,n)=>(t??0)<(n??0)?-1:1,kc=/^\d+$/,no=()=>{let t=[],n=0;return[c=>(c?xc(t):null)??""+n++,c=>{Vc(kc,c)&&zs(t)<1e3&&Xt(t,c)}]},mt=t=>new Set(Ie(t)||os(t)?t:[t]),yt=(t,n)=>t?.add(n),Bc=(t,n=[""])=>{let c=[],i=(a,L)=>L==zs(n)?Xt(c,a):st(n[L])?N(a,E=>i(E,L+1)):Rt([n[L],null],E=>i(u(a,E),L+1));return i(t,0),c},qc=t=>{let n,[c,i]=no(),a=V();return[(y,T,h,g=[],M=()=>[])=>{n??=t();let C=c(1);return _(a,C,[y,T,h,g,M]),yt(yn(T,h??[""],mt),C),C},(y,T,...h)=>Rt(Bc(y,T),g=>N(g,M=>u(a,M)[0](n,...T??[],...h))),y=>K(u(a,y),([,T,h])=>(yn(T,h??[""],void 0,g=>(It(g,y),S(g)?1:0)),_(a,y),i(y),h)),y=>K(u(a,y),([T,,h=[],g,M])=>{let C=(...R)=>{let D=zs(R);D==zs(h)?T(n,...R,...M(R)):st(h[D])?Rt(g[D]?.(...R)??[],U=>C(...R,U)):C(...R,h[D])};C()})]},Bt=t=>[t,t],G=(t,n=Nn)=>n(t[0])+n(t[1]),W=()=>[V(),V()],qt=t=>[...t],Kt=([t,n])=>t===n,pt=(t,n,c)=>_(t,n,u(t,n)==-c?void 0:c),Mn=()=>{let t,n,c=!1,i=!1,a=0,L=[],E=0,b=V(),I=V(),y=V(),T=V(),h=V(),g=V(),M=V(),C=V(),R=V(),D=V(),U=V(),ms=V(),cs=V(),ys=V(),vs=mt(),Js=V(),Rs=V(),H=V(),J=V(),m=W(),z=W(),is=W(),$=W(),p=W(),P=W(),O=W(),Z=W(),fs=W(),hs=W(),gs=W(),F=W(),q=W(),Q=W(),Ss=W(),Ts=W(),Vs=W(),Ns=W(),ws=W(),Hs=W(),rs=W(),B=W(),Es=V(),us=W(),[ps,A,ls,Vt]=qc(()=>ss),io=s=>ks(s,e=>ks(e,Hn)),ro=s=>ks(s,Hn),Hn=s=>{if(!ks(s,(r,l)=>Nc([Ut,As,Yt],l)))return!1;let e=s[Ut];if(!Xe(e)&&e!=Ze)return!1;let o=s[As];return st(o)&&!s[Yt]?!1:(!st(o)&&Tt(o)!=e&&to(s,As),!0)},lo=Ie,ao=s=>ks(s,xn,xs),xn=(s,e)=>(!t||es(U,e)||xs(e))&&ks(s,(o,r)=>Nt(e,r,o),()=>xs(e)),Nt=(s,e,o,r)=>ks(r?o:Fn(o,s,e),(l,f)=>K(Dn(s,e,f,l),d=>(o[f]=d,!0),()=>!1),()=>xs(s,e)),Dn=(s,e,o,r)=>t?K(u(u(U,s),o),l=>st(r)?l[Yt]?r:xs(s,e,o,r,l[As]):Tt(r)==l[Ut]?r:xs(s,e,o,r,l[As]),()=>xs(s,e,o,r)):os(Tt(r))?xs(s,e,o,r):r,_n=(s,e)=>ks(e?s:fo(s),(o,r)=>K(bn(r,o),l=>(s[r]=l,!0),()=>!1),()=>nt()),bn=(s,e)=>n?K(u(cs,s),o=>st(e)?o[Yt]?e:nt(s,e,o[As]):Tt(e)==o[Ut]?e:nt(s,e,o[As]),()=>nt(s,e)):os(Tt(e))?nt(s,e):e,Fn=(s,e,o)=>(K(u(ms,e),([r,l])=>{N(r,(f,d)=>{Ct(s,d)||(s[d]=f)}),N(l,f=>{Ct(s,f)||xs(e,o,f)})}),s),fo=s=>(n&&(N(ys,(e,o)=>{Ct(s,o)||(s[o]=e)}),N(vs,e=>{Ct(s,e)||nt(e)})),s),Pn=s=>Is(U,s,(e,o,r)=>{let l=V(),f=mt();Is(X(U,o,V),r,(d,v,w)=>{_(d,v,w),K(w[As],Ds=>_(l,v,Ds),()=>yt(f,v))}),_(ms,o,[l,f])},(e,o)=>{_(U,o),_(ms,o)}),An=s=>Is(cs,s,(e,o,r)=>{_(cs,o,r),K(r[As],l=>_(ys,o,l),()=>yt(vs,o))},(e,o)=>{_(cs,o),_(ys,o),It(vs,o)}),zn=s=>Ms(s)?zt():Pt(s),ho=([s,e])=>{(Ms(s)?zt:Pt)(s),(Ms(e)?jt:At)(e)},jn=s=>Is(H,s,(e,o,r)=>Mt(o,r),(e,o)=>Yn(o)),Mt=(s,e)=>Is(X(H,s,()=>(Kn(s,1),_(Js,s,no()),_(Rs,s,V()),V())),e,(o,r,l)=>lt(s,o,r,l),(o,r)=>kn(s,o,r)),lt=(s,e,o,r,l)=>Is(X(e,o,()=>(Jn(s,o,1),V())),r,(f,d,v)=>nn(s,o,f,d,v),(f,d)=>Bn(s,e,o,f,d,l)),nn=(s,e,o,r,l)=>{es(o,r)||$n(s,e,r,1);let f=u(o,r);l!==f&&(On(s,e,r,f,l),_(o,r,l))},Gn=(s,e,o,r,l)=>K(u(e,o),f=>nn(s,o,f,r,l),()=>lt(s,e,o,Fn({[r]:l},s,o))),Wn=s=>Ms(s)?jt():At(s),Un=s=>Is(J,s,(e,o,r)=>vt(o,r),(e,o)=>qn(o)),vt=(s,e)=>{es(J,s)||Zn(s,1);let o=u(J,s);e!==o&&(Qn(s,o,e),_(J,s,e))},go=(s,e)=>{let[o]=u(Js,s),r;do r=o(e);while(es(u(H,s),r));return r},wt=s=>u(H,s)??Mt(s,{}),Yn=s=>Mt(s,{}),kn=(s,e,o)=>{let[,r]=u(Js,s);r(o),lt(s,e,o,{},!0)},Bn=(s,e,o,r,l,f)=>{let d=u(u(ms,s)?.[0],l);if(!os(d)&&!f)return nn(s,o,r,l,d);let v=w=>{On(s,o,w,u(r,w)),$n(s,o,w,-1),_(r,w)};os(d)?v(l):qs(r,v),S(r)&&(Jn(s,o,-1),S(_(e,o))&&(Kn(s,-1),_(H,s),_(Js,s),_(Rs,s)))},qn=s=>{let e=u(ys,s);if(!os(e))return vt(s,e);Qn(s,u(J,s)),Zn(s,-1),_(J,s)},Kn=(s,e)=>pt(b,s,e),Jn=(s,e,o)=>pt(X(T,s,V),e,o)&&_(y,s,X(y,s,()=>0)+o),$n=(s,e,o,r)=>{let l=u(Rs,s),f=u(l,o)??0;(f==0&&r==1||f==1&&r==-1)&&pt(X(I,s,V),o,r),_(l,o,f!=-r?f+r:void 0),pt(X(X(h,s,V),e,V),o,r)},On=(s,e,o,r,l)=>{X(X(X(g,s,V),e,V),o,()=>[r,0])[1]=l,L[3]?.(s,e,o,l,E)},Zn=(s,e)=>pt(M,s,e),Qn=(s,e,o)=>{X(C,s,()=>[e,0])[1]=o,L[4]?.(s,o,E)},xs=(s,e,o,r,l)=>(Xt(X(X(X(R,s,V),e,V),o,()=>[]),r),l),nt=(s,e,o)=>(Xt(X(D,s,()=>[]),e),o),Ht=(s,e,o)=>K(u(u(u(g,s),e),o),([r,l])=>[!0,r,l],()=>[!1,...Bt(Dt(s,e,o))]),Xn=s=>K(u(C,s),([e,o])=>[!0,e,o],()=>[!1,...Bt(_t(s))]),In=s=>!S(R)&&!S(Ts[s])?N(s?Oe(R):R,(e,o)=>N(e,(r,l)=>N(r,(f,d)=>A(Ts[s],[o,l,d],f)))):0,se=s=>!S(D)&&!S(Vs[s])?N(s?Cs(D):D,(e,o)=>A(Vs[s],[o],e)):0,at=(s,e,o,r)=>{if(!S(s))return A(e,r,()=>as(s)),qs(s,(l,f)=>A(o,[...r??[],l],f==1)),1},te=s=>{let e=!S(m[s]),o=!S(hs[s]),r=!(S(q[s])&&S(Q[s])&&S(fs[s])&&S(gs[s])&&S(P[s])&&S(O[s])&&S(Z[s])&&!o&&S(is[s])&&S($[s])),l=!(S(Ss[s])&&S(F[s])&&S(p[s])&&S(z[s]));if(e||r||l){let f=s?[Cs(b),mn(I),Cs(y),mn(T),Oe(h),Cs(g,d=>Cs(d,v=>Cs(v,qt)))]:[b,I,y,T,h,g];if(e){let d=bt();d!=c&&A(m[s],void 0,d)}if(r){at(f[0],is[s],$[s]),N(f[1],(v,w)=>at(v,P[s],O[s],[w])),N(f[2],(v,w)=>{v!=0&&A(Z[s],[w],ce(w))});let d=mt();N(f[3],(v,w)=>{at(v,fs[s],gs[s],[w])&&o&&(A(hs[s],[w,null]),yt(d,w))}),o&&N(f[5],(v,w)=>{if(!es(d,w)){let Ds=mt();N(v,js=>N(js,([Gt,Wt],ft)=>Wt!==Gt?yt(Ds,ft):It(js,ft))),N(Ds,js=>A(hs[s],[w,js]))}}),N(f[4],(v,w)=>N(v,(Ds,js)=>at(Ds,q[s],Q[s],[w,js])))}if(l){let d;N(f[5],(v,w)=>{let Ds;N(v,(js,Gt)=>{let Wt;N(js,([ft,Se],Wo)=>{Se!==ft&&(A(Ss[s],[w,Gt,Wo],Se,ft,Ht),d=Ds=Wt=1)}),Wt&&A(F[s],[w,Gt],Ht)}),Ds&&A(p[s],[w],Ht)}),d&&A(z[s],void 0,Ht)}}},ne=s=>{let e=!S(Ns[s]),o=!S(Hs[s])||!S(rs[s]),r=!S(B[s])||!S(ws[s]);if(e||o||r){let l=s?[Cs(M),Cs(C,qt)]:[M,C];if(e){let f=Ft();f!=i&&A(Ns[s],void 0,f)}if(o&&at(l[0],Hs[s],rs[s]),r){let f;N(l[1],([d,v],w)=>{v!==d&&(A(B[s],[w],v,d,Xn),f=1)}),f&&A(ws[s],void 0,Xn)}}},j=(s,...e)=>(an(()=>s(...Qt(e,x))),ss),ee=(s,e,o,r,l)=>{let f=xt(s,e,...o);return ps(()=>{let d=xt(s,e,...o);vc(d,f)||(f=d,r(ss,s,e,...o,f))},hs[l?1:0],[s,e],[ds])},uo=()=>[en(),cn()],en=()=>kt(H),ds=()=>Et(H),Lo=s=>Cn(u(H,x(s))),oe=s=>Et(u(Rs,x(s))),ce=s=>Vn(u(H,x(s))),et=s=>Et(u(H,x(s))),xt=(s,e,o,r=0,l)=>sn(s)?xt(s.tableId,s.cellId,s.descending,s.offset,s.limit):Qt(qe(wc(Wc(u(H,x(s)),(f,d)=>[os(e)?d:u(f,x(e)),d]),([f],[d])=>Yc(f,d)*(o?-1:1)),r,os(l)?l:r+l),([,f])=>f),To=(s,e)=>as(u(u(H,x(s)),x(e))),on=(s,e)=>Et(u(u(H,x(s)),x(e))),Dt=(s,e,o)=>u(u(u(H,x(s)),x(e)),x(o)),cn=()=>as(J),rn=()=>Et(J),_t=s=>u(J,x(s)),bt=()=>!S(H),ie=s=>es(H,x(s)),re=(s,e)=>es(u(Rs,x(s)),x(e)),le=(s,e)=>es(u(H,x(s)),x(e)),ae=(s,e,o)=>es(u(u(H,x(s)),x(e)),x(o)),Ft=()=>!S(J),fe=s=>es(J,x(s)),Eo=()=>it(H),po=()=>it(J),So=()=>it([H,J]),Co=()=>it(U),mo=()=>it(cs),yo=()=>it([U,cs]),Ro=s=>j(()=>{let e=Ln(s)?s():s;lo(e)&&ho(e)}),Pt=s=>j(()=>ao(s)?jn(s):0),Vo=(s,e)=>j(o=>xn(e,o)?Mt(o,e):0,s),No=(s,e,o)=>j((r,l)=>Nt(r,l,o)?lt(r,wt(r),l,o):0,s,e),Mo=(s,e,o=!0)=>an(()=>{let r;return Nt(s,r,e)&&(s=x(s),lt(s,wt(s),r=go(s,o?1:0),e)),r}),vo=(s,e,o)=>j((r,l)=>{if(Nt(r,l,o,1)){let f=wt(r);Bs(o,(d,v)=>Gn(r,f,l,v,d))}},s,e),wo=(s,e,o,r)=>j((l,f,d)=>K(Dn(l,f,d,Ln(r)?r(Dt(l,f,d)):r),v=>Gn(l,wt(l),f,d,v)),s,e,o),At=s=>j(()=>_n(s)?Un(s):0),Ho=s=>j(()=>_n(s,1)?Bs(s,(e,o)=>vt(o,e)):0),xo=(s,e)=>j(o=>K(bn(o,Ln(e)?e(_t(o)):e),r=>vt(o,r)),s),Do=s=>j(()=>{Bs(s[0],(e,o)=>os(e)?de(o):Bs(e,(r,l)=>os(r)?Le(o,l):Bs(r,(f,d)=>Ke(ss,o,l,d,f)))),Bs(s[1],(e,o)=>Je(ss,o,e))}),he=s=>(Tn(()=>zn(Sn(s))),ss),_o=s=>(Tn(()=>Wn(Sn(s))),ss),bo=s=>j(()=>Tn(()=>{let[e,o]=Sn(s);zn(e),Wn(o)},()=>he(s))),ge=s=>j(()=>{if((t=io(s))&&(Pn(s),!S(H))){let e=en();zt(),Pt(e)}}),ue=s=>j(()=>{if(n=ro(s)){let e=cn();ln(),jt(),n=!0,An(s),At(e)}}),Fo=(s,e)=>j(()=>{ge(s),ue(e)}),zt=()=>j(()=>jn({})),de=s=>j(e=>es(H,e)?Yn(e):0,s),Le=(s,e)=>j((o,r)=>K(u(H,o),l=>es(l,r)?kn(o,l,r):0),s,e),Po=(s,e,o,r)=>j((l,f,d)=>K(u(H,l),v=>K(u(v,f),w=>es(w,d)?Bn(l,v,f,w,d,r):0)),s,e,o),jt=()=>j(()=>Un({})),Ao=s=>j(e=>es(J,e)?qn(e):0,s),Te=()=>j(()=>{Pn({}),t=!1}),ln=()=>j(()=>{An({}),n=!1}),zo=()=>j(()=>{Te(),ln()}),an=(s,e)=>{if(a!=-1){Ee();let o=s();return pe(e),o}},Ee=()=>(a!=-1&&a++,a==1&&(L[0]?.(),A(Es)),ss),jo=()=>[as(g,(s,e)=>u(b,e)===-1?void 0:as(s,(o,r)=>u(u(T,e),r)===-1?void 0:as(o,([,l])=>l,l=>Kt(l)),S,Ms),S,Ms),as(C,([,s])=>s,s=>Kt(s)),1],Go=()=>[!S(g),!S(C),kt(g,qt,Kt),kt(R),as(C,qt,Kt),as(D),as(b),Cn(T),kt(h),as(M)],pe=s=>(a>0&&(a--,a==0&&(a=1,E=1,In(1),S(g)||te(1),se(1),S(C)||ne(1),E=0,s?.(ss)&&(N(g,(e,o)=>N(e,(r,l)=>N(r,([f],d)=>Ke(ss,o,l,d,f)))),pn(g),N(C,([e],o)=>Je(ss,o,e)),pn(C)),A(us[0],void 0),a=-1,In(0),S(g)||te(0),se(0),S(C)||ne(0),L[1]?.(),A(us[1],void 0),L[2]?.(),a=0,c=bt(),i=Ft(),Rt([b,I,y,T,h,g,R,M,C,D],pn))),ss),ss={getContent:uo,getTables:en,getTableIds:ds,getTable:Lo,getTableCellIds:oe,getRowCount:ce,getRowIds:et,getSortedRowIds:xt,getRow:To,getCellIds:on,getCell:Dt,getValues:cn,getValueIds:rn,getValue:_t,hasTables:bt,hasTable:ie,hasTableCell:re,hasRow:le,hasCell:ae,hasValues:Ft,hasValue:fe,getTablesJson:Eo,getValuesJson:po,getJson:So,getTablesSchemaJson:Co,getValuesSchemaJson:mo,getSchemaJson:yo,hasTablesSchema:()=>t,hasValuesSchema:()=>n,setContent:Ro,setTables:Pt,setTable:Vo,setRow:No,addRow:Mo,setPartialRow:vo,setCell:wo,setValues:At,setPartialValues:Ho,setValue:xo,applyChanges:Do,setTablesJson:he,setValuesJson:_o,setJson:bo,setTablesSchema:ge,setValuesSchema:ue,setSchema:Fo,delTables:zt,delTable:de,delRow:Le,delCell:Po,delValues:jt,delValue:Ao,delTablesSchema:Te,delValuesSchema:ln,delSchema:zo,transaction:an,startTransaction:Ee,getTransactionChanges:jo,getTransactionLog:Go,finishTransaction:pe,forEachTable:s=>N(H,(e,o)=>s(o,r=>N(e,(l,f)=>r(f,d=>qs(l,d))))),forEachTableCell:(s,e)=>qs(u(Rs,x(s)),e),forEachRow:(s,e)=>N(u(H,x(s)),(o,r)=>e(r,l=>qs(o,l))),forEachCell:(s,e,o)=>qs(u(u(H,x(s)),x(e)),o),forEachValue:s=>qs(J,s),addSortedRowIdsListener:(s,e,o,r,l,f,d)=>sn(s)?ee(s.tableId,s.cellId,[s.descending??!1,s.offset??0,s.limit],e,o):ee(s,e,[o,r,l],f,d),addStartTransactionListener:s=>ps(s,Es),addWillFinishTransactionListener:s=>ps(s,us[0]),addDidFinishTransactionListener:s=>ps(s,us[1]),callListener:s=>(Vt(s),ss),delListener:s=>(ls(s),ss),getListenerStats:()=>({hasTables:G(m),tables:G(z),tableIds:G(is),hasTable:G($),table:G(p),tableCellIds:G(P),hasTableCell:G(O,St),rowCount:G(Z),rowIds:G(fs),sortedRowIds:G(hs),hasRow:G(gs,St),row:G(F,St),cellIds:G(q,St),hasCell:G(Q,En),cell:G(Ss,En),invalidCell:G(Ts,En),hasValues:G(Ns),values:G(ws),valueIds:G(Hs),hasValue:G(rs),value:G(B),invalidValue:G(Vs),transaction:Nn(Es)+G(us)}),isMergeable:()=>!1,createStore:Mn,addListener:ps,callListeners:A,setInternalListeners:(s,e,o,r,l)=>L=[s,e,o,r,l]};return Bs({[Xs+Ye]:[0,m,[],()=>[bt()]],[Ye]:[0,z],[Ec]:[0,is],[Xs+rt]:[1,$,[ds],s=>[ie(...s)]],[rt]:[1,p,[ds]],[rt+ke]:[1,P,[ds]],[Xs+rt+Jt]:[2,O,[ds,oe],s=>[re(...s)]],[pc]:[1,Z,[ds]],[Sc]:[1,fs,[ds]],[Xs+$t]:[2,gs,[ds,et],s=>[le(...s)]],[$t]:[2,F,[ds,et]],[ke]:[2,q,[ds,et]],[Xs+Jt]:[3,Q,[ds,et,on],s=>[ae(...s)]],[Jt]:[3,Ss,[ds,et,on],s=>Bt(Dt(...s))],InvalidCell:[3,Ts],[Xs+Be]:[0,Ns,[],()=>[Ft()]],[Be]:[0,ws],[Cc]:[0,Hs],[Xs+Ot]:[1,rs,[rn],s=>[fe(...s)]],[Ot]:[1,B,[rn],s=>Bt(_t(s[0]))],InvalidValue:[1,Vs]},([s,e,o,r],l)=>{ss[Tc+l+Lc]=(...f)=>ps(f[s],e[f[s+1]?1:0],s>0?qe(f,0,s):void 0,o,r)}),Fc(ss)};var Kc=["db","id","ids","no","ui","ws","add","api","bun","del","dom","for","get","has","hlc","log","map","row","set","sql","use","web","yjs"],co=(t=!1)=>{addEventListener("load",()=>{let n=_s("body > header > nav");if(n==null)return;let c=ts("div",null,{id:"search"}),i=ts("input",c,{type:"text",placeholder:(navigator.platform.startsWith("Mac")?"\u2318":"cmd-")+"K Search"}),a=ts("ol",c),L=ts("li",a,{},"No results found"),E=Mn(),b=Ue(E);b.setIndexDefinition("p","p",h=>{let g=[];return h("t").split(" ").forEach(M=>{for(let C=0;C<M.length;C++)g.push(M.slice(0,C+1))}),g},"t",void 0,(h,g,M)=>wn(g,M)-wn(h,M)),fetch("/pages.json").then(h=>h.json()).then(h=>{E.transaction(()=>{E.setContent(h),E.forEachRow("p",g=>{let{n:M,s:C}=E.getRow("p",g),R=new Set;vn(g,R,!0),vn(M,R),vn(C,R),E.setCell("p",g,"t",Array.from(R.values()).join(" "))})}),I()});let I=()=>{n.prepend(c);let h=()=>(i.value?$s:ht)(a,"show");i.addEventListener("focus",h),i.addEventListener("input",()=>{h(),y()}),i.addEventListener("blur",()=>ht(a,"show")),T()},y=()=>{let h=i.value.toLowerCase().split(/[^a-z0-9]+/),g=new Map;h.forEach(R=>b.getSliceRowIds("p",R).slice(0,50).forEach(D=>g.set(D,(g.get(D)??0)+wn(E.getCell("p",D,"t"),R))));let M=Array.from(g.keys()).sort((R,D)=>g.get(D)-g.get(R)).slice(0,10),C=M.length==0?[L]:M.map((R,D)=>{let U=ts("li"),{n:ms,s:cs}=E.getRow("p",R);return eo(ts("b",U),ms,h[0]),eo(ts("span",U),cs,h[0]),U.title=cs,U.addEventListener("mousedown",()=>t?location.href=R:gt(R)),D==0&&$s(U,"hover"),U});a.replaceChildren(...C)},T=()=>addEventListener("keydown",h=>{if(Ws.activeElement==i){let g=Gs(a,".hover");switch(h.code){case"Escape":return i.blur();case"ArrowDown":return Os(h),oo(g,g?.nextSibling??a.firstChild);case"ArrowUp":return Os(h),oo(g,g?.previousSibling??a.lastChild);case"Enter":return g?.dispatchEvent(new MouseEvent("mousedown"))}}else h.code=="KeyK"&&h.metaKey&&(i.focus(),Os(h))})})},eo=(t,n,c)=>{let i=n.toLowerCase().indexOf(c);t.innerHTML=i==-1?n:n.substring(0,i)+"<em>"+n.substring(i,i+c.length)+"</em>"+n.substring(i+c.length)},oo=(t,n)=>{t!=n&&(t&&ht(t,"hover"),n&&($s(n,"hover"),n.scrollIntoView({block:"nearest",inline:"nearest"})))},vn=(t,n,c)=>{let i=t.replaceAll(/[^a-zA-Z0-9]/g," ").split(/\s+/);c&&i.reverse(),i.forEach(a=>{[a,...a.replaceAll(/([a-z])([A-Z])/g,"$1 $2").split(" ")].forEach(L=>{let E=L.toLowerCase();(E.length>3||Kc.includes(E))&&n.add(E)})})},wn=(t,n)=>{let c=t.length,i=t.indexOf(n);return i===-1?0:(c-i)/c};me();Me();co();addEventListener("load",()=>{fn(),Ws.body.addEventListener("click",n=>{if(n.button!=0)return;let c=n.target;if(c.tagName=="SPAN"&&c.innerHTML==""&&c.parentElement?.tagName=="LI")return t(c.parentElement);for(;c.tagName!="A"&&c.parentElement!=null;)c=c.parentElement;let i=c.href;!n.metaKey&&!n.shiftKey&&i!=null&&i!=location.origin+"/"&&i.startsWith(location.origin+"/")&&!i.includes("#")&&(gt(i),Os(n))}),window.onpopstate=function(n){location.href.includes("#")||(gt(location.href,!1),Os(n))};let t=n=>Ve(n,"open",()=>{let c=Gs(n,"a");c.href!=location.origin&&c.click()})});})();
