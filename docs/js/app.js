"use strict";(()=>{var ze="v8.0.0-beta.2";var Xo="TinyBase",qs=document,je=()=>{addEventListener("load",()=>{let t=zs("#version");t.innerText=ze,t.style.width=t.scrollWidth+"px"})},Io=null,Ge=()=>Io??=zs("body > main > nav"),sc=null,We=()=>sc??=zs("body > main > article"),Xs=t=>t.preventDefault(),zs=t=>qs.querySelector(t),Ys=(t,n)=>t.querySelector(n),tc=t=>qs.getElementById(t),ts=(t,n,c={},r)=>{let f=qs.createElement(t);return Object.entries(c).forEach(g=>f.setAttribute(...g)),r!=null&&(f.innerText=r),n!=null?n.appendChild(f):f},Qs=(t,n)=>t.classList.add(n);var Et=(t,n)=>t.classList.remove(n),be=(t,n,c)=>t.classList.toggle(n)?c():0,St=(t,n=!0)=>{let c=Ge();["?","#"].forEach(r=>{t.includes(r)&&(t=t.substring(0,t.indexOf(r)))}),fetch(`${t}nav.json`).then(r=>r.json()).then(r=>{Et(Ys(c,"li.current"),"current"),Be(r,Ys(c,"ul"))}),fetch(`${t}article.html`).then(r=>r.text()).then(r=>{let f=We();f.innerHTML=r,f.scrollTo(0,0),pn()}),n&&history.pushState(null,"",t)},pn=()=>{let t=Ys(We(),":scope iframe"),n=t?.parentElement;if(t==null||n==null)return;let c=n.insertBefore(ts("form",null,{action:"https://codepen.io/pen/define",method:"post",target:"_blank"}),t);n.insertBefore(ts("a",null,{id:"penEdit"},"Open this demo in CodePen"),t).onclick=()=>{c.childNodes.length==0?fetch("pen.json").then(r=>r.text()).then(r=>{ts("input",c,{type:"hidden",name:"data",value:r}),c.submit()}):c.submit()}},Be=({i:t,n,u:c,r,c:f,p:g,o:S,_:z},J)=>{let N=Ge(),p=tc(t);if(p==null){p=ts("li",J,{id:t}),ts("span",p);let h=ts("a",p,{href:c});r?ts("code",h,{},n):h.innerText=n,g&&Qs(p,"parent")}if(S&&Qs(p,"open"),z!=null){let h=Ys(p,"ul")??ts("ul",p);z.forEach(T=>{Be(T,h)})}if(f){Qs(p,"current"),qs.title=`${n} | ${Xo}`;let h=p.getBoundingClientRect(),T=N.getBoundingClientRect();h.top<T.top?N.scrollBy(0,h.top-T.top):h.bottom>T.bottom&&N.scrollBy(0,Math.min(h.bottom-T.bottom,h.top-T.top))}};var ks="dark",Cn="light",mn="auto",Ue=()=>{let t=matchMedia("(prefers-color-scheme: dark)"),n=()=>{let c=localStorage.getItem(ks)??mn;zs("#dark")?.setAttribute("class",c),zs("html").className=c==ks||c==mn&&t.matches?ks:Cn};t.addEventListener("change",n),window.addEventListener("storage",c=>{c.storageArea==localStorage&&c.key==ks&&n()}),addEventListener("load",()=>{zs("#dark").addEventListener("click",()=>{let c=localStorage.getItem(ks);localStorage.setItem(ks,c==ks?Cn:c==Cn?mn:ks),n()}),n()}),n()};var $e=t=>typeof t;var nc=$e(""),Ye=t=>""+t,ec=t=>(n,c,r)=>t(n)?r?.():c(n),Gs=t=>t===void 0,Oe=t=>t===null,Is=ec(Gs),oc=t=>$e(t)==nc,Ct=t=>Array.isArray(t),Ws=t=>t.length,cc=(t,n)=>t.test(n),Ze=(t,n)=>t.every(n),ic=(t,n)=>Ws(t)===Ws(n)&&Ze(t,(c,r)=>n[r]===c),qe=(t,n)=>Ze(t,(c,r)=>r==0||n(t[r-1],c)<=0),ke=(t,n)=>t.sort(n),st=(t,n)=>t.forEach(n),rc=(t,n)=>t.map(n),ac=t=>Ws(t)==0,lc=(t,n,c)=>t.reduce(n,c),Qe=(t,...n)=>t.push(...n),fc=t=>t.shift(),Xe=t=>n=>lc(yn(n),(c,r)=>c+t(r),0),Ie=t=>t?.size??0,so=Xe(Ie),hc=Xe(so),ft=(t,n)=>t?.has(n)??!1,mt=t=>Gs(t)||Ie(t)==0,yn=t=>[...t?.values()??[]],Ke=t=>t.clear(),Ls=(t,n)=>t?.forEach(n),ht=(t,n)=>t?.delete(n),uc=Object,gc=uc.freeze,Lc=Map,ns=t=>new Lc(t),to=t=>[...t?.keys()??[]],k=(t,n)=>t?.get(n),pt=(t,n)=>Ls(t,(c,r)=>n(r,c)),Y=(t,n,c)=>Gs(c)?(ht(t,n),t):t?.set(n,c),no=(t,n,c,r)=>(ft(t,n)?r?.(k(t,n)):Y(t,n,c()),k(t,n)),Rn=(t,n,c,r,f=0)=>Is((c?no:k)(t,n[f],f>Ws(n)-2?c:ns),g=>{if(f>Ws(n)-2)return r?.(g)&&Y(t,n[f]),g;let S=Rn(g,n,c,r,f+1);return mt(g)&&Y(t,n[f]),S}),Ks=t=>new Set(Ct(t)||Gs(t)?t:[t]),js=(t,n)=>t?.add(n),Tc=(t,n,c,r,f)=>{let g=t.hasRow,S=ns(),z=ns(),J=ns(),N=ns(),p=ns(),h=ns(),T=()=>t,V=()=>to(S),v=d=>pt(z,d),C=d=>ft(z,d),F=d=>k(S,d),q=d=>k(z,d),fs=(d,W)=>Y(z,d,W),Ts=(d,W,...cs)=>{let Z=no(h,d,Ks);return st(cs,m=>js(Z,m)&&W&&t.callListener(m)),cs},ds=(d,...W)=>Is(k(h,d),cs=>{st(ac(W)?yn(cs):W,Z=>{t.delListener(Z),ht(cs,Z)}),mt(cs)&&Y(h,d)}),Ns=(d,W)=>{Y(S,d,W),ft(z,d)||(Y(z,d,n()),Y(N,d,ns()),Y(p,d,ns()),f(J))},ct=(d,W,cs,Z,m)=>{Ns(d,W);let j=ns(),Q=ns(),X=k(N,d),hs=k(p,d),Es=P=>{let $=Ss=>t.getCell(W,P,Ss),I=k(X,P),ms=g(W,P)?c(Z($,P)):void 0;if(I===ms||Ct(I)&&Ct(ms)&&ic(I,ms)||Y(j,P,[I,ms]),!Gs(m)){let Ss=k(hs,P),ws=g(W,P)?m($,P):void 0;Ss!=ws&&Y(Q,P,ws)}},is=P=>{cs(()=>{Ls(j,([,$],I)=>Y(X,I,$)),Ls(Q,($,I)=>Y(hs,I,$))},j,Q,X,hs,P),Ke(j),Ke(Q)};pt(X,Es),t.hasTable(W)&&st(t.getRowIds(W),P=>{ft(X,P)||Es(P)}),is(!0),ds(d),Ts(d,0,t.addRowListener(W,null,(P,$,I)=>Es(I)),t.addTableListener(W,()=>is()))},xs=d=>{Y(S,d),Y(z,d),Y(N,d),Y(p,d),ds(d),f(J)};return[T,V,v,C,F,q,fs,Ns,ct,xs,d=>r(d,J),()=>pt(h,xs),Ts,ds]},Je=(t,n)=>oc(t)?c=>c(t):t??(()=>n??""),dc=(t,n)=>{let c=new WeakMap;return r=>(c.has(r)||c.set(r,t(r)),c.get(r))},Ec=(t,n)=>(t??0)<(n??0)?-1:1,Sc=/^\d+$/,pc=()=>{let t=[],n=0;return[c=>(c?fc(t):null)??""+n++,c=>{cc(Sc,c)&&Ws(t)<1e3&&Qe(t,c)}]},Cc=(t,n=[""])=>{let c=[],r=(f,g)=>g==Ws(n)?Qe(c,f):Oe(n[g])?Ls(f,S=>r(S,g+1)):st([n[g],null],S=>r(k(f,S),g+1));return r(t,0),c},mc=t=>{let n,[c,r]=pc(),f=ns();return[(N,p,h,T=[],V=()=>[])=>{n??=t();let v=c(1);return Y(f,v,[N,p,h,T,V]),js(Rn(p,h??[""],Ks),v),v},(N,p,...h)=>st(Cc(N,p),T=>Ls(T,V=>k(f,V)[0](n,...p??[],...h))),N=>Is(k(f,N),([,p,h])=>(Rn(p,h??[""],void 0,T=>(ht(T,N),mt(T)?1:0)),Y(f,N),r(N),h)),N=>Is(k(f,N),([p,,h=[],T,V])=>{let v=(...C)=>{let F=Ws(C);F==Ws(h)?p(n,...C,...V(C)):Oe(h[F])?st(T[F]?.(...C)??[],q=>v(...C,q)):v(...C,h[F])};v()})]},eo=dc(t=>{let n=ns(),c=ns(),[r,f,g]=mc(()=>Z),[S,z,J,N,p,h,T,,V,v,C,F]=Tc(t,ns,m=>Gs(m)?"":Ct(m)?rc(m,Ye):Ye(m),r,f),q=(m,j)=>ft(h(m),j),fs=(m,j,Q,X,hs,Es=Ec)=>{let is=Gs(hs)?void 0:([P],[$])=>hs(P,$);return V(m,j,(P,$,I,ms,Ss,ws)=>{let vs=0,Fs=Ks(),Ps=Ks(),rs=h(m);if(Ls($,([K,us],Rs)=>{let ys=Ks(K),Vs=Ks(us);Ls(ys,H=>ht(Vs,H)?ht(ys,H):0),Ls(ys,H=>{js(Fs,H),Is(k(rs,H),Dt=>{ht(Dt,Rs),mt(Dt)&&(Y(rs,H),vs=1)})}),Ls(Vs,H=>{js(Fs,H),ft(rs,H)||(Y(rs,H,Ks()),vs=1),js(k(rs,H),Rs),Gs(X)||js(Ps,H)})}),P(),mt(Ss)||(ws?pt(rs,K=>js(Ps,K)):pt(I,K=>Is(k(ms,K),us=>st(Ct(us)?us:[us],Rs=>js(Ps,Rs)))),Ls(Ps,K=>{let us=(ys,Vs)=>Es(k(Ss,ys),k(Ss,Vs),K),Rs=[...k(rs,K)];qe(Rs,us)||(Y(rs,K,Ks(ke(Rs,us))),js(Fs,K))})),(vs||ws)&&!Gs(is)){let K=[...rs];qe(K,is)||(T(m,ns(ke(K,is))),vs=1)}vs&&f(n,[m]),Ls(Fs,K=>f(c,[m,K]))},Je(Q),Is(X,Je)),Z},Ts=m=>J((j,Q)=>m(j,X=>Ns(j,X,Q))),ds=(m,j)=>Ns(m,j,h(m)),Ns=(m,j,Q)=>{let X=p(m);Ls(Q,(hs,Es)=>j(Es,is=>Ls(hs,P=>is(P,$=>t.forEachCell(X,P,$)))))},Z={setIndexDefinition:fs,delIndexDefinition:m=>(v(m),Z),getStore:S,getIndexIds:z,forEachIndex:Ts,forEachSlice:ds,hasIndex:N,hasSlice:q,getTableId:p,getSliceIds:m=>to(h(m)),getSliceRowIds:(m,j)=>yn(k(h(m),j)),addIndexIdsListener:C,addSliceIdsListener:(m,j)=>r(j,n,[m]),addSliceRowIdsListener:(m,j,Q)=>r(Q,c,[m,j]),delListener:m=>(g(m),Z),destroy:F,getListenerStats:()=>({sliceIds:so(n),sliceRowIds:hc(c)})};return gc(Z)});var ot=t=>typeof t;var Rc=ot(""),yc=ot(!0),ho=ot(0),Vc=ot(ot),$t="type",bs="default",Ot="allowNull",Mc="null",Nc="Listener",wc="add",tt="Has",an="Ids",Lt="Table",oo=Lt+"s",vc=Lt+an,tn="Row",Hc=tn+"Count",Dc=tn+an,sn="Cell",co=sn+an,nn="Value",io=nn+"s",xc=nn+an,_=t=>""+t,uo=t=>(n,c,r)=>t(n)?r?.():c(n),_c=globalThis,Fc=isFinite,Pc=(t,n)=>t instanceof n,en=t=>t==null,es=t=>t===void 0,et=t=>t===null,Ac=uo(en),A=uo(es),go=t=>t==Rc||t==yc,Vn=t=>ot(t)==Vc,Lo=t=>Array.isArray(t),ro=(t,n,c)=>t.slice(n,c),Ds=t=>t.length,zc=(t,n)=>t.test(n),ut=_c.structuredClone,Mn=async(t,n,c)=>{try{return await t()}catch(r){n?.(r)}},jc=(t,n)=>t.includes(n),Pn=(t,n)=>t.every(n),Gc=(t,n)=>Ds(t)===Ds(n)&&Pn(t,(c,r)=>n[r]===c),Wc=(t,n)=>t.sort(n),Ht=(t,n)=>t.forEach(n),on=(t,n)=>t.map(n),bc=(t,n,c)=>t.reduce(n,c),cn=(t,...n)=>t.push(...n),Bc=t=>t.shift(),Rt=t=>{if(et(t))return Mc;let n=ot(t);return go(n)||n==ho&&Fc(t)?n:void 0},An=t=>n=>bc(To(n),(c,r)=>c+t(r),0),zn=t=>t?.size??0,jn=An(zn),Mt=An(jn),Nn=An(Mt),os=(t,n)=>t?.has(n)??!1,y=t=>es(t)||zn(t)==0,To=t=>[...t?.values()??[]],wn=t=>t.clear(),w=(t,n)=>t?.forEach(n),rn=(t,n)=>t?.delete(n),Bs=Object,ao=t=>Bs.getPrototypeOf(t),Uc=Bs.isFrozen,Gn=Bs.entries,Tt=t=>!en(t)&&Ac(ao(t),n=>n==Bs.prototype||en(ao(n)),()=>!0),Yc=Bs.keys,qc=Bs.freeze,kc=(t=[])=>Bs.fromEntries(t),Kc=(...t)=>Bs.assign({},...t),Nt=(t,n)=>n in t,Hn=(t,n)=>(delete t[n],t),Jc=(t,n)=>Ht(Gn(t),([c,r])=>n(r,c)),$c=(t,n)=>on(Gn(t),([c,r])=>n(r,c)),Cs=(t,n)=>kc($c(t,(c,r)=>[r,n(c,r)])),Eo=t=>Ds(Yc(t)),Hs=t=>Tt(t)&&Eo(t)==0,Os=(t,n,c=(r,f)=>r===f)=>{let r=Gn(t);return Ds(r)===Eo(n)&&Pn(r,([f,g])=>Tt(g)?Tt(n[f])?Os(n[f],g):!1:c(g,n[f]))},Js=(t,n,c,r=0)=>en(t)||!Tt(t)||!r&&Hs(t)||Uc(t)?(c?.(),!1):(Jc(t,(f,g)=>{n(f,g)||Hn(t,g)}),r?!0:!Hs(t)),Oc=Map,M=t=>new Oc(t),yt=t=>[...t?.keys()??[]],L=(t,n)=>t?.get(n),$s=(t,n)=>w(t,(c,r)=>n(r,c)),Zc=(t,n)=>on([...t?.entries()??[]],([c,r])=>n(r,c)),D=(t,n,c)=>es(c)?(rn(t,n),t):t?.set(n,c),O=(t,n,c,r)=>(os(t,n)?r?.(L(t,n)):D(t,n,c()),L(t,n)),nt=(t,n,c,r=D)=>(Cs(n,(f,g)=>c(t,g,f)),$s(t,f=>Nt(n,f)?0:r(t,f)),t),ls=(t,n,c,r)=>{let f={};return w(t,(g,S)=>{if(!c?.(g,S)){let z=n?n(g,S):g;r?.(z)||(f[S]=z)}}),f},Dn=(t,n,c)=>ls(t,r=>ls(r,n,c),y,Hs),Zt=(t,n,c)=>ls(t,r=>Dn(r,n,c),y,Hs),Ms=(t,n)=>{let c=M();return w(t,(r,f)=>c.set(f,n?.(r)??r)),c},xn=t=>Ms(t,Ms),lo=t=>Ms(t,xn),_n=(t,n,c,r,f=0)=>A((c?O:L)(t,n[f],f>Ds(n)-2?c:M),g=>{if(f>Ds(n)-2)return r?.(g)&&D(t,n[f]),g;let S=_n(g,n,c,r,f+1);return y(g)&&D(t,n[f]),S}),Qc=JSON.stringify,vn=JSON.parse,gt=t=>Qc(t,(n,c)=>Pc(c,Map)?Bs.fromEntries([...c]):c),Xc=(t,n)=>(t??0)<(n??0)?-1:1,Ic=/^\d+$/,Fn=()=>{let t=[],n=0;return[c=>(c?Bc(t):null)??""+n++,c=>{zc(Ic,c)&&Ds(t)<1e3&&cn(t,c)}]},wt=t=>new Set(Lo(t)||es(t)?t:[t]),vt=(t,n)=>t?.add(n),si=(t,n=[""])=>{let c=[],r=(f,g)=>g==Ds(n)?cn(c,f):et(n[g])?w(f,S=>r(S,g+1)):Ht([n[g],null],S=>r(L(f,S),g+1));return r(t,0),c},ti=t=>{let n,[c,r]=Fn(),f=M();return[(N,p,h,T=[],V=()=>[])=>{n??=t();let v=c(1);return D(f,v,[N,p,h,T,V]),vt(_n(p,h??[""],wt),v),v},(N,p,...h)=>Ht(si(N,p),T=>w(T,V=>L(f,V)[0](n,...p??[],...h))),N=>A(L(f,N),([,p,h])=>(_n(p,h??[""],void 0,T=>(rn(T,N),y(T)?1:0)),D(f,N),r(N),h)),N=>A(L(f,N),([p,,h=[],T,V])=>{let v=(...C)=>{let F=Ds(C);F==Ds(h)?p(n,...C,...V(C)):et(h[F])?Ht(T[F]?.(...C)??[],q=>v(...C,q)):v(...C,h[F])};v()})]},Qt=t=>[t,t],B=(t,n=jn)=>n(t[0])+n(t[1]),U=()=>[M(),M()],Xt=t=>[...t],It=([t,n])=>t===n,Vt=(t,n,c)=>D(t,n,L(t,n)==-c?void 0:c),fo=([t,n],[c,r])=>Os(t,c)&&Os(n,r),Wn=()=>{let t,n,c=!1,r=!1,f=0,g=[],S=[],z=0,J=M(),N=M(),p=M(),h=M(),T=M(),V=M(),v=M(),C=M(),F=M(),q=M(),fs=M(),Ts=M(),ds=M(),Ns=M(),ct=wt(),xs=M(),_s=M(),x=M(),d=M(),W=U(),cs=U(),Z=U(),m=U(),j=U(),Q=U(),X=U(),hs=U(),Es=U(),is=U(),P=U(),$=U(),I=U(),ms=U(),Ss=U(),ws=U(),vs=U(),Fs=U(),Ps=U(),rs=U(),K=U(),us=U(),Rs=M(),ys=U(),[Vs,H,Dt,mo]=ti(()=>ps),ss=s=>{let e=z;z=1;let o=s();return z=e,o},Us=(s,e,o,i=Object.is)=>A(e(),a=>s===a||i(s,a)?o(a):ss(()=>o(a))),Ro=s=>Js(s,e=>Js(e,Un)),yo=s=>Js(s,Un),Un=s=>{if(!Js(s,(i,a)=>jc([$t,bs,Ot],a)))return!1;let e=s[$t];if(!go(e)&&e!=ho)return!1;let o=s[bs];return et(o)&&!s[Ot]?!1:(!et(o)&&Rt(o)!=e&&Hn(s,bs),!0)},Vo=Lo,Mo=s=>Js(s,Yn,As),Yn=(s,e)=>(!t||os(fs,e)||As(e))&&Js(s,(o,i)=>xt(e,i,o),()=>As(e)),xt=(s,e,o,i)=>Js(i?o:Jn(o,s,e),(a,l)=>A(qn(s,e,l,a),u=>(o[l]=u,!0),()=>!1),()=>As(s,e)),qn=(s,e,o,i)=>t?A(L(L(fs,s),o),a=>et(i)?a[Ot]?i:As(s,e,o,i,a[bs]):Rt(i)==a[$t]?i:As(s,e,o,i,a[bs]),()=>As(s,e,o,i)):es(Rt(i))?As(s,e,o,i):i,kn=(s,e)=>Js(e?s:No(s),(o,i)=>A(Kn(i,o),a=>(s[i]=a,!0),()=>!1),()=>it()),Kn=(s,e)=>n?A(L(ds,s),o=>et(e)?o[Ot]?e:it(s,e,o[bs]):Rt(e)==o[$t]?e:it(s,e,o[bs]),()=>it(s,e)):es(Rt(e))?it(s,e):e,Jn=(s,e,o)=>(A(L(Ts,e),([i,a])=>{w(i,(l,u)=>{Nt(s,u)||(s[u]=l)}),w(a,l=>{Nt(s,l)||As(e,o,l)})}),s),No=s=>(n&&(w(Ns,(e,o)=>{Nt(s,o)||(s[o]=e)}),w(ct,e=>{Nt(s,e)||it(e)})),s),$n=s=>nt(fs,s,(e,o,i)=>{let a=M(),l=wt();nt(O(fs,o,M),i,(u,E,R)=>{D(u,E,R),A(R[bs],G=>D(a,E,G),()=>vt(l,E))}),D(Ts,o,[a,l])},(e,o)=>{D(fs,o),D(Ts,o)}),On=s=>nt(ds,s,(e,o,i)=>{D(ds,o,i),A(i[bs],a=>D(Ns,o,a),()=>vt(ct,o))},(e,o)=>{D(ds,o),D(Ns,o),rn(ct,o)}),Zn=s=>Hs(s)?kt():Yt(s),_t=(s,e,o,i,a)=>es(i)?xe(s,e,o,!0,a):Ve(s,e,o,i,a),Qn=s=>Hs(s)?Kt():qt(s),ln=(s,e,o)=>es(e)?_e(s,o):Me(s,e,o),wo=s=>Us(s,()=>A(g[0],e=>ss(()=>e(ut(s))),()=>s),([e,o])=>{(Hs(e)?kt:Yt)(e),(Hs(o)?Kt:qt)(o)},fo),Xn=(s,e)=>Us(s,()=>e?s:A(g[1],o=>ss(()=>o(ut(s))),()=>s),o=>nt(x,o,(i,a,l)=>fn(a,l),(i,a)=>te(a)),Os),fn=(s,e,o)=>Us(e,()=>o?e:A(g[2],i=>ss(()=>i(s,ut(e))),()=>e),i=>nt(O(x,s,()=>(hn(s,1),D(xs,s,Fn()),D(_s,s,M()),M())),i,(a,l,u)=>Ft(s,a,l,u),(a,l)=>ne(s,a,l)),Os),Ft=(s,e,o,i,a)=>Us(i,()=>a?i:A(g[3],l=>ss(()=>l(s,o,ut(i))),()=>i),l=>nt(O(e,o,()=>(un(s,o,1),M())),l,(u,E,R)=>Pt(s,o,u,E,R),(u,E)=>ee(s,e,o,u,E,a)),Os),Pt=(s,e,o,i,a,l)=>Us(a,()=>A(l?void 0:g[4],u=>ss(()=>u(s,e,i,a)),()=>a),u=>{os(o,i)||ce(s,e,i,1);let E=L(o,i);u!==E&&(ie(s,e,i,E,u),D(o,i,u))}),In=(s,e,o,i,a,l)=>A(L(e,o),u=>Pt(s,o,u,i,a,l),()=>{let u=M();D(e,o,u),un(s,o,1),Cs(Jn({[i]:a},s,o),(E,R)=>Pt(s,o,u,R,E,l))}),se=(s,e)=>Us(s,()=>e?s:A(g[5],o=>ss(()=>o(ut(s))),()=>s),o=>nt(d,o,(i,a,l)=>At(a,l),(i,a)=>oe(a)),Os),At=(s,e,o)=>Us(e,()=>A(o?void 0:g[6],i=>ss(()=>i(s,e)),()=>e),i=>{os(d,s)||re(s,1);let a=L(d,s);i!==a&&(ae(s,a,i),D(d,s,i))}),vo=(s,e)=>{let[o]=L(xs,s),i;do i=o(e);while(os(L(x,s),i));return i},zt=s=>O(x,s,()=>(hn(s,1),D(xs,s,Fn()),D(_s,s,M()),M())),te=s=>ss(()=>g[8]?.(s))??!0?fn(s,{},!0):L(x,s),ne=(s,e,o)=>{if(ss(()=>g[9]?.(s,o))??!0){let[,i]=L(xs,s);i(o),Ft(s,e,o,{},!0)}},ee=(s,e,o,i,a,l,u)=>{let E=L(L(Ts,s)?.[0],a);if(!es(E)&&!l)return Pt(s,o,i,a,E);if(u||(ss(()=>g[10]?.(s,o,a))??!0)){let R=G=>{ie(s,o,G,L(i,G)),ce(s,o,G,-1),D(i,G)};es(E)?R(a):$s(i,R),y(i)&&(un(s,o,-1),y(D(e,o))&&(hn(s,-1),D(x,s),D(xs,s),D(_s,s)))}},oe=(s,e)=>{let o=L(Ns,s);if(!es(o))return At(s,o);(e||(ss(()=>g[12]?.(s))??!0))&&(ae(s,L(d,s)),re(s,-1),D(d,s))},hn=(s,e)=>Vt(J,s,e),un=(s,e,o)=>Vt(O(h,s,M),e,o)&&D(p,s,O(p,s,()=>0)+o),ce=(s,e,o,i)=>{let a=L(_s,s),l=L(a,o)??0;(l==0&&i==1||l==1&&i==-1)&&Vt(O(N,s,M),o,i),D(a,o,l!=-i?l+i:void 0),Vt(O(O(T,s,M),e,M),o,i)},ie=(s,e,o,i,a)=>{O(O(O(V,s,M),e,M),o,()=>[i,0])[1]=a,S[3]?.(s,e,o,a,z)},re=(s,e)=>Vt(v,s,e),ae=(s,e,o)=>{O(C,s,()=>[e,0])[1]=o,S[4]?.(s,o,z)},As=(s,e,o,i,a)=>(cn(O(O(O(F,s,M),e,M),o,()=>[]),i),a),it=(s,e,o)=>(cn(O(q,s,()=>[]),e),o),jt=(s,e,o)=>A(L(L(L(V,s),e),o),([i,a])=>[!0,i,a],()=>[!1,...Qt(Wt(s,e,o))]),le=s=>A(L(C,s),([e,o])=>[!0,e,o],()=>[!1,...Qt(bt(s))]),fe=s=>!y(F)&&!y(ws[s])?w(s?lo(F):F,(e,o)=>w(e,(i,a)=>w(i,(l,u)=>H(ws[s],[o,a,u],l)))):0,he=s=>!y(q)&&!y(vs[s])?w(s?Ms(q):q,(e,o)=>H(vs[s],[o],e)):0,dt=(s,e,o,i)=>{if(!y(s))return H(e,i,()=>ls(s)),$s(s,(a,l)=>H(o,[...i??[],a],l==1)),1},ue=s=>Ms(s,e=>Ms(e,o=>Ms(o,Xt))),ge=s=>{let e=!y(W[s]),o=!y(is[s]),i=!(y(I[s])&&y(ms[s])&&y(Es[s])&&y(P[s])&&y(Q[s])&&y(X[s])&&y(hs[s])&&!o&&y(Z[s])&&y(m[s])),a=!(y(Ss[s])&&y($[s])&&y(j[s])&&y(cs[s]));if(e||i||a){let l=s?[Ms(J),xn(N),Ms(p),xn(h),lo(T),ue(V)]:[J,N,p,h,T,V];if(e){let u=Bt();u!=c&&H(W[s],void 0,u)}if(i){dt(l[0],Z[s],m[s]),w(l[1],(E,R)=>dt(E,Q[s],X[s],[R])),w(l[2],(E,R)=>{E!=0&&H(hs[s],[R],Ee(R))});let u=wt();w(l[3],(E,R)=>{dt(E,Es[s],P[s],[R])&&o&&(H(is[s],[R,null]),vt(u,R))}),o&&w(l[5],(E,R)=>{if(!os(u,R)){let G=wt();w(E,as=>w(as,([at,lt],Zs)=>lt!==at?vt(G,Zs):rn(as,Zs))),w(G,as=>H(is[s],[R,as]))}}),w(l[4],(E,R)=>w(E,(G,as)=>dt(G,I[s],ms[s],[R,as])))}if(a){let u;w(l[5],(E,R)=>{let G;w(E,(as,at)=>{let lt;w(as,([Zs,Jt],Qo)=>{Jt!==Zs&&(H(Ss[s],[R,at,Qo],Jt,Zs,jt),u=G=lt=1)}),lt&&H($[s],[R,at],jt)}),G&&H(j[s],[R],jt)}),u&&H(cs[s],void 0,jt)}}},Le=s=>{let e=!y(Fs[s]),o=!y(rs[s])||!y(K[s]),i=!y(us[s])||!y(Ps[s]);if(e||o||i){let a=s?[Ms(v),Ms(C,Xt)]:[v,C];if(e){let l=Ut();l!=r&&H(Fs[s],void 0,l)}if(o&&dt(a[0],rs[s],K[s]),i){let l;w(a[1],([u,E],R)=>{E!==u&&(H(us[s],[R],E,u,le),l=1)}),l&&H(Ps[s],void 0,le)}}},b=(s,...e)=>(Sn(()=>s(...on(e,_))),ps),Te=(s,e,o,i,a)=>{let l=Gt(s,e,...o);return Vs(()=>{let u=Gt(s,e,...o);Gc(u,l)||(l=u,i(ps,s,e,...o,l))},is[a?1:0],[s,e],[gs])},Ho=()=>[gn(),Tn()],gn=()=>Zt(x),gs=()=>yt(x),Do=s=>Dn(L(x,_(s))),de=s=>yt(L(_s,_(s))),Ee=s=>zn(L(x,_(s))),rt=s=>yt(L(x,_(s))),Gt=(s,e,o,i=0,a)=>Tt(s)?Gt(s.tableId,s.cellId,s.descending,s.offset,s.limit):on(ro(Wc(Zc(L(x,_(s)),(l,u)=>[es(e)?u:L(l,_(e)),u]),([l],[u])=>Xc(l,u)*(o?-1:1)),i,es(a)?a:i+a),([,l])=>l),Se=(s,e)=>ls(L(L(x,_(s)),_(e))),Ln=(s,e)=>yt(L(L(x,_(s)),_(e))),Wt=(s,e,o)=>L(L(L(x,_(s)),_(e)),_(o)),Tn=()=>ls(d),dn=()=>yt(d),bt=s=>L(d,_(s)),Bt=()=>!y(x),pe=s=>os(x,_(s)),Ce=(s,e)=>os(L(_s,_(s)),_(e)),me=(s,e)=>os(L(x,_(s)),_(e)),Re=(s,e,o)=>os(L(L(x,_(s)),_(e)),_(o)),Ut=()=>!y(d),ye=s=>os(d,_(s)),xo=()=>gt(x),_o=()=>gt(d),Fo=()=>gt([x,d]),Po=()=>gt(fs),Ao=()=>gt(ds),zo=()=>gt([fs,ds]),jo=s=>b(()=>{let e=Vn(s)?s():s;Vo(e)&&wo(e)}),Yt=s=>b(()=>Mo(s)?Xn(s):0),Go=(s,e)=>b(o=>Yn(e,o)?fn(o,e):0,s),Wo=(s,e,o)=>b((i,a)=>xt(i,a,o)?Ft(i,zt(i),a,o):0,s,e),bo=(s,e,o=!0)=>Sn(()=>{let i;return xt(s,i,e)&&(s=_(s),Ft(s,zt(s),i=vo(s,o?1:0),e)),i}),Bo=(s,e,o)=>b((i,a)=>{if(xt(i,a,o,1)){let l=zt(i);Cs(o,(u,E)=>In(i,l,a,E,u))}},s,e),Ve=(s,e,o,i,a)=>b((l,u,E)=>A(qn(l,u,E,Vn(i)?i(Wt(l,u,E)):i),R=>In(l,zt(l),u,E,R,a)),s,e,o),qt=s=>b(()=>kn(s)?se(s):0),Uo=s=>b(()=>kn(s,1)?Cs(s,(e,o)=>At(o,e)):0),Me=(s,e,o)=>b(i=>A(Kn(i,Vn(e)?e(bt(i)):e),a=>At(i,a,o)),s),Yo=s=>b(()=>Us(s,()=>A(g[13],e=>ss(()=>e(ut(s))),()=>s),e=>{Cs(e[0],(o,i)=>es(o)?He(i):Cs(o,(a,l)=>es(a)?De(i,l):Cs(a,(u,E)=>_t(i,l,E,u)))),Cs(e[1],(o,i)=>ln(i,o))},fo)),Ne=s=>(Mn(()=>Zn(vn(s))),ps),qo=s=>(Mn(()=>Qn(vn(s))),ps),ko=s=>b(()=>Mn(()=>{let[e,o]=vn(s);Zn(e),Qn(o)},()=>Ne(s))),we=s=>b(()=>{if((t=Ro(s))&&($n(s),!y(x))){let e=gn();kt(),Yt(e)}}),ve=s=>b(()=>{if(n=yo(s)){let e=Tn();En(),Kt(),n=!0,On(s),qt(e)}}),Ko=(s,e)=>b(()=>{we(s),ve(e)}),kt=()=>b(()=>ss(()=>g[7]?.())??!0?Xn({},!0):0),He=s=>b(e=>os(x,e)?te(e):0,s),De=(s,e)=>b((o,i)=>A(L(x,o),a=>os(a,i)?ne(o,a,i):0),s,e),xe=(s,e,o,i,a)=>b((l,u,E)=>A(L(x,l),R=>A(L(R,u),G=>os(G,E)?ee(l,R,u,G,E,i,a):0)),s,e,o),Kt=()=>b(()=>ss(()=>g[11]?.())??!0?se({},!0):0),_e=(s,e)=>b(o=>os(d,o)?oe(o,e):0,s),Fe=()=>b(()=>{$n({}),t=!1}),En=()=>b(()=>{On({}),n=!1}),Jo=()=>b(()=>{Fe(),En()}),Sn=(s,e)=>{if(f!=-1){Pe();let o=s();return Ae(e),o}},Pe=()=>(f!=-1&&f++,f==1&&(S[0]?.(),H(Rs)),ps),$o=()=>[ls(V,(s,e)=>L(J,e)===-1?void 0:ls(s,(o,i)=>L(L(h,e),i)===-1?void 0:ls(o,([,a])=>a,a=>It(a)),y,Hs),y,Hs),ls(C,([,s])=>s,s=>It(s)),1],Oo=()=>[!y(V),!y(C),Zt(V,Xt,It),Zt(F),ls(C,Xt,It),ls(q),ls(J),Dn(h),Zt(T),ls(v)],Zo=()=>{if(g[14]){let s=ue(V);w(s,(e,o)=>w(e,(i,a)=>{if(!Pn(To(i),([l,u])=>l===u)){let l=Se(o,a),u=Kc(l);w(i,([R],G)=>es(R)?Hn(u,G):u[G]=R);let E=g[14](o,a,u,l);if(!Os(E,l)){let R=Cs(l,()=>{});Cs(E,(G,as)=>R[as]=G),Cs(R,(G,as)=>_t(o,a,as,G,!0))}}}))}},Ae=s=>(f>0&&(f--,f==0&&(f=1,ss(()=>{fe(1),y(V)||(ge(1),Zo()),he(1),y(C)||Le(1)}),s?.(ps)&&(w(V,(e,o)=>w(e,(i,a)=>w(i,([l],u)=>_t(o,a,u,l,!0)))),wn(V),w(C,([e],o)=>ln(o,e,!0)),wn(C)),H(ys[0],void 0),f=-1,fe(0),y(V)||ge(0),he(0),y(C)||Le(0),S[1]?.(),H(ys[1],void 0),S[2]?.(),f=0,c=Bt(),r=Ut(),Ht([J,N,p,h,T,V,F,v,C,q],wn))),ps),ps={getContent:Ho,getTables:gn,getTableIds:gs,getTable:Do,getTableCellIds:de,getRowCount:Ee,getRowIds:rt,getSortedRowIds:Gt,getRow:Se,getCellIds:Ln,getCell:Wt,getValues:Tn,getValueIds:dn,getValue:bt,hasTables:Bt,hasTable:pe,hasTableCell:Ce,hasRow:me,hasCell:Re,hasValues:Ut,hasValue:ye,getTablesJson:xo,getValuesJson:_o,getJson:Fo,getTablesSchemaJson:Po,getValuesSchemaJson:Ao,getSchemaJson:zo,hasTablesSchema:()=>t,hasValuesSchema:()=>n,setContent:jo,setTables:Yt,setTable:Go,setRow:Wo,addRow:bo,setPartialRow:Bo,setCell:Ve,setValues:qt,setPartialValues:Uo,setValue:Me,applyChanges:Yo,setTablesJson:Ne,setValuesJson:qo,setJson:ko,setTablesSchema:we,setValuesSchema:ve,setSchema:Ko,delTables:kt,delTable:He,delRow:De,delCell:xe,delValues:Kt,delValue:_e,delTablesSchema:Fe,delValuesSchema:En,delSchema:Jo,transaction:Sn,startTransaction:Pe,getTransactionChanges:$o,getTransactionLog:Oo,finishTransaction:Ae,forEachTable:s=>w(x,(e,o)=>s(o,i=>w(e,(a,l)=>i(l,u=>$s(a,u))))),forEachTableCell:(s,e)=>$s(L(_s,_(s)),e),forEachRow:(s,e)=>w(L(x,_(s)),(o,i)=>e(i,a=>$s(o,a))),forEachCell:(s,e,o)=>$s(L(L(x,_(s)),_(e)),o),forEachValue:s=>$s(d,s),addSortedRowIdsListener:(s,e,o,i,a,l,u)=>Tt(s)?Te(s.tableId,s.cellId,[s.descending??!1,s.offset??0,s.limit],e,o):Te(s,e,[o,i,a],l,u),addStartTransactionListener:s=>Vs(s,Rs),addWillFinishTransactionListener:s=>Vs(s,ys[0]),addDidFinishTransactionListener:s=>Vs(s,ys[1]),callListener:s=>(mo(s),ps),delListener:s=>(Dt(s),ps),getListenerStats:()=>({hasTables:B(W),tables:B(cs),tableIds:B(Z),hasTable:B(m),table:B(j),tableCellIds:B(Q),hasTableCell:B(X,Mt),rowCount:B(hs),rowIds:B(Es),sortedRowIds:B(is),hasRow:B(P,Mt),row:B($,Mt),cellIds:B(I,Mt),hasCell:B(ms,Nn),cell:B(Ss,Nn),invalidCell:B(ws,Nn),hasValues:B(Fs),values:B(Ps),valueIds:B(rs),hasValue:B(K),value:B(us),invalidValue:B(vs),transaction:jn(Rs)+B(ys)}),isMergeable:()=>!1,createStore:Wn,addListener:Vs,callListeners:H,setInternalListeners:(s,e,o,i,a)=>S=[s,e,o,i,a],setMiddleware:(s,e,o,i,a,l,u,E,R,G,as,at,lt,Zs,Jt)=>g=[s,e,o,i,a,l,u,E,R,G,as,at,lt,Zs,Jt],setOrDelCell:_t,setOrDelValue:ln};return Cs({[tt+oo]:[0,W,[],()=>[Bt()]],[oo]:[0,cs],[vc]:[0,Z],[tt+Lt]:[1,m,[gs],s=>[pe(...s)]],[Lt]:[1,j,[gs]],[Lt+co]:[1,Q,[gs]],[tt+Lt+sn]:[2,X,[gs,de],s=>[Ce(...s)]],[Hc]:[1,hs,[gs]],[Dc]:[1,Es,[gs]],[tt+tn]:[2,P,[gs,rt],s=>[me(...s)]],[tn]:[2,$,[gs,rt]],[co]:[2,I,[gs,rt]],[tt+sn]:[3,ms,[gs,rt,Ln],s=>[Re(...s)]],[sn]:[3,Ss,[gs,rt,Ln],s=>Qt(Wt(...s))],InvalidCell:[3,ws],[tt+io]:[0,Fs,[],()=>[Ut()]],[io]:[0,Ps],[xc]:[0,rs],[tt+nn]:[1,K,[dn],s=>[ye(...s)]],[nn]:[1,us,[dn],s=>Qt(bt(s[0]))],InvalidValue:[1,vs]},([s,e,o,i],a)=>{ps[wc+a+Nc]=(...l)=>Vs(l[s],e[l[s+1]?1:0],s>0?ro(l,0,s):void 0,o,i)}),qc(ps)};var ni=["db","id","ids","no","ui","ws","add","api","bun","del","dom","for","get","has","hlc","log","map","row","set","sql","use","web","yjs"],Co=(t=!1)=>{addEventListener("load",()=>{let n=zs("body > header > nav");if(n==null)return;let c=ts("div",null,{id:"search"}),r=ts("input",c,{type:"text",placeholder:(navigator.platform.startsWith("Mac")?"\u2318":"cmd-")+"K Search"}),f=ts("ol",c),g=ts("li",f,{},"No results found"),S=Wn(),z=eo(S);z.setIndexDefinition("p","p",h=>{let T=[];return h("t").split(" ").forEach(V=>{for(let v=0;v<V.length;v++)T.push(V.slice(0,v+1))}),T},"t",void 0,(h,T,V)=>Bn(T,V)-Bn(h,V)),fetch("/pages.json").then(h=>h.json()).then(h=>{S.transaction(()=>{S.setContent(h),S.forEachRow("p",T=>{let{n:V,s:v}=S.getRow("p",T),C=new Set;bn(T,C,!0),bn(V,C),bn(v,C),S.setCell("p",T,"t",Array.from(C.values()).join(" "))})}),J()});let J=()=>{n.prepend(c);let h=()=>(r.value?Qs:Et)(f,"show");r.addEventListener("focus",h),r.addEventListener("input",()=>{h(),N()}),r.addEventListener("blur",()=>Et(f,"show")),p()},N=()=>{let h=r.value.toLowerCase().split(/[^a-z0-9]+/),T=new Map;h.forEach(C=>z.getSliceRowIds("p",C).slice(0,50).forEach(F=>T.set(F,(T.get(F)??0)+Bn(S.getCell("p",F,"t"),C))));let V=Array.from(T.keys()).sort((C,F)=>T.get(F)-T.get(C)).slice(0,10),v=V.length==0?[g]:V.map((C,F)=>{let q=ts("li"),{n:fs,s:Ts}=S.getRow("p",C);return So(ts("b",q),fs,h[0]),So(ts("span",q),Ts,h[0]),q.title=Ts,q.addEventListener("mousedown",()=>t?location.href=C:St(C)),F==0&&Qs(q,"hover"),q});f.replaceChildren(...v)},p=()=>addEventListener("keydown",h=>{if(qs.activeElement==r){let T=Ys(f,".hover");switch(h.code){case"Escape":return r.blur();case"ArrowDown":return Xs(h),po(T,T?.nextSibling??f.firstChild);case"ArrowUp":return Xs(h),po(T,T?.previousSibling??f.lastChild);case"Enter":return T?.dispatchEvent(new MouseEvent("mousedown"))}}else h.code=="KeyK"&&h.metaKey&&(r.focus(),Xs(h))})})},So=(t,n,c)=>{let r=n.toLowerCase().indexOf(c);t.innerHTML=r==-1?n:n.substring(0,r)+"<em>"+n.substring(r,r+c.length)+"</em>"+n.substring(r+c.length)},po=(t,n)=>{t!=n&&(t&&Et(t,"hover"),n&&(Qs(n,"hover"),n.scrollIntoView({block:"nearest",inline:"nearest"})))},bn=(t,n,c)=>{let r=t.replaceAll(/[^a-zA-Z0-9]/g," ").split(/\s+/);c&&r.reverse(),r.forEach(f=>{[f,...f.replaceAll(/([a-z])([A-Z])/g,"$1 $2").split(" ")].forEach(g=>{let S=g.toLowerCase();(S.length>3||ni.includes(S))&&n.add(S)})})},Bn=(t,n)=>{let c=t.length,r=t.indexOf(n);return r===-1?0:(c-r)/c};je();Ue();Co();addEventListener("load",()=>{pn(),qs.body.addEventListener("click",n=>{if(n.button!=0)return;let c=n.target;if(c.tagName=="SPAN"&&c.innerHTML==""&&c.parentElement?.tagName=="LI")return t(c.parentElement);for(;c.tagName!="A"&&c.parentElement!=null;)c=c.parentElement;let r=c.href;!n.metaKey&&!n.shiftKey&&r!=null&&r!=location.origin+"/"&&r.startsWith(location.origin+"/")&&!r.includes("#")&&(St(r),Xs(n))}),window.onpopstate=function(n){location.href.includes("#")||(St(location.href,!1),Xs(n))};let t=n=>be(n,"open",()=>{let c=Ys(n,"a");c.href!=location.origin&&c.click()})});})();
