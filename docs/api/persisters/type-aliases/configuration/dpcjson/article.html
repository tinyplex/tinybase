<nav><ul><li><a href="/">TinyBase</a></li><li><a href="/api/">API</a></li><li><a href="/api/persisters/"><code>persisters</code></a></li><li><a href="/api/persisters/type-aliases/">Type Aliases</a></li><li><a href="/api/persisters/type-aliases/configuration/">Configuration type aliases</a></li><li><a href="/api/persisters/type-aliases/configuration/dpcjson/"><code>DpcJson</code></a></li></ul></nav><section class="s1" id="/api/persisters/type-aliases/configuration/dpcjson/" data-id="DJ"><h1><code>DpcJson</code></h1><p>The <code>DpcJson</code> type describes the configuration of a database-oriented <a href="/api/persisters/interfaces/persister/persister/"><code>Persister</code></a> operating in serialized JSON mode.</p><pre><code><span class="punctuation">{</span>
  mode<span class="operator">:</span> <span class="string">"json"</span><span class="punctuation">;</span>
  storeTableName<span class="operator">?</span><span class="operator">:</span> <span class="builtin">string</span><span class="punctuation">;</span>
  storeIdColumnName<span class="operator">?</span><span class="operator">:</span> <span class="builtin">string</span><span class="punctuation">;</span>
  storeColumnName<span class="operator">?</span><span class="operator">:</span> <span class="builtin">string</span><span class="punctuation">;</span>
  autoLoadIntervalSeconds<span class="operator">?</span><span class="operator">:</span> <span class="builtin">number</span><span class="punctuation">;</span>
<span class="punctuation">}</span></code></pre><div class="table"><table><tr><th></th><th>Type</th><th>Description</th></tr><tr><th><code>mode</code></th><td><code><span class="string">"json"</span></code></td><td><p>The mode to be used for persisting the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> to the database, in this case JSON serialization. See the <a href="/api/persisters/type-aliases/configuration/dpctabular/"><code>DpcTabular</code></a> type for the alternative tabular mapping mode.</p></td></tr><tr><th><code>storeTableName<span class="operator">?</span></code></th><td><code><span class="builtin">string</span></code></td><td><p>An optional string which indicates the name of a table in the database which will be used to serialize the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> content into. It defaults to <code>tinybase</code>.</p></td></tr><tr><th><code>storeIdColumnName<span class="operator">?</span></code></th><td><code><span class="builtin">string</span></code></td><td><p>The optional name of the column in the database table that will be used as the <a href="/api/common/type-aliases/identity/id/"><code>Id</code></a> for the <a href="/api/store/interfaces/store/store/"><code>Store</code></a>, defaulting to &#x27;_id&#x27;, since v5.0.</p></td></tr><tr><th><code>storeColumnName<span class="operator">?</span></code></th><td><code><span class="builtin">string</span></code></td><td><p>The optional name of the column in the database table that will be used for the JSON of the <a href="/api/store/interfaces/store/store/"><code>Store</code></a>, defaulting to &#x27;store&#x27;, since v5.0.</p></td></tr><tr><th><code>autoLoadIntervalSeconds<span class="operator">?</span></code></th><td><code><span class="builtin">number</span></code></td><td><p>How often the <a href="/api/persisters/interfaces/persister/persister/"><code>Persister</code></a> should poll the database for any changes made to it by other clients, defaulting to 1 second.</p></td></tr></table></div><p>One setting is the <code>storeTableName</code> property, which indicates the name of a table in the database which will be used to serialize the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> content into. It defaults to <code>tinybase</code>.</p><p>That table in the database will be given two columns: a primary key column called <code>_id</code>, and one called <code>store</code>. (These column names can be changed using the <code>rowIdColumnName</code> and <code>storeColumnName</code> settings). The <a href="/api/persisters/interfaces/persister/persister/"><code>Persister</code></a> will place a single row in this table with <code>_</code> in the <code>_id</code> column, and the JSON serialization in the <code>store</code> column, something like:</p><pre><code>&gt; SELECT * FROM tinybase;
+-----+-----------------------------------------------------+
| _id | store                                               |
+-----+-----------------------------------------------------+
| _   | [{&quot;pets&quot;:{&quot;fido&quot;:{&quot;species&quot;:&quot;dog&quot;}}},{&quot;open&quot;:true}] |
+-----+-----------------------------------------------------+
</code></pre><p>The &#x27;Dpc&#x27; prefix indicates that this type is used within the <a href="/api/persisters/type-aliases/configuration/databasepersisterconfig/"><code>DatabasePersisterConfig</code></a> type.</p><section class="s2"><h2>Example</h2><p>When applied to a database <a href="/api/persisters/interfaces/persister/persister/"><code>Persister</code></a>, this <a href="/api/persisters/type-aliases/configuration/databasepersisterconfig/"><code>DatabasePersisterConfig</code></a> will load and save a JSON serialization from and to a table called <code>tinybase_json</code>.</p><pre><code><span class="keyword">const</span> <span class="literal-property">databasePersisterConfig</span><span class="operator">:</span> DatabasePersisterConfig <span class="operator">=</span> <span class="punctuation">{</span>
  <span class="literal-property">mode</span><span class="operator">:</span> <span class="string">'json'</span><span class="punctuation">,</span>
  <span class="literal-property">storeTableName</span><span class="operator">:</span> <span class="string">'tinybase_json'</span><span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">;</span>
</code></pre></section><section class="s2"><h2>Since</h2><p>v4.0.0</p></section></section>