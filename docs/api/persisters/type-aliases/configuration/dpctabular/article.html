<nav><ul><li><a href="/">TinyBase</a></li><li><a href="/api/">API</a></li><li><a href="/api/persisters/"><code>persisters</code></a></li><li><a href="/api/persisters/type-aliases/">Type Aliases</a></li><li><a href="/api/persisters/type-aliases/configuration/">Configuration type aliases</a></li><li><a href="/api/persisters/type-aliases/configuration/dpctabular/"><code>DpcTabular</code></a></li></ul></nav><section class="s1" id="/api/persisters/type-aliases/configuration/dpctabular/" data-id="DT2"><h1><code>DpcTabular</code></h1><p>The <code>DpcTabular</code> type describes the configuration of a database-oriented <a href="/api/persisters/interfaces/persister/persister/"><code>Persister</code></a> that is operating in tabular mapping mode.</p><pre><code><span class="punctuation">{</span>
  mode<span class="operator">:</span> <span class="string">"tabular"</span><span class="punctuation">;</span>
  tables<span class="operator">?</span><span class="operator">:</span> <span class="punctuation">{</span>
    load<span class="operator">?</span><span class="operator">:</span> <span class="type"><a href="/api/persisters/type-aliases/configuration/dpctabularload/">DpcTabularLoad</a></span><span class="punctuation">;</span>
    save<span class="operator">?</span><span class="operator">:</span> <span class="type"><a href="/api/persisters/type-aliases/configuration/dpctabularsave/">DpcTabularSave</a></span><span class="punctuation">;</span>
  <span class="punctuation">}</span><span class="punctuation">;</span>
  values<span class="operator">?</span><span class="operator">:</span> <span class="type"><a href="/api/persisters/type-aliases/configuration/dpctabularvalues/">DpcTabularValues</a></span><span class="punctuation">;</span>
  autoLoadIntervalSeconds<span class="operator">?</span><span class="operator">:</span> <span class="builtin">number</span><span class="punctuation">;</span>
<span class="punctuation">}</span></code></pre><div class="table"><table><tr><th></th><th>Type</th><th>Description</th></tr><tr><th><code>mode</code></th><td><code><span class="string">"tabular"</span></code></td><td><p>The mode to be used for persisting the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> to the database, in this case tabular mapping. See the <a href="/api/persisters/type-aliases/configuration/dpcjson/"><code>DpcJson</code></a> type for the alternative JSON serialization mode.</p><section class="s2"><h2>Since</h2><p>v4.0.0</p></section></td></tr><tr><th><code>tables<span class="operator">?</span></code></th><td><code><span class="punctuation">{</span> load<span class="operator">?</span><span class="operator">:</span> <span class="type"><a href="/api/persisters/type-aliases/configuration/dpctabularload/">DpcTabularLoad</a></span><span class="punctuation">;</span> save<span class="operator">?</span><span class="operator">:</span> <span class="type"><a href="/api/persisters/type-aliases/configuration/dpctabularsave/">DpcTabularSave</a></span><span class="punctuation">;</span> <span class="punctuation">}</span></code></td><td><p>The settings for how the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> <a href="/api/store/type-aliases/store/tables/"><code>Tables</code></a> are mapped to and from the database.</p><section class="s2"><h2>Since</h2><p>v4.0.0</p></section></td></tr><tr><th><code>values<span class="operator">?</span></code></th><td><code><span class="type"><a href="/api/persisters/type-aliases/configuration/dpctabularvalues/">DpcTabularValues</a></span></code></td><td><p>The settings for how the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> <a href="/api/store/type-aliases/store/values/"><code>Values</code></a> are mapped to and from the database.</p><section class="s2"><h2>Since</h2><p>v4.0.0</p></section></td></tr><tr><th><code>autoLoadIntervalSeconds<span class="operator">?</span></code></th><td><code><span class="builtin">number</span></code></td><td><p>How often the <a href="/api/persisters/interfaces/persister/persister/"><code>Persister</code></a> should poll the database for any changes made to it by other clients, defaulting to 1 second.</p><section class="s2"><h2>Since</h2><p>v4.0.0</p></section></td></tr></table></div><p>This configuration can only be used when the <a href="/api/persisters/interfaces/persister/persister/"><code>Persister</code></a> is persisting a regular <a href="/api/store/interfaces/store/store/"><code>Store</code></a>. For those database-oriented <a href="/api/persisters/interfaces/persister/persister/"><code>Persister</code></a> types that support <a href="/api/mergeable-store/interfaces/mergeable/mergeablestore/"><code>MergeableStore</code></a> data, you will need to use JSON-serialization, es described in the <a href="/api/persisters/type-aliases/configuration/dpcjson/"><code>DpcJson</code></a> section.</p><p>It is important to note that both the tabular mapping in (&#x27;save&#x27;) and out (&#x27;load&#x27;) of an underlying database are disabled by default. This is to ensure that if you pass in an existing populated database you don&#x27;t run the immediate risk of corrupting or losing all your data.</p><p>This configuration therefore takes a <code>tables</code> property object (with child <code>load</code> and <code>save</code> property objects) and a <code>values</code> property object. These indicate how you want to load and save <a href="/api/store/type-aliases/store/tables/"><code>Tables</code></a> and <a href="/api/store/type-aliases/store/values/"><code>Values</code></a> respectively. At least one of these two properties are required for the <a href="/api/persisters/interfaces/persister/persister/"><code>Persister</code></a> to do anything!</p><p>Note that if you are planning to both load from and save to a database, it is important to make sure that the load and save table mappings are symmetrical. For example, consider the following.</p><pre><code><span class="keyword">import</span> type <span class="punctuation">{</span>DatabasePersisterConfig<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase'</span><span class="punctuation">;</span>

<span class="keyword">export</span> <span class="keyword">const</span> <span class="literal-property">databasePersisterConfig</span><span class="operator">:</span> DatabasePersisterConfig <span class="operator">=</span> <span class="punctuation">{</span>
  <span class="literal-property">mode</span><span class="operator">:</span> <span class="string">'tabular'</span><span class="punctuation">,</span>
  <span class="literal-property">tables</span><span class="operator">:</span> <span class="punctuation">{</span>
    <span class="literal-property">load</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">petsInDb</span><span class="operator">:</span> <span class="string">'pets'</span><span class="punctuation">,</span> <span class="literal-property">speciesInDb</span><span class="operator">:</span> <span class="string">'species'</span><span class="punctuation">}</span><span class="punctuation">,</span>
    <span class="literal-property">save</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">pets</span><span class="operator">:</span> <span class="string">'petsInDb'</span><span class="punctuation">,</span> <span class="literal-property">species</span><span class="operator">:</span> <span class="string">'speciesInDb'</span><span class="punctuation">}</span><span class="punctuation">,</span>
  <span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">;</span>
</code></pre><p>See the documentation for the <a href="/api/persisters/type-aliases/configuration/dpctabularload/"><code>DpcTabularLoad</code></a>, <a href="/api/persisters/type-aliases/configuration/dpctabularsave/"><code>DpcTabularSave</code></a>, and <a href="/api/persisters/type-aliases/configuration/dpctabularvalues/"><code>DpcTabularValues</code></a> types for more details on how to configure the tabular mapping mode.</p><p>The &#x27;Dpc&#x27; prefix indicates that this type is used within the <a href="/api/persisters/type-aliases/configuration/databasepersisterconfig/"><code>DatabasePersisterConfig</code></a> type.</p><section class="s2"><h2>Example</h2><p>When applied to a database <a href="/api/persisters/interfaces/persister/persister/"><code>Persister</code></a>, this <a href="/api/persisters/type-aliases/configuration/databasepersisterconfig/"><code>DatabasePersisterConfig</code></a> will load and save <a href="/api/store/type-aliases/store/tables/"><code>Tables</code></a> data from and to tables specified in the <code>load</code> and <code>save</code> mappings, and <a href="/api/store/type-aliases/store/values/"><code>Values</code></a> data from and to a table called <code>my_tinybase_values</code>.</p><pre><code><span class="keyword">import</span> type <span class="punctuation">{</span>DatabasePersisterConfig<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase'</span><span class="punctuation">;</span>

<span class="keyword">export</span> <span class="keyword">const</span> <span class="literal-property">databasePersisterConfig</span><span class="operator">:</span> DatabasePersisterConfig <span class="operator">=</span> <span class="punctuation">{</span>
  <span class="literal-property">mode</span><span class="operator">:</span> <span class="string">'tabular'</span><span class="punctuation">,</span>
  <span class="literal-property">tables</span><span class="operator">:</span> <span class="punctuation">{</span>
    <span class="literal-property">load</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">petsInDb</span><span class="operator">:</span> <span class="string">'pets'</span><span class="punctuation">,</span> <span class="literal-property">speciesInDb</span><span class="operator">:</span> <span class="string">'species'</span><span class="punctuation">}</span><span class="punctuation">,</span>
    <span class="literal-property">save</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">pets</span><span class="operator">:</span> <span class="string">'petsInDb'</span><span class="punctuation">,</span> <span class="literal-property">species</span><span class="operator">:</span> <span class="string">'speciesInDb'</span><span class="punctuation">}</span><span class="punctuation">,</span>
  <span class="punctuation">}</span><span class="punctuation">,</span>
  <span class="literal-property">values</span><span class="operator">:</span> <span class="punctuation">{</span>
    <span class="literal-property">load</span><span class="operator">:</span> <span class="boolean">true</span><span class="punctuation">,</span>
    <span class="literal-property">save</span><span class="operator">:</span> <span class="boolean">true</span><span class="punctuation">,</span>
    <span class="literal-property">tableName</span><span class="operator">:</span> <span class="string">'my_tinybase_values'</span><span class="punctuation">,</span>
  <span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">;</span>
</code></pre></section><section class="s2"><h2>Since</h2><p>v4.0.0</p></section></section>