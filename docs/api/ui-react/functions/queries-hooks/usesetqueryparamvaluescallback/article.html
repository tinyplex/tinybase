<nav><ul><li><a href="/">TinyBase</a></li><li><a href="/api/">API</a></li><li><a href="/api/ui-react/"><code>ui-react</code></a></li><li><a href="/api/ui-react/functions/">Functions</a></li><li><a href="/api/ui-react/functions/queries-hooks/">Queries hooks</a></li><li><a href="/api/ui-react/functions/queries-hooks/usesetqueryparamvaluescallback/"><code>useSetQueryParamValuesCallback</code></a></li></ul></nav><section class="s1" id="/api/ui-react/functions/queries-hooks/usesetqueryparamvaluescallback/" data-id="uSQPVC"><h1><code>useSetQueryParamValuesCallback</code></h1><p>The <code>useSetQueryParamValuesCallback</code> hook returns a parameterized callback that can be used to set multiple parameter values for a query at once.</p><pre><code><span class="generic-function"><span class="function"><a href="/api/ui-react/functions/queries-hooks/usesetqueryparamvaluescallback/">useSetQueryParamValuesCallback</a></span><span class="generic"><span class="operator">&lt;</span>Parameter<span class="operator">></span></span></span><span class="punctuation">(</span>
  queryId<span class="operator">:</span> <span class="builtin">string</span> <span class="operator">|</span> <span class="type"><a href="/api/ui-react/type-aliases/identity/getid/">GetId</a></span><span class="operator">&lt;</span>Parameter<span class="operator">></span><span class="punctuation">,</span>
  <span class="function-variable">getParamValues</span><span class="operator">:</span> <span class="punctuation">(</span>parameter<span class="operator">:</span> Parameter<span class="punctuation">,</span> queries<span class="operator">:</span> <span class="type"><a href="/api/queries/interfaces/queries/queries/">Queries</a></span><span class="punctuation">)</span> <span class="operator">=></span> <span class="type"><a href="/api/queries/type-aliases/params/paramvalues/">ParamValues</a></span><span class="punctuation">,</span>
  getParamValuesDeps<span class="operator">?</span><span class="operator">:</span> DependencyList<span class="punctuation">,</span>
  queriesOrQueriesId<span class="operator">?</span><span class="operator">:</span> <span class="type"><a href="/api/ui-react/type-aliases/identity/queriesorqueriesid/">QueriesOrQueriesId</a></span><span class="punctuation">,</span>
  then<span class="operator">?</span><span class="operator">:</span> <span class="punctuation">(</span>queries<span class="operator">:</span> <span class="type"><a href="/api/queries/interfaces/queries/queries/">Queries</a></span><span class="punctuation">,</span> paramValues<span class="operator">:</span> <span class="type"><a href="/api/queries/type-aliases/params/paramvalues/">ParamValues</a></span><span class="punctuation">)</span> <span class="operator">=></span> <span class="keyword">void</span><span class="punctuation">,</span>
  thenDeps<span class="operator">?</span><span class="operator">:</span> DependencyList<span class="punctuation">,</span>
<span class="punctuation">)</span><span class="operator">:</span> <span class="type"><a href="/api/common/type-aliases/callback/parameterizedcallback/">ParameterizedCallback</a></span><span class="operator">&lt;</span>Parameter<span class="operator">></span></code></pre><div class="table"><table><tr><th></th><th>Type</th><th>Description</th></tr><tr><th><code>queryId</code></th><td><code><span class="builtin">string</span> <span class="operator">|</span> <span class="type"><a href="/api/ui-react/type-aliases/identity/getid/">GetId</a></span><span class="operator">&lt;</span>Parameter<span class="operator">></span></code></td><td><p>The <a href="/api/common/type-aliases/identity/id/"><code>Id</code></a> of the query to update, or a <a href="/api/ui-react/type-aliases/identity/getid/"><code>GetId</code></a> function that will return it.</p></td></tr><tr><th><code>getParamValues</code></th><td><code><span class="punctuation">(</span>parameter<span class="operator">:</span> Parameter<span class="punctuation">,</span> queries<span class="operator">:</span> <span class="type"><a href="/api/queries/interfaces/queries/queries/">Queries</a></span><span class="punctuation">)</span> <span class="operator">=></span> <span class="type"><a href="/api/queries/type-aliases/params/paramvalues/">ParamValues</a></span></code></td><td><p>A function which returns the parameter values object that will be used to update the query, based on the parameter the callback will receive (and which is most likely a DOM event).</p></td></tr><tr><th><code>getParamValuesDeps<span class="operator">?</span></code></th><td><code>DependencyList</code></td><td><p>An optional array of dependencies for the <code>getParamValues</code> function, which, if any change, result in the regeneration of the callback. This parameter defaults to an empty array. Also use this to indicate the dependencies of any <a href="/api/ui-react/type-aliases/identity/getid/"><code>GetId</code></a> functions if used as the queryId argument.</p></td></tr><tr><th><code>queriesOrQueriesId<span class="operator">?</span></code></th><td><code><span class="type"><a href="/api/ui-react/type-aliases/identity/queriesorqueriesid/">QueriesOrQueriesId</a></span></code></td><td><p>The <a href="/api/queries/interfaces/queries/queries/"><code>Queries</code></a> object to be updated: omit for the default context <a href="/api/queries/interfaces/queries/queries/"><code>Queries</code></a> object, provide an <a href="/api/common/type-aliases/identity/id/"><code>Id</code></a> for a named context <a href="/api/queries/interfaces/queries/queries/"><code>Queries</code></a> object, or provide an explicit reference.</p></td></tr><tr><th><code>then<span class="operator">?</span></code></th><td><code><span class="punctuation">(</span>queries<span class="operator">:</span> <span class="type"><a href="/api/queries/interfaces/queries/queries/">Queries</a></span><span class="punctuation">,</span> paramValues<span class="operator">:</span> <span class="type"><a href="/api/queries/type-aliases/params/paramvalues/">ParamValues</a></span><span class="punctuation">)</span> <span class="operator">=></span> <span class="keyword">void</span></code></td><td><p>A function which is called after the mutation, with a reference to the <a href="/api/queries/interfaces/queries/queries/"><code>Queries</code></a> object and the parameter values used in the update.</p></td></tr><tr><th><code>thenDeps<span class="operator">?</span></code></th><td><code>DependencyList</code></td><td><p>An optional array of dependencies for the <code>then</code> function, which, if any change, result in the regeneration of the callback. This parameter defaults to an empty array.</p></td></tr><tr><th class="right">returns</th><td><code><span class="type"><a href="/api/common/type-aliases/callback/parameterizedcallback/">ParameterizedCallback</a></span><span class="operator">&lt;</span>Parameter<span class="operator">></span></code></td><td><p></p><p>A parameterized callback for subsequent use.</p><p></p></td></tr></table></div><p>This hook is useful, for example, when creating an event handler that will update multiple query parameters based on user interaction. In this case, the parameter will likely be the event, so that you can use data from it to update the query parameters.</p><p>The second parameter is a function which will produce the parameter values object that will then be used to update the query in the callback.</p><p>If that function has any other dependencies, the changing of which should also cause the callback to be recreated, you can provide them in an array in the optional third parameter, just as you would for any React hook with dependencies.</p><p>For convenience, you can optionally provide a <code>then</code> function (with its own set of dependencies) which will be called just after the query parameters have been updated.</p><p>The <a href="/api/queries/interfaces/queries/queries/"><code>Queries</code></a> object to which the callback will make the mutation (indicated by the hook&#x27;s <code>queriesOrQueriesId</code> parameter) is always automatically used as a hook dependency for the callback.</p><section class="s2"><h2>Example</h2><p>This example uses the <code>useSetQueryParamValuesCallback</code> hook to create an event handler which updates multiple query parameters when a form is submitted.</p><pre><code><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span><span class="punctuation">;</span>
<span class="keyword">import</span> <span class="punctuation">{</span>createRoot<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'react-dom/client'</span><span class="punctuation">;</span>
<span class="keyword">import</span> <span class="punctuation">{</span>createQueries<span class="punctuation">,</span> createStore<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase'</span><span class="punctuation">;</span>
<span class="keyword">import</span> <span class="punctuation">{</span>
  useResultTable<span class="punctuation">,</span>
  useSetQueryParamValuesCallback<span class="punctuation">,</span>
<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/ui-react'</span><span class="punctuation">;</span>

<span class="keyword">const</span> store <span class="operator">=</span> <span class="function"><a href="/api/the-essentials/creating-stores/createstore/">createStore</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/settable/">setTable</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="punctuation">{</span>
  <span class="literal-property">fido</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'dog'</span><span class="punctuation">,</span> <span class="literal-property">color</span><span class="operator">:</span> <span class="string">'brown'</span><span class="punctuation">}</span><span class="punctuation">,</span>
  <span class="literal-property">felix</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'cat'</span><span class="punctuation">,</span> <span class="literal-property">color</span><span class="operator">:</span> <span class="string">'black'</span><span class="punctuation">}</span><span class="punctuation">,</span>
  <span class="literal-property">cujo</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'dog'</span><span class="punctuation">,</span> <span class="literal-property">color</span><span class="operator">:</span> <span class="string">'black'</span><span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> queries <span class="operator">=</span> <span class="function"><a href="/api/queries/functions/creation/createqueries/">createQueries</a></span><span class="punctuation">(</span>store<span class="punctuation">)</span><span class="punctuation">;</span>
queries<span class="punctuation">.</span><span class="function"><a href="/api/queries/interfaces/queries/queries/methods/configuration/setquerydefinition/">setQueryDefinition</a></span><span class="punctuation">(</span>
  <span class="string">'speciesAndColor'</span><span class="punctuation">,</span>
  <span class="string">'pets'</span><span class="punctuation">,</span>
  <span class="punctuation">(</span><span class="parameter"><span class="punctuation">{</span>select<span class="punctuation">,</span> where<span class="punctuation">,</span> param<span class="punctuation">}</span></span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">{</span>
    <span class="function">select</span><span class="punctuation">(</span><span class="string">'species'</span><span class="punctuation">)</span><span class="punctuation">;</span>
    <span class="function">select</span><span class="punctuation">(</span><span class="string">'color'</span><span class="punctuation">)</span><span class="punctuation">;</span>
    <span class="function">where</span><span class="punctuation">(</span><span class="string">'species'</span><span class="punctuation">,</span> <span class="function">param</span><span class="punctuation">(</span><span class="string">'species'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
    <span class="function">where</span><span class="punctuation">(</span><span class="string">'color'</span><span class="punctuation">,</span> <span class="function">param</span><span class="punctuation">(</span><span class="string">'color'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
  <span class="punctuation">}</span><span class="punctuation">,</span>
  <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'dog'</span><span class="punctuation">,</span> <span class="literal-property">color</span><span class="operator">:</span> <span class="string">'brown'</span><span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="punctuation">;</span>

<span class="keyword">const</span> <span class="function-variable">App</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">{</span>
  <span class="keyword">const</span> handleSubmit <span class="operator">=</span> <span class="function"><a href="/api/ui-react/functions/queries-hooks/usesetqueryparamvaluescallback/">useSetQueryParamValuesCallback</a></span><span class="punctuation">(</span>
    <span class="string">'speciesAndColor'</span><span class="punctuation">,</span>
    <span class="punctuation">(</span><span class="parameter">e</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">{</span>
      e<span class="punctuation">.</span><span class="function">preventDefault</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
      <span class="keyword">return</span> <span class="punctuation">{</span>
        <span class="literal-property">species</span><span class="operator">:</span> e<span class="punctuation">.</span>target<span class="punctuation">.</span><span class="function">querySelector</span><span class="punctuation">(</span><span class="string">'#species'</span><span class="punctuation">)</span><span class="punctuation">.</span>value<span class="punctuation">,</span>
        <span class="literal-property">color</span><span class="operator">:</span> e<span class="punctuation">.</span>target<span class="punctuation">.</span><span class="function">querySelector</span><span class="punctuation">(</span><span class="string">'#color'</span><span class="punctuation">)</span><span class="punctuation">.</span>value<span class="punctuation">,</span>
      <span class="punctuation">}</span><span class="punctuation">;</span>
    <span class="punctuation">}</span><span class="punctuation">,</span>
    <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span>
    queries<span class="punctuation">,</span>
    <span class="punctuation">(</span><span class="parameter">_<span class="punctuation">,</span> paramValues</span><span class="punctuation">)</span> <span class="operator">=></span>
      console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span><span class="template-string"><span class="template-punctuation">`</span><span class="string">Updated: </span><span class="interpolation"><span class="interpolation-punctuation">${</span><span class="constant">JSON</span><span class="punctuation">.</span><span class="function">stringify</span><span class="punctuation">(</span>paramValues<span class="punctuation">)</span><span class="interpolation-punctuation">}</span></span><span class="template-punctuation">`</span></span><span class="punctuation">)</span><span class="punctuation">,</span>
  <span class="punctuation">)</span><span class="punctuation">;</span>
  <span class="keyword">return</span> <span class="punctuation">(</span>
    <span class="tag"><span class="tag"><span class="punctuation">&lt;</span>div</span><span class="punctuation">></span></span><span class="plain-text">
      </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span>form</span> <span class="attr-name">onSubmit</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>handleSubmit<span class="punctuation">}</span></span><span class="punctuation">></span></span><span class="plain-text">
        </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span>input</span> <span class="attr-name">id</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>species<span class="punctuation">"</span></span> <span class="punctuation">/></span></span><span class="plain-text">
        </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span>input</span> <span class="attr-name">id</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>color<span class="punctuation">"</span></span> <span class="punctuation">/></span></span><span class="plain-text">
        </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span>button</span> <span class="attr-name">type</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>submit<span class="punctuation">"</span></span><span class="punctuation">></span></span><span class="plain-text">Filter</span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span>button</span><span class="punctuation">></span></span><span class="plain-text">
      </span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span>form</span><span class="punctuation">></span></span><span class="plain-text">
      </span><span class="punctuation">{</span><span class="constant">JSON</span><span class="punctuation">.</span><span class="function">stringify</span><span class="punctuation">(</span><span class="function"><a href="/api/ui-react/functions/queries-hooks/useresulttable/">useResultTable</a></span><span class="punctuation">(</span><span class="string">'speciesAndColor'</span><span class="punctuation">,</span> queries<span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">}</span><span class="plain-text">
    </span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span>div</span><span class="punctuation">></span></span>
  <span class="punctuation">)</span><span class="punctuation">;</span>
<span class="punctuation">}</span><span class="punctuation">;</span>

<span class="keyword">const</span> app <span class="operator">=</span> document<span class="punctuation">.</span><span class="function">createElement</span><span class="punctuation">(</span><span class="string">'div'</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="function">createRoot</span><span class="punctuation">(</span>app<span class="punctuation">)</span><span class="punctuation">.</span><span class="function">render</span><span class="punctuation">(</span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name">App</span></span> <span class="punctuation">/></span></span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> form <span class="operator">=</span> app<span class="punctuation">.</span><span class="function">querySelector</span><span class="punctuation">(</span><span class="string">'form'</span><span class="punctuation">)</span><span class="punctuation">;</span>
console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>app<span class="punctuation">.</span>innerHTML<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -></span>
<span class="template-string"><span class="template-punctuation">`</span><span class="string">
&lt;div>
  &lt;form>
    &lt;input id="species">
    &lt;input id="color">
    &lt;button type="submit">Filter&lt;/button>
  &lt;/form>
  {"fido":{"species":"dog","color":"brown"}}
&lt;/div>
</span><span class="template-punctuation">`</span></span><span class="punctuation">;</span>

<span class="comment">// User fills form with new values:</span>
<span class="keyword">const</span> species <span class="operator">=</span> form<span class="punctuation">.</span><span class="function">querySelector</span><span class="punctuation">(</span><span class="string">'#species'</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> color <span class="operator">=</span> form<span class="punctuation">.</span><span class="function">querySelector</span><span class="punctuation">(</span><span class="string">'#color'</span><span class="punctuation">)</span><span class="punctuation">;</span>

species<span class="punctuation">.</span>value <span class="operator">=</span> <span class="string">'cat'</span><span class="punctuation">;</span>
color<span class="punctuation">.</span>value <span class="operator">=</span> <span class="string">'black'</span><span class="punctuation">;</span>

<span class="comment">// And submits the form:</span>
<span class="comment">// -> form SubmitEvent('submit', {bubbles: true})</span>
<span class="comment">// -> 'Updated: {"species":"cat","color":"black"}'</span>

console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>app<span class="punctuation">.</span>innerHTML<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -></span>
<span class="template-string"><span class="template-punctuation">`</span><span class="string">
&lt;div>
  &lt;form>
    &lt;input id="species">
    &lt;input id="color">
    &lt;button type="submit">Filter&lt;/button>
  &lt;/form>
  {"felix":{"species":"cat","color":"black"}}
&lt;/div>
</span><span class="template-punctuation">`</span></span><span class="punctuation">;</span>
</code></pre></section><section class="s2"><h2>Since</h2><p>v7.2.0</p></section></section>