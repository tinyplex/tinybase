<nav><ul><li><a href="/">TinyBase</a></li><li><a href="/api/">API</a></li><li><a href="/api/ui-react/"><code>ui-react</code></a></li><li><a href="/api/ui-react/functions/">Functions</a></li><li><a href="/api/ui-react/functions/store-hooks/">Store hooks</a></li><li><a href="/api/ui-react/functions/store-hooks/useprovidestore/"><code>useProvideStore</code></a></li></ul></nav><section class="s1" id="/api/ui-react/functions/store-hooks/useprovidestore/" data-id="uPS"><h1><code>useProvideStore</code></h1><p>The <code>useProvideStore</code> hook is used to add a <a href="/api/store/interfaces/store/store/"><code>Store</code></a> object by <a href="/api/common/type-aliases/identity/id/"><code>Id</code></a> to a <a href="/api/ui-react/functions/context-components/provider/"><code>Provider</code></a> component, but imperatively from a component within it.</p><pre><code><span class="function"><a href="/api/ui-react/functions/store-hooks/useprovidestore/">useProvideStore</a></span><span class="punctuation">(</span>
  storeId<span class="operator">:</span> <span class="builtin">string</span><span class="punctuation">,</span>
  store<span class="operator">:</span> <span class="type"><a href="/api/store/interfaces/store/store/">Store</a></span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="operator">:</span> <span class="keyword">void</span></code></pre><div class="table"><table><tr><th></th><th>Type</th><th>Description</th></tr><tr><th><code>storeId</code></th><td><code><span class="builtin">string</span></code></td><td><p>The <a href="/api/common/type-aliases/identity/id/"><code>Id</code></a> of the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> object to be registered with the Provider.</p></td></tr><tr><th><code>store</code></th><td><code><span class="type"><a href="/api/store/interfaces/store/store/">Store</a></span></code></td><td><p>The <a href="/api/store/interfaces/store/store/"><code>Store</code></a> object to be registered.</p></td></tr><tr><th class="right">returns</th><td><code><span class="keyword">void</span></code></td><td><p>This has no return value.</p></td></tr></table></div><p>Normally you will register a <a href="/api/store/interfaces/store/store/"><code>Store</code></a> by <a href="/api/common/type-aliases/identity/id/"><code>Id</code></a> in a context by using the <code>storesById</code> prop of the top-level <a href="/api/ui-react/functions/context-components/provider/"><code>Provider</code></a> component. This hook, however, lets you dynamically add a new <a href="/api/store/interfaces/store/store/"><code>Store</code></a> to the context, from within a descendent component. This is useful for applications where the set of Stores is not known at the time of the first render of the root Provider.</p><p>A <a href="/api/store/interfaces/store/store/"><code>Store</code></a> added to the Provider context in this way will be available to other components within the context (using the <a href="/api/ui-react/functions/store-hooks/usestore/"><code>useStore</code></a> hook and so on). If you use the same <a href="/api/common/type-aliases/identity/id/"><code>Id</code></a> as an existing <a href="/api/store/interfaces/store/store/"><code>Store</code></a> registration, the new one will take priority over one provided by the <code>storesById</code> prop.</p><p>Note that other components that consume a <a href="/api/store/interfaces/store/store/"><code>Store</code></a> registered like this should defend against it being undefined at first. On the first render, the other component will likely not yet have completed the registration. In the example below, we use the null-safe <code>useStore(&#x27;petStore&#x27;)?</code> to do this.</p><section class="s2"><h2>Example</h2><p>This example creates a Provider context. A child component registers a <a href="/api/store/interfaces/store/store/"><code>Store</code></a> into it which is then consumable by a peer child component.</p><pre><code><span class="keyword">const</span> <span class="function-variable">App</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">(</span>
  <span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name"><a href="/api/ui-react/functions/context-components/provider/">Provider</a></span></span><span class="punctuation">></span></span><span class="plain-text">
    </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name">RegisterStore</span></span> <span class="punctuation">/></span></span><span class="plain-text">
    </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name">ConsumeStore</span></span> <span class="punctuation">/></span></span><span class="plain-text">
  </span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span><span class="class-name"><a href="/api/ui-react/functions/context-components/provider/">Provider</a></span></span><span class="punctuation">></span></span>
<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> <span class="function-variable">RegisterStore</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">{</span>
  <span class="keyword">const</span> store <span class="operator">=</span> <span class="function"><a href="/api/ui-react/functions/store-hooks/usecreatestore/">useCreateStore</a></span><span class="punctuation">(</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span>
    <span class="function"><a href="/api/store/functions/creation/createstore/">createStore</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setcell/">setCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">,</span> <span class="string">'color'</span><span class="punctuation">,</span> <span class="string">'brown'</span><span class="punctuation">)</span><span class="punctuation">,</span>
  <span class="punctuation">)</span><span class="punctuation">;</span>
  <span class="function"><a href="/api/ui-react/functions/store-hooks/useprovidestore/">useProvideStore</a></span><span class="punctuation">(</span><span class="string">'petStore'</span><span class="punctuation">,</span> store<span class="punctuation">)</span><span class="punctuation">;</span>
  <span class="keyword">return</span> <span class="keyword">null</span><span class="punctuation">;</span>
<span class="punctuation">}</span><span class="punctuation">;</span>
<span class="keyword">const</span> <span class="function-variable">ConsumeStore</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">(</span>
  <span class="tag"><span class="tag"><span class="punctuation">&lt;</span>span</span><span class="punctuation">></span></span><span class="punctuation">{</span><span class="constant">JSON</span><span class="punctuation">.</span><span class="function">stringify</span><span class="punctuation">(</span><span class="function"><a href="/api/ui-react/functions/store-hooks/usestore/">useStore</a></span><span class="punctuation">(</span><span class="string">'petStore'</span><span class="punctuation">)</span><span class="operator">?.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/getter/gettableids/">getTableIds</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">}</span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span>span</span><span class="punctuation">></span></span>
<span class="punctuation">)</span><span class="punctuation">;</span>

<span class="keyword">const</span> app <span class="operator">=</span> document<span class="punctuation">.</span><span class="function">createElement</span><span class="punctuation">(</span><span class="string">'div'</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> root <span class="operator">=</span> ReactDOMClient<span class="punctuation">.</span><span class="function">createRoot</span><span class="punctuation">(</span>app<span class="punctuation">)</span><span class="punctuation">;</span>
root<span class="punctuation">.</span><span class="function">render</span><span class="punctuation">(</span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name">App</span></span> <span class="punctuation">/></span></span><span class="punctuation">)</span><span class="punctuation">;</span>
console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>app<span class="punctuation">.</span>innerHTML<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> '&lt;span>["pets"]&lt;/span>'</span>
</code></pre></section><section class="s2"><h2>Since</h2><p>v4.4.2</p></section></section>