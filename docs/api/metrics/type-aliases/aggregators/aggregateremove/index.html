<html><head><link rel="preload" as="font" href="/fonts/lato-light.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/lato-regular.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/roboto-thin.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/roboto-light.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/roboto-mono-light.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/roboto-mono-regular.woff2" type="font/woff2" crossorigin="anonymous"><title>AggregateRemove | TinyBase</title><meta property="og:type" content="website"><meta property="og:title" content="AggregateRemove | TinyBase"><meta property="og:description"><meta property="og:url" content="https://beta.tinybase.org/api/metrics/type-aliases/aggregators/aggregateremove"><meta property="og:image" content="https://beta.tinybase.org/favicon_pad.png"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="AggregateRemove | TinyBase"><meta name="twitter:description"><meta name="twitter:site" content="@tinybasejs"><meta name="twitter:image" content="https://beta.tinybase.org/favicon_pad.png"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="stylesheet" href="/css/index.css"><script src="/js/app.js"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ"></script><script>window.dataLayer=window.dataLayer||[];function g(){dataLayer.push(arguments);}g('js',new Date());g('config','G-D1MGR8VRWJ');</script></head><body><header><a href="/"><img src="/favicon.svg"><span>TinyBase <em title="2.0.0-beta.3">beta</em></span></a><nav><ul><li><a href="/guides">Guides</a></li><li><a href="/demos">Demos</a></li><li><a href="/api">API</a></li><li><a href="https://github.com/tinyplex/tinybase">GitHub</a></li></ul></nav><span id="dark"></span></header><main><nav><ul><li id="root" class="parent open"><span></span><a href="/">TinyBase</a><ul><li id="G" class="parent"><span></span><a href="/guides">Guides</a></li><li id="D2" class="parent"><span></span><a href="/demos">Demos</a></li><li id="api" class="parent open"><span></span><a href="/api">API</a><ul><li id="s" class="parent"><span></span><a href="/api/store"><code>store</code></a></li><li id="m" class="parent open"><span></span><a href="/api/metrics"><code>metrics</code></a><ul><li id="m/I3" class="parent"><span></span><a href="/api/metrics/interfaces">Interfaces</a></li><li id="m/F2" class="parent"><span></span><a href="/api/metrics/functions">Functions</a></li><li id="m/TA8" class="parent open"><span></span><a href="/api/metrics/type-aliases">Type Aliases</a><ul><li id="m/TA8/L5" class="parent"><span></span><a href="/api/metrics/type-aliases/listener">Listener type aliases</a></li><li id="m/TA8/A2" class="parent open"><span></span><a href="/api/metrics/type-aliases/aggregators">Aggregators type aliases</a><ul><li id="A3"><span></span><a href="/api/metrics/type-aliases/aggregators/aggregate"><code>Aggregate</code></a></li><li id="AA"><span></span><a href="/api/metrics/type-aliases/aggregators/aggregateadd"><code>AggregateAdd</code></a></li><li id="AR" class="current"><span></span><a href="/api/metrics/type-aliases/aggregators/aggregateremove"><code>AggregateRemove</code></a></li><li id="AR2"><span></span><a href="/api/metrics/type-aliases/aggregators/aggregatereplace"><code>AggregateReplace</code></a></li></ul></li><li id="m/TA8/C8" class="parent"><span></span><a href="/api/metrics/type-aliases/callback">Callback type aliases</a></li><li id="m/TA8/M5" class="parent"><span></span><a href="/api/metrics/type-aliases/metric">Metric type aliases</a></li><li id="m/TA8/D8" class="parent"><span></span><a href="/api/metrics/type-aliases/development">Development type aliases</a></li></ul></li></ul></li><li id="i" class="parent"><span></span><a href="/api/indexes"><code>indexes</code></a></li><li id="r" class="parent"><span></span><a href="/api/relationships"><code>relationships</code></a></li><li id="q" class="parent"><span></span><a href="/api/queries"><code>queries</code></a></li><li id="c" class="parent"><span></span><a href="/api/checkpoints"><code>checkpoints</code></a></li><li id="p" class="parent"><span></span><a href="/api/persisters"><code>persisters</code></a></li><li id="u" class="parent"><span></span><a href="/api/ui-react"><code>ui-react</code></a></li><li id="c3" class="parent"><span></span><a href="/api/common"><code>common</code></a></li></ul></li></ul></li></ul></nav><article><nav><ul><li><a href="/">TinyBase</a></li><li><a href="/api">API</a></li><li><a href="/api/metrics"><code>metrics</code></a></li><li><a href="/api/metrics/type-aliases">Type Aliases</a></li><li><a href="/api/metrics/type-aliases/aggregators">Aggregators type aliases</a></li></ul></nav><section class="s1" id="/api/metrics/type-aliases/aggregators/aggregateremove" data-id="AR"><h1><code>AggregateRemove</code></h1><p>The AggregateRemove type describes a function that can be used to optimize a custom Aggregate by providing a shortcut for when a single value is removed from the input values.</p><pre><code><span class="punctuation">(</span>
  metric<span class="operator">:</span> <span class="type"><a href="/api/metrics/type-aliases/metric/metric">Metric</a></span><span class="punctuation">,</span>
  remove<span class="operator">:</span> <span class="builtin">number</span><span class="punctuation">,</span>
  length<span class="operator">:</span> <span class="builtin">number</span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="operator">:</span> <span class="type"><a href="/api/metrics/type-aliases/metric/metric">Metric</a></span> <span class="operator">|</span> <span class="keyword">undefined</span></code></pre><div class="table"><table><tr><th></th><th>Type</th><th>Description</th></tr><tr><th><code>metric</code></th><td><code><span class="type"><a href="/api/metrics/type-aliases/metric/metric">Metric</a></span></code></td><td><p>The current value of the <a href="/api/metrics/type-aliases/metric/metric"><code>Metric</code></a>.</p></td></tr><tr><th><code>remove</code></th><td><code><span class="builtin">number</span></code></td><td><p>The number being removed from the <a href="/api/metrics/type-aliases/metric/metric"><code>Metric</code></a>&#x27;s aggregation.</p></td></tr><tr><th><code>length</code></th><td><code><span class="builtin">number</span></code></td><td><p>The length of the array of numbers in the <a href="/api/metrics/type-aliases/metric/metric"><code>Metric</code></a>&#x27;s aggregation.</p></td></tr><tr><th class="right">returns</th><td><code><span class="type"><a href="/api/metrics/type-aliases/metric/metric">Metric</a></span> <span class="operator">|</span> <span class="keyword">undefined</span></code></td><td><p>The new value of the Metric.</p></td></tr></table></div><p>Some aggregation functions do not need to recalculate the aggregation of the whole set when one value changes. For example, when removing a number from a series, the new sum of the series is the new value subtracted from the previous sum.</p><p>If it is not possible to shortcut the aggregation based on just one value being removed, return <code>undefined</code> and the <a href="/api/metrics/type-aliases/metric/metric"><code>Metric</code></a> will be completely recalculated. One example might be if you were taking the minimum of the values, and the previous minimum is being removed. The whole of the rest of the list will need to be re-scanned to find a new minimum.</p><p><a href="/api/queries/type-aliases/definition/where"><code>Where</code></a> possible, if you are providing a custom Aggregate, seek an implementation of an AggregateRemove function that can reduce the complexity cost of shrinking the input data set. See the <a href="/api/metrics/interfaces/metrics/metrics/methods/configuration/setmetricdefinition"><code>setMetricDefinition</code></a> method for more examples.</p></section></article><aside></aside></main><footer><nav><a id="tw" href="https://twitter.com/tinybasejs" target="_blank"></a><a id="fb" href="https://facebook.com/tinybasejs" target="_blank"></a></nav><nav><a href="/">TinyBase 2.0.0-beta.3</a> Â© 2021- All Rights Reserved</nav></footer></body></html>