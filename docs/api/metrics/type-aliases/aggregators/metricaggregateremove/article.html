<nav><ul><li><a href="/">TinyBase</a></li><li><a href="/api/">API</a></li><li><a href="/api/metrics/"><code>metrics</code></a></li><li><a href="/api/metrics/type-aliases/">Type Aliases</a></li><li><a href="/api/metrics/type-aliases/aggregators/">Aggregators type aliases</a></li><li><a href="/api/metrics/type-aliases/aggregators/metricaggregateremove/"><code>MetricAggregateRemove</code></a></li></ul></nav><section class="s1" id="/api/metrics/type-aliases/aggregators/metricaggregateremove/" data-id="MAR"><h1><code>MetricAggregateRemove</code></h1><p>The <code>MetricAggregateRemove</code> type describes a function that can be used to optimize a custom <a href="/api/metrics/type-aliases/aggregators/metricaggregate/"><code>MetricAggregate</code></a> by providing a shortcut for when a single value is removed from the input values.</p><pre><code><span class="punctuation">(</span>
  metric<span class="operator">:</span> <span class="type"><a href="/api/metrics/type-aliases/metric/metric/">Metric</a></span><span class="punctuation">,</span>
  remove<span class="operator">:</span> <span class="builtin">number</span><span class="punctuation">,</span>
  length<span class="operator">:</span> <span class="builtin">number</span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="operator">:</span> <span class="type"><a href="/api/metrics/type-aliases/metric/metric/">Metric</a></span> <span class="operator">|</span> <span class="keyword">undefined</span></code></pre><div class="table"><table><tr><th></th><th>Type</th><th>Description</th></tr><tr><th><code>metric</code></th><td><code><span class="type"><a href="/api/metrics/type-aliases/metric/metric/">Metric</a></span></code></td><td><p>The current value of the <a href="/api/metrics/type-aliases/metric/metric/"><code>Metric</code></a>.</p></td></tr><tr><th><code>remove</code></th><td><code><span class="builtin">number</span></code></td><td><p>The number being removed from the <a href="/api/metrics/type-aliases/metric/metric/"><code>Metric</code></a>&#x27;s aggregation.</p></td></tr><tr><th><code>length</code></th><td><code><span class="builtin">number</span></code></td><td><p>The length of the array of numbers in the <a href="/api/metrics/type-aliases/metric/metric/"><code>Metric</code></a>&#x27;s aggregation.</p></td></tr><tr><th class="right">returns</th><td><code><span class="type"><a href="/api/metrics/type-aliases/metric/metric/">Metric</a></span> <span class="operator">|</span> <span class="keyword">undefined</span></code></td><td><p></p></td></tr></table></div><p>Some aggregation functions do not need to recalculate the aggregation of the whole set when one value changes. For example, when removing a number from a series, the new sum of the series is the new value subtracted from the previous sum.</p><p>If it is not possible to shortcut the aggregation based on just one value being removed, return <code>undefined</code> and the <a href="/api/metrics/type-aliases/metric/metric/"><code>Metric</code></a> will be completely recalculated. One example might be if you were taking the minimum of the values, and the previous minimum is being removed. The whole of the rest of the list will need to be re-scanned to find a new minimum.</p><p><a href="/api/queries/type-aliases/definition/where/"><code>Where</code></a> possible, if you are providing a custom <a href="/api/metrics/type-aliases/aggregators/metricaggregate/"><code>MetricAggregate</code></a>, seek an implementation of an <code>MetricAggregateRemove</code> function that can reduce the complexity cost of shrinking the input data set. See the <a href="/api/metrics/interfaces/metrics/metrics/methods/configuration/setmetricdefinition/"><code>setMetricDefinition</code></a> method for more examples.</p></section>