<!DOCTYPE html><html lang="en"><head><link rel="dns-prefetch" href="https://www.googletagmanager.com/"><link href="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ" rel="preload" as="script"><link rel="preload" as="font" href="/fonts/inter.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/inconsolata.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/icons.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/shantell.woff2" type="font/woff2" crossorigin="anonymous"><title>MetricAggregateRemove | TinyBase</title><meta name="description" content="The MetricAggregateRemove type describes a function that can be used to optimize a custom MetricAggregate by providing a shortcut for when a single value is removed from the input values."><meta property="og:type" content="website"><meta property="og:title" content="MetricAggregateRemove | TinyBase"><meta property="og:description" content="The MetricAggregateRemove type describes a function that can be used to optimize a custom MetricAggregate by providing a shortcut for when a single value is removed from the input values."><meta property="og:url" content="https://beta.tinybase.org/api/metrics/type-aliases/aggregators/metricaggregateremove/"><meta property="og:image" content="https://beta.tinybase.org/favicon_pad.png"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="MetricAggregateRemove | TinyBase"><meta name="twitter:description" content="The MetricAggregateRemove type describes a function that can be used to optimize a custom MetricAggregate by providing a shortcut for when a single value is removed from the input values."><meta name="twitter:site" content="@tinybasejs"><meta name="twitter:image" content="https://beta.tinybase.org/favicon_pad.png"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="stylesheet" href="/css/index.css"><link rel="canonical" href="https://beta.tinybase.org/api/metrics/type-aliases/aggregators/metricaggregateremove/"><script src="/js/app.js"></script></head><body><header><a href="/"><img src="/favicon.svg" alt="TinyBase logo"><span>TinyBase <em title="5.0.0-beta.10">β</em></span></a><nav><ul><li><a href="/guides/">Guides</a></li><li><a href="/demos/">Demos</a></li><li><a href="/api/">API</a></li><li><a href="https://github.com/tinyplex/tinybase">GitHub</a></li></ul></nav><span id="dark"></span></header><main><nav><ul><li id="root" class="parent open"><span></span><a href="/">TinyBase</a><ul><li id="G" class="parent"><span></span><a href="/guides/">Guides</a></li><li id="D2" class="parent"><span></span><a href="/demos/">Demos</a></li><li id="api" class="parent open"><span></span><a href="/api/">API</a><ul><li id="s" class="parent"><span></span><a href="/api/store/"><code>store</code></a></li><li id="m" class="parent"><span></span><a href="/api/mergeable-store/"><code>mergeable-store</code></a></li><li id="m3" class="parent open"><span></span><a href="/api/metrics/"><code>metrics</code></a><ul><li id="m3/I5" class="parent"><span></span><a href="/api/metrics/interfaces/">Interfaces</a></li><li id="m3/F3" class="parent"><span></span><a href="/api/metrics/functions/">Functions</a></li><li id="m3/TA10" class="parent open"><span></span><a href="/api/metrics/type-aliases/">Type Aliases</a><ul><li id="m3/TA10/L6" class="parent"><span></span><a href="/api/metrics/type-aliases/listener/">Listener type aliases</a></li><li id="m3/TA10/A2" class="parent open"><span></span><a href="/api/metrics/type-aliases/aggregators/">Aggregators type aliases</a><ul><li id="MA"><span></span><a href="/api/metrics/type-aliases/aggregators/metricaggregate/"><code>MetricAggregate</code></a></li><li id="MAA"><span></span><a href="/api/metrics/type-aliases/aggregators/metricaggregateadd/"><code>MetricAggregateAdd</code></a></li><li id="MAR" class="current"><span></span><a href="/api/metrics/type-aliases/aggregators/metricaggregateremove/"><code>MetricAggregateRemove</code></a></li><li id="MAR2"><span></span><a href="/api/metrics/type-aliases/aggregators/metricaggregatereplace/"><code>MetricAggregateReplace</code></a></li></ul></li><li id="m3/TA10/C11" class="parent"><span></span><a href="/api/metrics/type-aliases/callback/">Callback type aliases</a></li><li id="m3/TA10/M8" class="parent"><span></span><a href="/api/metrics/type-aliases/metric/">Metric type aliases</a></li><li id="m3/TA10/D10" class="parent"><span></span><a href="/api/metrics/type-aliases/development/">Development type aliases</a></li></ul></li></ul></li><li id="i" class="parent"><span></span><a href="/api/indexes/"><code>indexes</code></a></li><li id="r" class="parent"><span></span><a href="/api/relationships/"><code>relationships</code></a></li><li id="q" class="parent"><span></span><a href="/api/queries/"><code>queries</code></a></li><li id="c" class="parent"><span></span><a href="/api/checkpoints/"><code>checkpoints</code></a></li><li id="c3" class="parent"><span></span><a href="/api/common/"><code>common</code></a></li><li id="p" class="parent"><span></span><a href="/api/persisters/"><code>persisters</code></a></li><li id="p2" class="parent"><span></span><a href="/api/persister-automerge/"><code>persister-automerge</code></a></li><li id="p3" class="parent"><span></span><a href="/api/persister-browser/"><code>persister-browser</code></a></li><li id="p4" class="parent"><span></span><a href="/api/persister-cr-sqlite-wasm/"><code>persister-cr-sqlite-wasm</code></a></li><li id="p5" class="parent"><span></span><a href="/api/persister-electric-sql/"><code>persister-electric-sql</code></a></li><li id="p6" class="parent"><span></span><a href="/api/persister-expo-sqlite/"><code>persister-expo-sqlite</code></a></li><li id="p7" class="parent"><span></span><a href="/api/persister-expo-sqlite-next/"><code>persister-expo-sqlite-next</code></a></li><li id="p8" class="parent"><span></span><a href="/api/persister-file/"><code>persister-file</code></a></li><li id="p9" class="parent"><span></span><a href="/api/persister-indexed-db/"><code>persister-indexed-db</code></a></li><li id="p10" class="parent"><span></span><a href="/api/persister-libsql/"><code>persister-libsql</code></a></li><li id="p11" class="parent"><span></span><a href="/api/persister-partykit-client/"><code>persister-partykit-client</code></a></li><li id="p12" class="parent"><span></span><a href="/api/persister-partykit-server/"><code>persister-partykit-server</code></a></li><li id="p13" class="parent"><span></span><a href="/api/persister-powersync/"><code>persister-powersync</code></a></li><li id="p14" class="parent"><span></span><a href="/api/persister-remote/"><code>persister-remote</code></a></li><li id="p15" class="parent"><span></span><a href="/api/persister-sqlite-wasm/"><code>persister-sqlite-wasm</code></a></li><li id="p16" class="parent"><span></span><a href="/api/persister-sqlite3/"><code>persister-sqlite3</code></a></li><li id="p17" class="parent"><span></span><a href="/api/persister-yjs/"><code>persister-yjs</code></a></li><li id="t3" class="parent"><span></span><a href="/api/tools/"><code>tools</code></a></li><li id="u" class="parent"><span></span><a href="/api/ui-react/"><code>ui-react</code></a></li><li id="s36" class="parent"><span></span><a href="/api/synchronizer-local/"><code>synchronizer-local</code></a></li><li id="s39" class="parent"><span></span><a href="/api/synchronizer-ws-client/"><code>synchronizer-ws-client</code></a></li><li id="s42" class="parent"><span></span><a href="/api/synchronizer-ws-server/"><code>synchronizer-ws-server</code></a></li><li id="s43" class="parent"><span></span><a href="/api/synchronizers/"><code>synchronizers</code></a></li><li id="u2" class="parent"><span></span><a href="/api/ui-react-dom/"><code>ui-react-dom</code></a></li></ul></li></ul></li></ul></nav><article><nav><ul><li><a href="/">TinyBase</a></li><li><a href="/api/">API</a></li><li><a href="/api/metrics/"><code>metrics</code></a></li><li><a href="/api/metrics/type-aliases/">Type Aliases</a></li><li><a href="/api/metrics/type-aliases/aggregators/">Aggregators type aliases</a></li><li><a href="/api/metrics/type-aliases/aggregators/metricaggregateremove/"><code>MetricAggregateRemove</code></a></li></ul></nav><section class="s1" id="/api/metrics/type-aliases/aggregators/metricaggregateremove/" data-id="MAR"><h1><code>MetricAggregateRemove</code></h1><p>The <code>MetricAggregateRemove</code> type describes a function that can be used to optimize a custom <a href="/api/metrics/type-aliases/aggregators/metricaggregate/"><code>MetricAggregate</code></a> by providing a shortcut for when a single value is removed from the input values.</p><pre><code><span class="punctuation">(</span>
  metric<span class="operator">:</span> <span class="type"><a href="/api/metrics/type-aliases/metric/metric/">Metric</a></span><span class="punctuation">,</span>
  remove<span class="operator">:</span> <span class="builtin">number</span><span class="punctuation">,</span>
  length<span class="operator">:</span> <span class="builtin">number</span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="operator">:</span> <span class="type"><a href="/api/metrics/type-aliases/metric/metric/">Metric</a></span> <span class="operator">|</span> <span class="keyword">undefined</span></code></pre><div class="table"><table><tr><th></th><th>Type</th><th>Description</th></tr><tr><th><code>metric</code></th><td><code><span class="type"><a href="/api/metrics/type-aliases/metric/metric/">Metric</a></span></code></td><td><p>The current value of the <a href="/api/metrics/type-aliases/metric/metric/"><code>Metric</code></a>.</p></td></tr><tr><th><code>remove</code></th><td><code><span class="builtin">number</span></code></td><td><p>The number being removed from the <a href="/api/metrics/type-aliases/metric/metric/"><code>Metric</code></a>&#x27;s aggregation.</p></td></tr><tr><th><code>length</code></th><td><code><span class="builtin">number</span></code></td><td><p>The length of the array of numbers in the <a href="/api/metrics/type-aliases/metric/metric/"><code>Metric</code></a>&#x27;s aggregation.</p></td></tr><tr><th class="right">returns</th><td><code><span class="type"><a href="/api/metrics/type-aliases/metric/metric/">Metric</a></span> <span class="operator">|</span> <span class="keyword">undefined</span></code></td><td><p></p></td></tr></table></div><p>Some aggregation functions do not need to recalculate the aggregation of the whole set when one value changes. For example, when removing a number from a series, the new sum of the series is the new value subtracted from the previous sum.</p><p>If it is not possible to shortcut the aggregation based on just one value being removed, return <code>undefined</code> and the <a href="/api/metrics/type-aliases/metric/metric/"><code>Metric</code></a> will be completely recalculated. One example might be if you were taking the minimum of the values, and the previous minimum is being removed. The whole of the rest of the list will need to be re-scanned to find a new minimum.</p><p><a href="/api/queries/type-aliases/definition/where/"><code>Where</code></a> possible, if you are providing a custom <a href="/api/metrics/type-aliases/aggregators/metricaggregate/"><code>MetricAggregate</code></a>, seek an implementation of an <code>MetricAggregateRemove</code> function that can reduce the complexity cost of shrinking the input data set. See the <a href="/api/metrics/interfaces/metrics/metrics/methods/configuration/setmetricdefinition/"><code>setMetricDefinition</code></a> method for more examples.</p><p>Some aggregation functions do not need to recalculate the aggregation of the whole set when one value changes. For example, when removing a number from a series, the new sum of the series is the new value subtracted from the previous sum.</p><p>If it is not possible to shortcut the aggregation based on just one value being removed, return <code>undefined</code> and the <a href="/api/metrics/type-aliases/metric/metric/"><code>Metric</code></a> will be completely recalculated. One example might be if you were taking the minimum of the values, and the previous minimum is being removed. The whole of the rest of the list will need to be re-scanned to find a new minimum.</p><p><a href="/api/queries/type-aliases/definition/where/"><code>Where</code></a> possible, if you are providing a custom <a href="/api/metrics/type-aliases/aggregators/metricaggregate/"><code>MetricAggregate</code></a>, seek an implementation of an <code>MetricAggregateRemove</code> function that can reduce the complexity cost of shrinking the input data set. See the <a href="/api/metrics/interfaces/metrics/metrics/methods/configuration/setmetricdefinition/"><code>setMetricDefinition</code></a> method for more examples.</p></section></article><aside></aside></main><footer><nav><a id="tw" href="https://twitter.com/tinybasejs" target="_blank">Twitter</a><a id="fb" href="https://facebook.com/tinybasejs" target="_blank">Facebook</a></nav><nav><a href="/">TinyBase 5.0.0-beta.10</a> © 2021- All Rights Reserved</nav></footer></body><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ"></script><script>window.dataLayer=window.dataLayer||[];function g(){dataLayer.push(arguments);}g('js',new Date());g('config','G-D1MGR8VRWJ');</script></html>