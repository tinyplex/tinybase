<!DOCTYPE html><html lang="en"><head><link rel="dns-prefetch" href="https://www.googletagmanager.com/"><link href="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ" rel="preload" as="script"><link rel="preload" as="font" href="/fonts/inter.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/inconsolata.woff2" type="font/woff2" crossorigin="anonymous"><title>addTablesListener | TinyBase</title><meta name="description" content="The addTablesListener method registers a listener function with the Store that will be called whenever data in the Store changes."><meta property="og:type" content="website"><meta property="og:title" content="addTablesListener | TinyBase"><meta property="og:description" content="The addTablesListener method registers a listener function with the Store that will be called whenever data in the Store changes."><meta property="og:url" content="https://beta.tinybase.org/api/store/interfaces/store/store/methods/listener/addtableslistener/"><meta property="og:image" content="https://beta.tinybase.org/favicon_pad.png"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="addTablesListener | TinyBase"><meta name="twitter:description" content="The addTablesListener method registers a listener function with the Store that will be called whenever data in the Store changes."><meta name="twitter:site" content="@tinybasejs"><meta name="twitter:image" content="https://beta.tinybase.org/favicon_pad.png"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="stylesheet" href="/css/index.css"><link rel="canonical" href="https://beta.tinybase.org/api/store/interfaces/store/store/methods/listener/addtableslistener/"><script src="/js/app.js"></script></head><body><header><a href="/"><img src="/favicon.svg" alt="TinyBase logo"><span>TinyBase <em title="3.1.0-beta.0">β</em></span></a><nav><ul><li><a href="/guides/">Guides</a></li><li><a href="/demos/">Demos</a></li><li><a href="/api/">API</a></li><li><a href="https://github.com/tinyplex/tinybase">GitHub</a></li></ul></nav><span id="dark"></span></header><main><nav><ul><li id="root" class="parent open"><span></span><a href="/">TinyBase</a><ul><li id="G" class="parent"><span></span><a href="/guides/">Guides</a></li><li id="D2" class="parent"><span></span><a href="/demos/">Demos</a></li><li id="api" class="parent open"><span></span><a href="/api/">API</a><ul><li id="s" class="parent open"><span></span><a href="/api/store/"><code>store</code></a><ul><li id="s/I" class="parent open"><span></span><a href="/api/store/interfaces/">Interfaces</a><ul><li id="S2" class="parent open"><span></span><a href="/api/store/interfaces/store/store/"><code>Store</code></a><ul><li id="S2/M/G2" class="parent"><span></span><a href="/api/store/interfaces/store/store/methods/getter/">Getter methods</a></li><li id="S2/M/S3" class="parent"><span></span><a href="/api/store/interfaces/store/store/methods/setter/">Setter methods</a></li><li id="S2/M/L" class="parent open"><span></span><a href="/api/store/interfaces/store/store/methods/listener/">Listener methods</a><ul><li id="aTL" class="current"><span></span><a href="/api/store/interfaces/store/store/methods/listener/addtableslistener/"><code>addTablesListener</code></a></li><li id="aTIL"><span></span><a href="/api/store/interfaces/store/store/methods/listener/addtableidslistener/"><code>addTableIdsListener</code></a></li><li id="aTL2"><span></span><a href="/api/store/interfaces/store/store/methods/listener/addtablelistener/"><code>addTableListener</code></a></li><li id="aRIL"><span></span><a href="/api/store/interfaces/store/store/methods/listener/addrowidslistener/"><code>addRowIdsListener</code></a></li><li id="aSRIL"><span></span><a href="/api/store/interfaces/store/store/methods/listener/addsortedrowidslistener/"><code>addSortedRowIdsListener</code></a></li><li id="aRL"><span></span><a href="/api/store/interfaces/store/store/methods/listener/addrowlistener/"><code>addRowListener</code></a></li><li id="aCIL"><span></span><a href="/api/store/interfaces/store/store/methods/listener/addcellidslistener/"><code>addCellIdsListener</code></a></li><li id="aCL"><span></span><a href="/api/store/interfaces/store/store/methods/listener/addcelllistener/"><code>addCellListener</code></a></li><li id="aICL"><span></span><a href="/api/store/interfaces/store/store/methods/listener/addinvalidcelllistener/"><code>addInvalidCellListener</code></a></li><li id="aDFTL"><span></span><a href="/api/store/interfaces/store/store/methods/listener/adddidfinishtransactionlistener/"><code>addDidFinishTransactionListener</code></a></li><li id="aIVL"><span></span><a href="/api/store/interfaces/store/store/methods/listener/addinvalidvaluelistener/"><code>addInvalidValueListener</code></a></li><li id="aVIL"><span></span><a href="/api/store/interfaces/store/store/methods/listener/addvalueidslistener/"><code>addValueIdsListener</code></a></li><li id="aVL"><span></span><a href="/api/store/interfaces/store/store/methods/listener/addvaluelistener/"><code>addValueListener</code></a></li><li id="aVL2"><span></span><a href="/api/store/interfaces/store/store/methods/listener/addvalueslistener/"><code>addValuesListener</code></a></li><li id="aWFTL"><span></span><a href="/api/store/interfaces/store/store/methods/listener/addwillfinishtransactionlistener/"><code>addWillFinishTransactionListener</code></a></li><li id="cL"><span></span><a href="/api/store/interfaces/store/store/methods/listener/calllistener/"><code>callListener</code></a></li><li id="dL"><span></span><a href="/api/store/interfaces/store/store/methods/listener/dellistener/"><code>delListener</code></a></li></ul></li><li id="S2/M/I2" class="parent"><span></span><a href="/api/store/interfaces/store/store/methods/iterator/">Iterator methods</a></li><li id="S2/M/T3" class="parent"><span></span><a href="/api/store/interfaces/store/store/methods/transaction/">Transaction methods</a></li><li id="S2/M/D4" class="parent"><span></span><a href="/api/store/interfaces/store/store/methods/deleter/">Deleter methods</a></li><li id="S2/M/D5" class="parent"><span></span><a href="/api/store/interfaces/store/store/methods/development/">Development methods</a></li></ul></li></ul></li><li id="s/F" class="parent"><span></span><a href="/api/store/functions/">Functions</a></li><li id="s/TA7" class="parent"><span></span><a href="/api/store/type-aliases/">Type Aliases</a></li></ul></li><li id="m" class="parent"><span></span><a href="/api/metrics/"><code>metrics</code></a></li><li id="i" class="parent"><span></span><a href="/api/indexes/"><code>indexes</code></a></li><li id="r" class="parent"><span></span><a href="/api/relationships/"><code>relationships</code></a></li><li id="q" class="parent"><span></span><a href="/api/queries/"><code>queries</code></a></li><li id="c" class="parent"><span></span><a href="/api/checkpoints/"><code>checkpoints</code></a></li><li id="p" class="parent"><span></span><a href="/api/persisters/"><code>persisters</code></a></li><li id="u" class="parent"><span></span><a href="/api/ui-react/"><code>ui-react</code></a></li><li id="c3" class="parent"><span></span><a href="/api/common/"><code>common</code></a></li><li id="t2" class="parent"><span></span><a href="/api/tools/"><code>tools</code></a></li></ul></li></ul></li></ul></nav><article><nav><ul><li><a href="/">TinyBase</a></li><li><a href="/api/">API</a></li><li><a href="/api/store/"><code>store</code></a></li><li><a href="/api/store/interfaces/">Interfaces</a></li><li><a href="/api/store/interfaces/store/store/"><code>Store</code></a></li><li><a href="/api/store/interfaces/store/store/methods/listener/">Listener methods</a></li><li><a href="/api/store/interfaces/store/store/methods/listener/addtableslistener/"><code>addTablesListener</code></a></li></ul></nav><section class="s1" id="/api/store/interfaces/store/store/methods/listener/addtableslistener/" data-id="aTL"><h1><code>addTablesListener</code></h1><p>The <code>addTablesListener</code> method registers a listener function with the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> that will be called whenever data in the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> changes.</p><pre><code><span class="function"><a href="/api/store/interfaces/store/store/methods/listener/addtableslistener/">addTablesListener</a></span><span class="punctuation">(</span>
  listener<span class="operator">:</span> <span class="type"><a href="/api/store/type-aliases/listener/tableslistener/">TablesListener</a></span><span class="punctuation">,</span>
  mutator<span class="operator">?</span><span class="operator">:</span> <span class="builtin">boolean</span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="operator">:</span> <span class="builtin">string</span></code></pre><div class="table"><table><tr><th></th><th>Type</th><th>Description</th></tr><tr><th><code>listener</code></th><td><code><span class="type"><a href="/api/store/type-aliases/listener/tableslistener/">TablesListener</a></span></code></td><td><p>The function that will be called whenever data in the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> changes.</p></td></tr><tr><th><code>mutator<span class="operator">?</span></code></th><td><code><span class="builtin">boolean</span></code></td><td><p>An optional boolean that indicates that the listener mutates <a href="/api/store/interfaces/store/store/"><code>Store</code></a> data.</p></td></tr><tr><th class="right">returns</th><td><code><span class="builtin">string</span></code></td><td><p>A unique Id for the listener that can later be used to call it explicitly, or to remove it.</p></td></tr></table></div><p>The provided listener is a <a href="/api/store/type-aliases/listener/tableslistener/"><code>TablesListener</code></a> function, and will be called with a reference to the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> and a <a href="/api/store/type-aliases/listener/getcellchange/"><code>GetCellChange</code></a> function in case you need to inspect any changes that occurred.</p><p>Use the optional mutator parameter to indicate that there is code in the listener that will mutate <a href="/api/store/interfaces/store/store/"><code>Store</code></a> data. If set to <code>false</code> (or omitted), such mutations will be silently ignored. All relevant mutator listeners (with this flag set to <code>true</code>) are called <em>before</em> any non-mutator listeners (since the latter may become relevant due to changes made in the former). The changes made by mutator listeners do not fire other mutating listeners, though they will fire non-mutator listeners.</p><section class="s2"><h2>Examples</h2><p>This example registers a listener that responds to any changes to the whole <a href="/api/store/interfaces/store/store/"><code>Store</code></a>.</p><pre><code><span class="keyword">const</span> store <span class="operator">=</span> <span class="function"><a href="/api/store/functions/creation/createstore/">createStore</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/settables/">setTables</a></span><span class="punctuation">(</span><span class="punctuation">{</span>
  <span class="literal-property">pets</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">fido</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'dog'</span><span class="punctuation">,</span> <span class="literal-property">color</span><span class="operator">:</span> <span class="string">'brown'</span><span class="punctuation">}</span><span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> listenerId <span class="operator">=</span> store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/listener/addtableslistener/">addTablesListener</a></span><span class="punctuation">(</span><span class="punctuation">(</span><span class="parameter">store<span class="punctuation">,</span> getCellChange</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">{</span>
  console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span><span class="string">'Tables changed'</span><span class="punctuation">)</span><span class="punctuation">;</span>
  console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span><span class="function">getCellChange</span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">,</span> <span class="string">'color'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>

store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setcell/">setCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">,</span> <span class="string">'color'</span><span class="punctuation">,</span> <span class="string">'walnut'</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> 'Tables changed'</span>
<span class="comment">// -> [true, 'brown', 'walnut']</span>

store<span class="punctuation">.</span><span class="function">delListener</span><span class="punctuation">(</span>listenerId<span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><p>This example registers a listener that responds to any changes to the whole <a href="/api/store/interfaces/store/store/"><code>Store</code></a>, and which also mutates the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> itself.</p><pre><code><span class="keyword">const</span> store <span class="operator">=</span> <span class="function"><a href="/api/store/functions/creation/createstore/">createStore</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/settables/">setTables</a></span><span class="punctuation">(</span><span class="punctuation">{</span>
  <span class="literal-property">pets</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">fido</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'dog'</span><span class="punctuation">,</span> <span class="literal-property">color</span><span class="operator">:</span> <span class="string">'brown'</span><span class="punctuation">}</span><span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> listenerId <span class="operator">=</span> store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/listener/addtableslistener/">addTablesListener</a></span><span class="punctuation">(</span>
  <span class="punctuation">(</span><span class="parameter">store</span><span class="punctuation">)</span> <span class="operator">=></span> store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setcell/">setCell</a></span><span class="punctuation">(</span><span class="string">'meta'</span><span class="punctuation">,</span> <span class="string">'update'</span><span class="punctuation">,</span> <span class="string">'store'</span><span class="punctuation">,</span> <span class="boolean">true</span><span class="punctuation">)</span><span class="punctuation">,</span>
  <span class="boolean">true</span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="punctuation">;</span>

store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/deleter/delcell/">delCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">,</span> <span class="string">'color'</span><span class="punctuation">)</span><span class="punctuation">;</span>
console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/getter/gettable/">getTable</a></span><span class="punctuation">(</span><span class="string">'meta'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> {update: {store: true}}</span>

store<span class="punctuation">.</span><span class="function">delListener</span><span class="punctuation">(</span>listenerId<span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre></section></section></article><aside></aside></main><footer><nav><a id="tw" href="https://twitter.com/tinybasejs" target="_blank">Twitter</a><a id="fb" href="https://facebook.com/tinybasejs" target="_blank">Facebook</a></nav><nav><a href="/">TinyBase 3.1.0-beta.0</a> © 2021- All Rights Reserved</nav></footer></body><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ"></script><script>window.dataLayer=window.dataLayer||[];function g(){dataLayer.push(arguments);}g('js',new Date());g('config','G-D1MGR8VRWJ');</script></html>