<!DOCTYPE html><html lang="en"><head><link rel="dns-prefetch" href="https://www.googletagmanager.com/"><link href="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ" rel="preload" as="script"><link rel="preload" as="font" href="/fonts/inter.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/inconsolata.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/icons.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/shantell.woff2" type="font/woff2" crossorigin="anonymous"><title>load | TinyBase</title><meta name="description" content="The load method gets persisted data from storage, and loads it into the Store with which the Persister is associated, once."><meta property="og:type" content="website"><meta property="og:title" content="load | TinyBase"><meta property="og:description" content="The load method gets persisted data from storage, and loads it into the Store with which the Persister is associated, once."><meta property="og:url" content="https://beta.tinybase.org/api/persister-sqlite3/interfaces/other/sqlite3persister/methods/load/load/"><meta property="og:image" content="https://beta.tinybase.org/favicon_pad.png"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="load | TinyBase"><meta name="twitter:description" content="The load method gets persisted data from storage, and loads it into the Store with which the Persister is associated, once."><meta name="twitter:site" content="@tinybasejs"><meta name="twitter:image" content="https://beta.tinybase.org/favicon_pad.png"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="stylesheet" href="/css/index.css"><link rel="canonical" href="https://beta.tinybase.org/api/persister-sqlite3/interfaces/other/sqlite3persister/methods/load/load/"><script src="/js/app.js"></script></head><body><header><a href="/"><img src="/favicon.svg" alt="TinyBase logo"><span>TinyBase <em title="4.6.0-beta.1">Î²</em></span></a><nav><ul><li><a href="/guides/">Guides</a></li><li><a href="/demos/">Demos</a></li><li><a href="/api/">API</a></li><li><a href="https://github.com/tinyplex/tinybase">GitHub</a></li></ul></nav><span id="dark"></span></header><main><nav><ul><li id="root" class="parent open"><span></span><a href="/">TinyBase</a><ul><li id="G" class="parent"><span></span><a href="/guides/">Guides</a></li><li id="D2" class="parent"><span></span><a href="/demos/">Demos</a></li><li id="api" class="parent open"><span></span><a href="/api/">API</a><ul><li id="s" class="parent"><span></span><a href="/api/store/"><code>store</code></a></li><li id="m" class="parent"><span></span><a href="/api/metrics/"><code>metrics</code></a></li><li id="i" class="parent"><span></span><a href="/api/indexes/"><code>indexes</code></a></li><li id="r" class="parent"><span></span><a href="/api/relationships/"><code>relationships</code></a></li><li id="q" class="parent"><span></span><a href="/api/queries/"><code>queries</code></a></li><li id="c" class="parent"><span></span><a href="/api/checkpoints/"><code>checkpoints</code></a></li><li id="c3" class="parent"><span></span><a href="/api/common/"><code>common</code></a></li><li id="p" class="parent"><span></span><a href="/api/persisters/"><code>persisters</code></a></li><li id="p2" class="parent"><span></span><a href="/api/persister-automerge/"><code>persister-automerge</code></a></li><li id="p3" class="parent"><span></span><a href="/api/persister-browser/"><code>persister-browser</code></a></li><li id="p4" class="parent"><span></span><a href="/api/persister-cr-sqlite-wasm/"><code>persister-cr-sqlite-wasm</code></a></li><li id="p5" class="parent"><span></span><a href="/api/persister-expo-sqlite/"><code>persister-expo-sqlite</code></a></li><li id="p6" class="parent"><span></span><a href="/api/persister-expo-sqlite-next/"><code>persister-expo-sqlite-next</code></a></li><li id="p7" class="parent"><span></span><a href="/api/persister-file/"><code>persister-file</code></a></li><li id="p8" class="parent"><span></span><a href="/api/persister-indexed-db/"><code>persister-indexed-db</code></a></li><li id="p9" class="parent"><span></span><a href="/api/persister-partykit-client/"><code>persister-partykit-client</code></a></li><li id="p10" class="parent"><span></span><a href="/api/persister-partykit-server/"><code>persister-partykit-server</code></a></li><li id="p11" class="parent"><span></span><a href="/api/persister-remote/"><code>persister-remote</code></a></li><li id="p12" class="parent"><span></span><a href="/api/persister-sqlite-wasm/"><code>persister-sqlite-wasm</code></a></li><li id="p13" class="parent open"><span></span><a href="/api/persister-sqlite3/"><code>persister-sqlite3</code></a><ul><li id="p13/I31" class="parent open"><span></span><a href="/api/persister-sqlite3/interfaces/">Interfaces</a><ul><li id="SP2" class="parent open"><span></span><a href="/api/persister-sqlite3/interfaces/other/sqlite3persister/"><code>Sqlite3Persister</code></a><ul><li id="SP2/M25/G22" class="parent"><span></span><a href="/api/persister-sqlite3/interfaces/other/sqlite3persister/methods/getter/">Getter methods</a></li><li id="SP2/M25/L42" class="parent"><span></span><a href="/api/persister-sqlite3/interfaces/other/sqlite3persister/methods/lifecycle/">Lifecycle methods</a></li><li id="SP2/M25/L43" class="parent open"><span></span><a href="/api/persister-sqlite3/interfaces/other/sqlite3persister/methods/load/">Load methods</a><ul><li id="l13" class="current"><span></span><a href="/api/persister-sqlite3/interfaces/other/sqlite3persister/methods/load/load/"><code>load</code></a></li><li id="sAL25"><span></span><a href="/api/persister-sqlite3/interfaces/other/sqlite3persister/methods/load/startautoload/"><code>startAutoLoad</code></a></li><li id="sAL26"><span></span><a href="/api/persister-sqlite3/interfaces/other/sqlite3persister/methods/load/stopautoload/"><code>stopAutoLoad</code></a></li></ul></li><li id="SP2/M25/S23" class="parent"><span></span><a href="/api/persister-sqlite3/interfaces/other/sqlite3persister/methods/save/">Save methods</a></li><li id="SP2/M25/D31" class="parent"><span></span><a href="/api/persister-sqlite3/interfaces/other/sqlite3persister/methods/development/">Development methods</a></li></ul></li></ul></li><li id="p13/F20" class="parent"><span></span><a href="/api/persister-sqlite3/functions/">Functions</a></li></ul></li><li id="p14" class="parent"><span></span><a href="/api/persister-yjs/"><code>persister-yjs</code></a></li><li id="t2" class="parent"><span></span><a href="/api/tools/"><code>tools</code></a></li><li id="u" class="parent"><span></span><a href="/api/ui-react/"><code>ui-react</code></a></li><li id="u2" class="parent"><span></span><a href="/api/ui-react-dom/"><code>ui-react-dom</code></a></li></ul></li></ul></li></ul></nav><article><nav><ul><li><a href="/">TinyBase</a></li><li><a href="/api/">API</a></li><li><a href="/api/persister-sqlite3/"><code>persister-sqlite3</code></a></li><li><a href="/api/persister-sqlite3/interfaces/">Interfaces</a></li><li><a href="/api/persister-sqlite3/interfaces/other/sqlite3persister/"><code>Sqlite3Persister</code></a></li><li><a href="/api/persister-sqlite3/interfaces/other/sqlite3persister/methods/load/">Load methods</a></li><li><a href="/api/persister-sqlite3/interfaces/other/sqlite3persister/methods/load/load/"><code>load</code></a></li></ul></nav><section class="s1" id="/api/persister-sqlite3/interfaces/other/sqlite3persister/methods/load/load/" data-id="l13"><h1><code>load</code></h1><p>The load method gets persisted data from storage, and loads it into the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> with which the <a href="/api/persisters/interfaces/persister/persister/"><code>Persister</code></a> is associated, once.</p><pre><code><span class="function">load</span><span class="punctuation">(</span>
  initialTables<span class="operator">?</span><span class="operator">:</span> <span class="type"><a href="/api/store/type-aliases/store/tables/">Tables</a></span><span class="punctuation">,</span>
  initialValues<span class="operator">?</span><span class="operator">:</span> <span class="type"><a href="/api/store/type-aliases/store/values/">Values</a></span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="operator">:</span> <span class="builtin">Promise</span><span class="operator">&lt;</span><span class="type"><a href="/api/persisters/interfaces/persister/persister/">Persister</a></span><span class="operator">></span></code></pre><div class="table"><table><tr><th></th><th>Type</th><th>Description</th></tr><tr><th><code>initialTables<span class="operator">?</span></code></th><td><code><span class="type"><a href="/api/store/type-aliases/store/tables/">Tables</a></span></code></td><td><p>An optional <a href="/api/store/type-aliases/store/tables/"><code>Tables</code></a> object used when the underlying storage has not previously been populated.</p></td></tr><tr><th><code>initialValues<span class="operator">?</span></code></th><td><code><span class="type"><a href="/api/store/type-aliases/store/values/">Values</a></span></code></td><td><p>An optional <a href="/api/store/type-aliases/store/values/"><code>Values</code></a> object used when the underlying storage has not previously been populated, since v3.0.</p></td></tr><tr><th class="right">returns</th><td><code><span class="builtin">Promise</span><span class="operator">&lt;</span><span class="type"><a href="/api/persisters/interfaces/persister/persister/">Persister</a></span><span class="operator">></span></code></td><td><p></p><p>A Promise containing a reference to the <a href="/api/persisters/interfaces/persister/persister/"><code>Persister</code></a> object.</p><p></p></td></tr></table></div><p>The optional parameters allow you to specify what the initial content for the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> will be if there is nothing currently persisted or if the load fails (for example when the <a href="/api/persisters/interfaces/persister/persister/"><code>Persister</code></a> is remote and the environment is offline). This allows you to fallback or instantiate a <a href="/api/store/interfaces/store/store/"><code>Store</code></a> whether it&#x27;s loading from previously persisted storage or being run for the first time.</p><p>This method is asynchronous because the persisted data may be on a remote machine or a filesystem. Even for those storage types that are synchronous (like browser storage) it is still recommended that you <code>await</code> calls to this method or handle the return type natively as a Promise.</p><section class="s2"><h2>Examples</h2><p>This example creates an empty <a href="/api/store/interfaces/store/store/"><code>Store</code></a>, and loads data into it from the browser&#x27;s session storage, which for the purposes of this example has been previously populated.</p><pre><code>sessionStorage<span class="punctuation">.</span><span class="function">setItem</span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'[{"pets":{"fido":{"species":"dog"}}},{}]'</span><span class="punctuation">)</span><span class="punctuation">;</span>

<span class="keyword">const</span> store <span class="operator">=</span> <span class="function"><a href="/api/store/functions/creation/createstore/">createStore</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> persister <span class="operator">=</span> <span class="function"><a href="/api/persister-browser/functions/creation/createsessionpersister/">createSessionPersister</a></span><span class="punctuation">(</span>store<span class="punctuation">,</span> <span class="string">'pets'</span><span class="punctuation">)</span><span class="punctuation">;</span>

<span class="keyword">await</span> persister<span class="punctuation">.</span><span class="function">load</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/getter/gettables/">getTables</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> {pets: {fido: {species: 'dog'}}}</span>

sessionStorage<span class="punctuation">.</span><span class="function"><a href="/api/checkpoints/interfaces/checkpoints/checkpoints/methods/lifecycle/clear/">clear</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><p>This example creates an empty <a href="/api/store/interfaces/store/store/"><code>Store</code></a>, and loads data into it from the browser&#x27;s session storage, which is at first empty, so the optional parameter is used. The second time the load method is called, data has previously been persisted and instead, that is loaded.</p><pre><code><span class="keyword">const</span> store <span class="operator">=</span> <span class="function"><a href="/api/store/functions/creation/createstore/">createStore</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> persister <span class="operator">=</span> <span class="function"><a href="/api/persister-browser/functions/creation/createsessionpersister/">createSessionPersister</a></span><span class="punctuation">(</span>store<span class="punctuation">,</span> <span class="string">'pets'</span><span class="punctuation">)</span><span class="punctuation">;</span>

<span class="keyword">await</span> persister<span class="punctuation">.</span><span class="function">load</span><span class="punctuation">(</span><span class="punctuation">{</span><span class="literal-property">pets</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">fido</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'dog'</span><span class="punctuation">}</span><span class="punctuation">}</span><span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>
console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/getter/gettables/">getTables</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> {pets: {fido: {species: 'dog'}}}</span>

sessionStorage<span class="punctuation">.</span><span class="function">setItem</span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'[{"pets":{"toto":{"species":"dog"}}},{}]'</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">await</span> persister<span class="punctuation">.</span><span class="function">load</span><span class="punctuation">(</span><span class="punctuation">{</span><span class="literal-property">pets</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">fido</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'dog'</span><span class="punctuation">}</span><span class="punctuation">}</span><span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>
console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/getter/gettables/">getTables</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> {pets: {toto: {species: 'dog'}}}</span>

sessionStorage<span class="punctuation">.</span><span class="function"><a href="/api/checkpoints/interfaces/checkpoints/checkpoints/methods/lifecycle/clear/">clear</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre></section></section></article><aside></aside></main><footer><nav><a id="tw" href="https://twitter.com/tinybasejs" target="_blank">Twitter</a><a id="fb" href="https://facebook.com/tinybasejs" target="_blank">Facebook</a></nav><nav><a href="/">TinyBase 4.6.0-beta.1</a> Â© 2021- All Rights Reserved</nav></footer></body><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ"></script><script>window.dataLayer=window.dataLayer||[];function g(){dataLayer.push(arguments);}g('js',new Date());g('config','G-D1MGR8VRWJ');</script></html>