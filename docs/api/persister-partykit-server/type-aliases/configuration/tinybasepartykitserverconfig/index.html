<!DOCTYPE html><html lang="en"><head><link rel="dns-prefetch" href="https://www.googletagmanager.com/"><link href="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ" rel="preload" as="script"><link rel="preload" as="font" href="/fonts/inter.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/inconsolata.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/icons.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/shantell.woff2" type="font/woff2" crossorigin="anonymous"><title>TinyBasePartyKitServerConfig | TinyBase</title><meta name="description" content="The TinyBasePartyKitServerConfig type describes the configuration of a PartyKit Persister on the server side."><meta property="og:type" content="website"><meta property="og:title" content="TinyBasePartyKitServerConfig | TinyBase"><meta property="og:description" content="The TinyBasePartyKitServerConfig type describes the configuration of a PartyKit Persister on the server side."><meta property="og:url" content="https://tinybase.org/api/persister-partykit-server/type-aliases/configuration/tinybasepartykitserverconfig/"><meta property="og:image" content="https://tinybase.org/favicon_pad.png"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="TinyBasePartyKitServerConfig | TinyBase"><meta name="twitter:description" content="The TinyBasePartyKitServerConfig type describes the configuration of a PartyKit Persister on the server side."><meta name="twitter:site" content="@tinybasejs"><meta name="twitter:image" content="https://tinybase.org/favicon_pad.png"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="stylesheet" href="/css/index.css"><link rel="canonical" href="https://tinybase.org/api/persister-partykit-server/type-aliases/configuration/tinybasepartykitserverconfig/"><script src="/js/app.js"></script></head><body><header><a href="/"><img src="/favicon.svg" alt="TinyBase logo"><span>TinyBase</span></a><nav><ul><li><a href="/guides/">Guides</a></li><li><a href="/demos/">Demos</a></li><li><a href="/api/">API</a></li><li><a href="https://github.com/tinyplex/tinybase">GitHub</a></li></ul></nav><span id="dark"></span></header><main><nav><ul><li id="root" class="parent open"><span></span><a href="/">TinyBase</a><ul><li id="G" class="parent"><span></span><a href="/guides/">Guides</a></li><li id="D2" class="parent"><span></span><a href="/demos/">Demos</a></li><li id="api" class="parent open"><span></span><a href="/api/">API</a><ul><li id="s" class="parent"><span></span><a href="/api/store/"><code>store</code></a></li><li id="m" class="parent"><span></span><a href="/api/metrics/"><code>metrics</code></a></li><li id="i" class="parent"><span></span><a href="/api/indexes/"><code>indexes</code></a></li><li id="r" class="parent"><span></span><a href="/api/relationships/"><code>relationships</code></a></li><li id="q" class="parent"><span></span><a href="/api/queries/"><code>queries</code></a></li><li id="c" class="parent"><span></span><a href="/api/checkpoints/"><code>checkpoints</code></a></li><li id="c3" class="parent"><span></span><a href="/api/common/"><code>common</code></a></li><li id="p" class="parent"><span></span><a href="/api/persisters/"><code>persisters</code></a></li><li id="p2" class="parent"><span></span><a href="/api/persister-automerge/"><code>persister-automerge</code></a></li><li id="p3" class="parent"><span></span><a href="/api/persister-browser/"><code>persister-browser</code></a></li><li id="p4" class="parent"><span></span><a href="/api/persister-cr-sqlite-wasm/"><code>persister-cr-sqlite-wasm</code></a></li><li id="p5" class="parent"><span></span><a href="/api/persister-expo-sqlite/"><code>persister-expo-sqlite</code></a></li><li id="p6" class="parent"><span></span><a href="/api/persister-expo-sqlite-next/"><code>persister-expo-sqlite-next</code></a></li><li id="p7" class="parent"><span></span><a href="/api/persister-file/"><code>persister-file</code></a></li><li id="p8" class="parent"><span></span><a href="/api/persister-indexed-db/"><code>persister-indexed-db</code></a></li><li id="p9" class="parent"><span></span><a href="/api/persister-partykit-client/"><code>persister-partykit-client</code></a></li><li id="p10" class="parent open"><span></span><a href="/api/persister-partykit-server/"><code>persister-partykit-server</code></a><ul><li id="p10/C40" class="parent"><span></span><a href="/api/persister-partykit-server/classes/">Classes</a></li><li id="p10/F17" class="parent"><span></span><a href="/api/persister-partykit-server/functions/">Functions</a></li><li id="p10/TA17" class="parent open"><span></span><a href="/api/persister-partykit-server/type-aliases/">Type Aliases</a><ul><li id="TBPKSC" class="current"><span></span><a href="/api/persister-partykit-server/type-aliases/configuration/tinybasepartykitserverconfig/"><code>TinyBasePartyKitServerConfig</code></a></li></ul></li></ul></li><li id="p11" class="parent"><span></span><a href="/api/persister-remote/"><code>persister-remote</code></a></li><li id="p12" class="parent"><span></span><a href="/api/persister-sqlite-wasm/"><code>persister-sqlite-wasm</code></a></li><li id="p13" class="parent"><span></span><a href="/api/persister-sqlite3/"><code>persister-sqlite3</code></a></li><li id="p14" class="parent"><span></span><a href="/api/persister-yjs/"><code>persister-yjs</code></a></li><li id="t2" class="parent"><span></span><a href="/api/tools/"><code>tools</code></a></li><li id="u" class="parent"><span></span><a href="/api/ui-react/"><code>ui-react</code></a></li><li id="u2" class="parent"><span></span><a href="/api/ui-react-dom/"><code>ui-react-dom</code></a></li></ul></li></ul></li></ul></nav><article><nav><ul><li><a href="/">TinyBase</a></li><li><a href="/api/">API</a></li><li><a href="/api/persister-partykit-server/"><code>persister-partykit-server</code></a></li><li><a href="/api/persister-partykit-server/type-aliases/">Type Aliases</a></li><li><a href="/api/persister-partykit-server/type-aliases/configuration/tinybasepartykitserverconfig/"><code>TinyBasePartyKitServerConfig</code></a></li></ul></nav><section class="s1" id="/api/persister-partykit-server/type-aliases/configuration/tinybasepartykitserverconfig/" data-id="TBPKSC"><h1><code>TinyBasePartyKitServerConfig</code></h1><p>The <code>TinyBasePartyKitServerConfig</code> type describes the configuration of a PartyKit <a href="/api/persisters/interfaces/persister/persister/"><code>Persister</code></a> on the server side.</p><pre><code><span class="punctuation">{</span>
  storePath<span class="operator">?</span><span class="operator">:</span> <span class="builtin">string</span><span class="punctuation">;</span>
  messagePrefix<span class="operator">?</span><span class="operator">:</span> <span class="builtin">string</span><span class="punctuation">;</span>
  storagePrefix<span class="operator">?</span><span class="operator">:</span> <span class="builtin">string</span><span class="punctuation">;</span>
  responseHeaders<span class="operator">?</span><span class="operator">:</span> HeadersInit<span class="punctuation">;</span>
<span class="punctuation">}</span></code></pre><div class="table"><table><tr><th></th><th>Type</th><th>Description</th></tr><tr><th><code>storePath<span class="operator">?</span></code></th><td><code><span class="builtin">string</span></code></td><td><p>The path used to set and get the whole <a href="/api/store/interfaces/store/store/"><code>Store</code></a> over HTTP(S) on the server. This must match the storePath property of the <a href="/api/persister-partykit-client/type-aliases/configuration/partykitpersisterconfig/"><code>PartyKitPersisterConfig</code></a> used on the client. Both default to &#x27;/store&#x27;.</p></td></tr><tr><th><code>messagePrefix<span class="operator">?</span></code></th><td><code><span class="builtin">string</span></code></td><td><p>The prefix at the beginning of the web socket messages between the client and the server when synchronizing the <a href="/api/store/interfaces/store/store/"><code>Store</code></a>. Use this to make sure they do not collide with any other message syntax that your room is using. This must match the messagePrefix property of the <a href="/api/persister-partykit-client/type-aliases/configuration/partykitpersisterconfig/"><code>PartyKitPersisterConfig</code></a> object used on the client. Both default to an empty string.</p></td></tr><tr><th><code>storagePrefix<span class="operator">?</span></code></th><td><code><span class="builtin">string</span></code></td><td><p>The prefix used before all the keys in the server&#x27;s durable storage. Use this in case you are worried about the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> data colliding with other data stored in the room. Defaults to an empty string.</p></td></tr><tr><th><code>responseHeaders<span class="operator">?</span></code></th><td><code>HeadersInit</code></td><td><p>An object containing the extra HTTP(S) headers returned to the client from this server. This defaults to the following three headers to allow CORS:</p><pre><code>Access-Control-Allow-Origin: *
Access-Control-Allow-Methods: *
Access-Control-Allow-Headers: *
</code></pre><p>If you set this field, it will override the default completely. So, for example, if you add another header but still want the CORS defaults, you will need to explicitly set the Access-Control-Allow headers above again.</p></td></tr></table></div><p>The defaults (if used on both the server and client) will work fine, but if you are building more complex PartyKit apps and you need to configure path names, for example, then this is the type to use.</p><section class="s2"><h2>Example</h2><p>When set as the config in a TinyBasePartyKitServer, this <code>TinyBasePartyKitServerConfig</code> will expect clients to load and save their JSON serialization from and to an end point in the room called <code>/my_tinybase</code>. Note that this would require you to also add the matching storePath setting to the <a href="/api/persister-partykit-client/type-aliases/configuration/partykitpersisterconfig/"><code>PartyKitPersisterConfig</code></a> on the client side.</p><p>It will also store the data in the durable storage with a prefix of &#x27;tinybase_&#x27; in case you are worried about colliding with other data stored in the room.</p><pre><code><span class="keyword">class</span> <span class="class-name">MyServer</span> <span class="keyword">extends</span> <span class="class-name">TinyBasePartyKitServer</span> <span class="punctuation">{</span>
  readonly config <span class="operator">=</span> <span class="punctuation">{</span>
    <span class="literal-property">storePath</span><span class="operator">:</span> <span class="string">'/my_tinybase'</span><span class="punctuation">,</span>
    <span class="literal-property">storagePrefix</span><span class="operator">:</span> <span class="string">'tinybase_'</span><span class="punctuation">,</span>
  <span class="punctuation">}</span><span class="punctuation">;</span>
<span class="punctuation">}</span>
</code></pre></section><section class="s2"><h2>Since</h2><p>v4.3.9</p></section></section></article><aside></aside></main><footer><nav><a id="tw" href="https://twitter.com/tinybasejs" target="_blank">Twitter</a><a id="fb" href="https://facebook.com/tinybasejs" target="_blank">Facebook</a></nav><nav><a href="/">TinyBase 4.5.9</a> © 2021- All Rights Reserved</nav></footer></body><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ"></script><script>window.dataLayer=window.dataLayer||[];function g(){dataLayer.push(arguments);}g('js',new Date());g('config','G-D1MGR8VRWJ');</script></html>