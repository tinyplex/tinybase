<html><head><link rel="preload" as="font" href="/fonts/lato-light.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/lato-regular.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/roboto-thin.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/roboto-light.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/roboto-mono-light.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/roboto-mono-regular.woff2" type="font/woff2" crossorigin="anonymous"><title>Releases | TinyBase</title><meta property="og:type" content="website"><meta property="og:title" content="Releases | TinyBase"><meta property="og:description" content="This is a reverse chronological list of the major TinyBase releases, with
highlighted features."><meta property="og:url" content="https://beta.tinybase.org/guides/releases"><meta property="og:image" content="https://beta.tinybase.org/favicon_pad.png"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Releases | TinyBase"><meta name="twitter:description" content="This is a reverse chronological list of the major TinyBase releases, with
highlighted features."><meta name="twitter:site" content="@tinybasejs"><meta name="twitter:image" content="https://beta.tinybase.org/favicon_pad.png"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="stylesheet" href="/css/index.css"><script src="/js/app.js"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ"></script><script>window.dataLayer=window.dataLayer||[];function g(){dataLayer.push(arguments);}g('js',new Date());g('config','G-D1MGR8VRWJ');</script></head><body><header><a href="/"><img src="/favicon.svg"><span>TinyBase <em title="2.0.0-beta.3">beta</em></span></a><nav><ul><li><a href="/guides">Guides</a></li><li><a href="/demos">Demos</a></li><li><a href="/api">API</a></li><li><a href="https://github.com/tinyplex/tinybase">GitHub</a></li></ul></nav><span id="dark"></span></header><main><nav><ul><li id="root" class="parent open"><span></span><a href="/">TinyBase</a><ul><li id="G" class="parent open"><span></span><a href="/guides">Guides</a><ul><li id="TB" class="parent"><span></span><a href="/guides/the-basics">The Basics</a></li><li id="BUI" class="parent"><span></span><a href="/guides/building-uis">Building UIs</a></li><li id="SAP" class="parent"><span></span><a href="/guides/schemas-and-persistence">Schemas And Persistence</a></li><li id="MAI" class="parent"><span></span><a href="/guides/metrics-and-indexes">Metrics And Indexes</a></li><li id="RAC" class="parent"><span></span><a href="/guides/relationships-and-checkpoints">Relationships And Checkpoints</a></li><li id="HTBIB" class="parent"><span></span><a href="/guides/how-tinybase-is-built">How TinyBase Is Built</a></li><li id="FAQ"><span></span><a href="/guides/faq">FAQ</a></li><li id="R" class="current"><span></span><a href="/guides/releases">Releases</a></li></ul></li><li id="D2" class="parent"><span></span><a href="/demos">Demos</a></li><li id="api" class="parent"><span></span><a href="/api">API</a></li></ul></li></ul></nav><article><nav><ul><li><a href="/">TinyBase</a></li><li><a href="/guides">Guides</a></li></ul></nav><section class="s1" id="/guides/releases" data-id="R"><h1>Releases</h1><p>This is a reverse chronological list of the major <a href="/">TinyBase</a> releases, with highlighted features.</p><h3 id="v2-0-0-beta0">v2.0.0-beta0</h3><p>This is the first beta for the next major version of <a href="/">TinyBase</a> 2.0: &quot;the one with the query engine&quot;.</p><p>The new <a href="/api/queries"><code>queries</code></a> module allows you to build fully reactive queries with a SQL-adjacent JavaScript API. The documentation and test suite for the query system is complete, and an introductory example is <a href="/api/queries/interfaces/queries/queries/">here</a>.</p><p>To support the query capabilities, a small change has been made to the <a href="/api/store/interfaces/store/store"><code>Store</code></a> API: the order of <a href="/api/store/type-aliases/store/table"><code>Table</code></a>, <a href="/api/store/type-aliases/store/row"><code>Row</code></a>, and <a href="/api/store/type-aliases/store/cell"><code>Cell</code></a> <a href="/api/common/type-aliases/identity/ids"><code>Ids</code></a> is now significant. When adding listeners for changes to those, you can specify an optional <code>trackReorder</code> parameter to indicate that you want the listener to fire if the set of <a href="/api/common/type-aliases/identity/ids"><code>Ids</code></a> does not change, but the order does. See the <a href="/api/store/interfaces/store/store/methods/listener/addtableidslistener"><code>addTableIdsListener</code></a> method, the <a href="/api/store/interfaces/store/store/methods/listener/addrowidslistener"><code>addRowIdsListener</code></a> method, and the <a href="/api/store/interfaces/store/store/methods/listener/addcellidslistener"><code>addCellIdsListener</code></a> method for more details.</p><p>The React bindings for the <a href="/api/queries"><code>queries</code></a> module will shortly be available in v2.0.0-beta1. The guides and sample apps will be available in v2.0.0-beta2.</p><h3 id="v1-3-0">v1.3.0</h3><p>Adds support for explicit transaction start and finish methods, as well as listeners for transactions finishing.</p><p>The <a href="/api/store/interfaces/store/store/methods/transaction/starttransaction"><code>startTransaction</code></a> method and <a href="/api/store/interfaces/store/store/methods/transaction/finishtransaction"><code>finishTransaction</code></a> method allow you to explicitly enclose a transaction that will make multiple mutations to the <a href="/api/store/interfaces/store/store"><code>Store</code></a>, buffering all calls to the relevant listeners until it completes when you call the <a href="/api/store/interfaces/store/store/methods/transaction/finishtransaction"><code>finishTransaction</code></a> method.</p><p>Unlike the <a href="/api/store/interfaces/store/store/methods/transaction/transaction"><code>transaction</code></a> method, this approach is useful when you have a more &#x27;open-ended&#x27; transaction, such as one containing mutations triggered from other events that are asynchronous or not occurring inline to your code. You must remember to also call the <a href="/api/store/interfaces/store/store/methods/transaction/finishtransaction"><code>finishTransaction</code></a> method explicitly when the transaction is started with the <a href="/api/store/interfaces/store/store/methods/transaction/starttransaction"><code>startTransaction</code></a> method, of course.</p><pre><code><span class="keyword">const</span> store <span class="operator">=</span> <span class="function"><a href="/api/store/functions/creation/createstore">createStore</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/settables">setTables</a></span><span class="punctuation">(</span><span class="punctuation">{</span><span class="literal-property">pets</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">fido</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'dog'</span><span class="punctuation">}</span><span class="punctuation">}</span><span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>
store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/listener/addrowlistener">addRowListener</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">,</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span><span class="string">'Fido changed'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>

store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/transaction/starttransaction">startTransaction</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setcell">setCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">,</span> <span class="string">'color'</span><span class="punctuation">,</span> <span class="string">'brown'</span><span class="punctuation">)</span><span class="punctuation">;</span>
store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setcell">setCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">,</span> <span class="string">'sold'</span><span class="punctuation">,</span> <span class="boolean">true</span><span class="punctuation">)</span><span class="punctuation">;</span>
store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/transaction/finishtransaction">finishTransaction</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> 'Fido changed'</span>
</code></pre><p>In addition, see the <a href="/api/store/interfaces/store/store/methods/listener/addwillfinishtransactionlistener"><code>addWillFinishTransactionListener</code></a> method and the <a href="/api/store/interfaces/store/store/methods/listener/adddidfinishtransactionlistener"><code>addDidFinishTransactionListener</code></a> method for details around listening to transactions completing.</p><pre><code>store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/listener/addwillfinishtransactionlistener">addWillFinishTransactionListener</a></span><span class="punctuation">(</span><span class="punctuation">(</span><span class="parameter">store<span class="punctuation">,</span> cellsTouched</span><span class="punctuation">)</span> <span class="operator">=></span>
  console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span><span class="template-string"><span class="template-punctuation">`</span><span class="string">Cells touched: </span><span class="interpolation"><span class="interpolation-punctuation">${</span>cellsTouched<span class="interpolation-punctuation">}</span></span><span class="template-punctuation">`</span></span><span class="punctuation">)</span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="punctuation">;</span>

store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/transaction/transaction">transaction</a></span><span class="punctuation">(</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setcell">setCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">,</span> <span class="string">'species'</span><span class="punctuation">,</span> <span class="string">'dog'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> 'Cells touched: false'</span>

store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/transaction/transaction">transaction</a></span><span class="punctuation">(</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setcell">setCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">,</span> <span class="string">'color'</span><span class="punctuation">,</span> <span class="string">'walnut'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> 'Cells touched: true'</span>
<span class="comment">// -> 'Fido changed'</span>
</code></pre><p>Together, this release allows stores to couple their transaction life-cycles together, which we need for the query engine.</p><h3 id="v1-2-0">v1.2.0</h3><p>This adds a way to revert transactions if they have not met certain conditions.</p><p>When using the <a href="/api/store/interfaces/store/store/methods/transaction/transaction"><code>transaction</code></a> method, you can provide an optional <code>doRollback</code> callback which should return true if you want to revert the whole transaction at its conclusion.</p><p>The callback is provided with two objects, <code>changedCells</code> and <code>invalidCells</code>, which list all the net changes and invalid attempts at changes that were made during the transaction. You will most likely use the contents of those objects to decide whether the transaction should be rolled back.</p><h3 id="v1-1-0">v1.1.0</h3><p>This release allows you to listen to invalid data being added to a <a href="/api/store/interfaces/store/store"><code>Store</code></a>, allowing you to gracefully handle errors, rather than them failing silently.</p><p>There is a new listener type <a href="/api/store/type-aliases/listener/invalidcelllistener"><code>InvalidCellListener</code></a> and a <a href="/api/store/interfaces/store/store/methods/listener/addinvalidcelllistener"><code>addInvalidCellListener</code></a> method in the <a href="/api/store/interfaces/store/store"><code>Store</code></a> interface.</p><p>These allow you to keep track of failed attempts to update the <a href="/api/store/interfaces/store/store"><code>Store</code></a> with invalid <a href="/api/store/type-aliases/store/cell"><code>Cell</code></a> data. These listeners can also be mutators, allowing you to address any failed writes programmatically.</p><p>For more information, please see the <a href="/api/store/interfaces/store/store/methods/listener/addinvalidcelllistener"><code>addInvalidCellListener</code></a> method documentation. In particular, this explains how this listener behaves for a <a href="/api/store/interfaces/store/store"><code>Store</code></a> with a <a href="/api/store/type-aliases/schema/schema"><code>Schema</code></a>.</p></section></article><aside></aside></main><footer><nav><a id="tw" href="https://twitter.com/tinybasejs" target="_blank"></a><a id="fb" href="https://facebook.com/tinybasejs" target="_blank"></a></nav><nav><a href="/">TinyBase 2.0.0-beta.3</a> © 2021- All Rights Reserved</nav></footer></body></html>