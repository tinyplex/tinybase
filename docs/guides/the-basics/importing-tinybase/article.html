<nav><ul><li><a href="/">TinyBase</a></li><li><a href="/guides/">Guides</a></li><li><a href="/guides/the-basics/">The Basics</a></li><li><a href="/guides/the-basics/importing-tinybase/">Importing TinyBase</a></li></ul></nav><section class="s1" id="/guides/the-basics/importing-tinybase/" data-id="ITB"><h1>Importing TinyBase</h1><p>This guide provides an aside about importing TinyBase into your application.</p><h3 id="the-simplest-imports">The Simplest Imports</h3><p>The simplest import of TinyBase is:</p><pre><code><span class="keyword">import</span> <span class="punctuation">{</span>createMetrics<span class="punctuation">,</span> createStore<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase'</span><span class="punctuation">;</span>
</code></pre><p>This will get you an ESNext, ESM, non-minified import of the main <code>tinybase</code> module, (which contains most of the core functionality), and should be enough to get started. You may also want to import specific persister, synchronizer, or UI modules:</p><pre><code><span class="keyword">import</span> <span class="punctuation">{</span>createSessionPersister<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/persisters/persister-browser'</span><span class="punctuation">;</span>
<span class="keyword">import</span> <span class="punctuation">{</span>createWsSynchronizer<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/synchronizers/synchronizer-ws-client'</span><span class="punctuation">;</span>
<span class="keyword">import</span> <span class="punctuation">{</span>useCell<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/ui-react'</span><span class="punctuation">;</span>
<span class="keyword">import</span> <span class="punctuation">{</span>TableInHtmlTable<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/ui-react-dom'</span><span class="punctuation">;</span>

<span class="comment">// ... etc</span>
</code></pre><p>All the example code throughout these guides and the API documentation are shown with the correct imports so that you can be clear about which functions and types come from which modules.</p><h3 id="using-tinybase-submodules">Using TinyBase Submodules</h3><p>The <code>tinybase</code> module is the master package of most of the core functionality. It includes the following submodules:</p><ul><li>The <a href="/api/store/"><code>store</code></a> module</li><li>The <a href="/api/metrics/"><code>metrics</code></a> module</li><li>The <a href="/api/indexes/"><code>indexes</code></a> module</li><li>The <a href="/api/relationships/"><code>relationships</code></a> module</li><li>The <a href="/api/queries/"><code>queries</code></a> module</li><li>The <a href="/api/checkpoints/"><code>checkpoints</code></a> module</li><li>The <a href="/api/mergeable-store/"><code>mergeable-store</code></a> module</li><li>The <a href="/api/common/"><code>common</code></a> module</li></ul><p>Since many of the submodules above share compiled-in dependencies, the master package is smaller to include than including all of the submodules separately.</p><p>However, for a very minimal set of submodules, you may save size by including them piecemeal. If you only wanted a <a href="/api/the-essentials/creating-stores/store/"><code>Store</code></a> and a <a href="/api/metrics/interfaces/metrics/metrics/"><code>Metrics</code></a> object, for example, you could import them alone like this:</p><pre><code><span class="keyword">import</span> <span class="punctuation">{</span>createMetrics<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/metrics'</span><span class="punctuation">;</span>
<span class="keyword">import</span> <span class="punctuation">{</span>createStore<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/store'</span><span class="punctuation">;</span>

<span class="comment">// ...</span>
</code></pre><p>With a good minifier in your application bundler, however, you may find that this level of granularity is unnecessary, and that you can just stick with the overall <code>tinybase</code> module for most things.</p><p>The submodules for various <a href="/api/the-essentials/persisting-stores/persister/"><code>Persister</code></a> and <a href="/api/the-essentials/synchronizing-stores/synchronizer/"><code>Synchronizer</code></a> types are <em>not</em> included in the main tinybase module, but should be imported separately from inside the <code>persisters</code> and <code>synchronizers</code> folders. See the <a href="/guides/persistence/">Persistence</a> and <a href="/guides/synchronization/">Synchronization</a> guides, respectively, for more details.</p><h3 id="the-omni-module">The <code>omni</code> Module</h3><p>There is also an <code>omni</code> module that is an explicit superset of everything in the TinyBase ecosystem. It exports the features and functionality of every <code>tinybase/*</code> module, including every persister, every synchronizer, and every UI component. This is useful for applications that want to use multiple facets of the overall TinyBase ecosystem and also benefit from the fact they share a lot of code internally.</p><pre><code><span class="keyword">import</span> <span class="punctuation">{</span>createStore<span class="punctuation">,</span> createSqliteBunPersister<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/omni'</span><span class="punctuation">;</span>
</code></pre><p>However, it should go without saying that you should only use the <code>omni</code> module if you have an aggressive tree-shaking bundler that can remove all the persisters, synchronizers, and so on, that you do <em>not</em> use. Experiment with different bundler configurations to see what works best for your usage.</p><h3 id="targets-and-formats">Targets And Formats</h3><p>Prior to TinyBase v6.0, the NPM package included a number of different versions of each module, transpiled for different targets and formats. From v6.0 onwards, only ESNext, ESM modules are included in the main package.</p><p>However, both non-minified and minified versions are available: the default is non-minified code, but minified versions are available in the top-level <code>min</code> folder:</p><pre><code><span class="keyword">import</span> <span class="punctuation">{</span>createStore<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase'</span><span class="punctuation">;</span> <span class="comment">// non-minified</span>
<span class="comment">// or</span>
<span class="keyword">import</span> <span class="punctuation">{</span>createStore<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/min'</span><span class="punctuation">;</span> <span class="comment">// minified</span>
</code></pre><h3 id="indicating-schema-based-typing">Indicating Schema-based Typing</h3><p>As we will see in more details in the following <a href="/guides/the-basics/tinybase-and-typescript/">TinyBase And TypeScript</a> guide, it is possible to use schema-aware type definitions by appending <code>with-schemas</code> to the very end of the path like this:</p><pre><code><span class="keyword">import</span> <span class="punctuation">{</span>createStore<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/with-schemas'</span><span class="punctuation">;</span>

<span class="comment">// NB the 'with-schemas'</span>
</code></pre><h3 id="putting-it-all-together">Putting It All Together</h3><p>As long as you put the optional parts of the path in the right order, you can access all the valid combinations of minification, sub-module and schema support. The syntax for the import (split onto different lines for clarity) is:</p><pre><code>tinybase
  <span class="punctuation">[</span> /min <span class="punctuation">]</span>
    <span class="punctuation">[</span> /store <span class="operator">|</span> /metrics <span class="operator">|</span> /queries <span class="operator">|</span> <span class="punctuation">..</span>. <span class="punctuation">]</span>
      <span class="punctuation">[</span> /with-schemas <span class="punctuation">]</span>
</code></pre><p>For example, this is a non-exhaustive list of options that are all valid:</p><div class="table"><table><thead><tr><th>Import</th><th>Minified</th><th>Sub-module</th><th>With schemas</th></tr></thead><tbody><tr><td><code>import {...} from &#x27;tinybase&#x27;;</code></td><td>no</td><td></td><td>no</td></tr><tr><td><code>import {...} from &#x27;tinybase/with-schemas&#x27;;</code></td><td>no</td><td></td><td>yes</td></tr><tr><td><code>import {...} from &#x27;tinybase/min&#x27;;</code></td><td>yes</td><td></td><td>no</td></tr><tr><td><code>import {...} from &#x27;tinybase/store/with-schemas&#x27;</code></td><td>no</td><td><a href="/api/store/"><code>store</code></a></td><td>no</td></tr><tr><td><code>import {...} from &#x27;tinybase/min/store/with-schemas&#x27;</code></td><td>yes</td><td><a href="/api/store/"><code>store</code></a></td><td>yes</td></tr><tr><td>...</td><td></td><td></td><td></td></tr></tbody></table></div><p>If all else fails, take a look into the package folder and see what&#x27;s what!</p><h3 id="react-native">React Native</h3><p>If you are using <a href="https://reactnative.dev/">React Native</a> - for example with <a href="https://expo.dev/">Expo</a> - be aware that the <a href="https://facebook.github.io/metro/">Metro</a> bundler does not currently support module resolution very well. You may have to add in the exact file path to be explicit about your imports:</p><pre><code><span class="keyword">import</span> <span class="punctuation">{</span>createStore<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/index.js'</span><span class="punctuation">;</span>
<span class="keyword">import</span> <span class="punctuation">{</span>useCell<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/ui-react/index.js'</span><span class="punctuation">;</span>
</code></pre><p>This situation is evolving however, so you may find these extra file names unnecessary as bundler support improves.</p><p>Check out the <a href="https://github.com/expo/examples/tree/master/with-tinybase">Expo TinyBase example</a> for a simple working template to get started with TinyBase and React Native.</p><h3 id="eslint-resolver-issues">ESlint Resolver Issues</h3><p>There is a <a href="https://github.com/import-js/eslint-plugin-import/issues/1810">known issue</a> with the <code>no-unresolved</code> ESlint rule whereby it does not understand the <code>exports</code> section of the TinyBase <code>package.json</code>. You may wish to disable that rule if you are getting false positives using TinyBase submodules.</p><h3 id="enough">Enough!</h3><p>OK, we&#x27;re done with the <code>import</code> shenanigans. Let&#x27;s briefly look at how TinyBase benefits from using TypeScript to improve your developer experience in the TinyBase and TypeScript guide.</p></section>