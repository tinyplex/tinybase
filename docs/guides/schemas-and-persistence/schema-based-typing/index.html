<!DOCTYPE html><html lang="en"><head><link rel="dns-prefetch" href="https://www.googletagmanager.com/"><link href="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ" rel="preload" as="script"><link rel="preload" as="font" href="/fonts/inter.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/inconsolata.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/icons.woff2" type="font/woff2" crossorigin="anonymous"><title>Schema-Based Typing | TinyBase</title><meta name="description" content="You can use type definitions that infer API types from the schemas you apply, providing a powerful way to improve your developer experience when you know the shape of the data being stored."><meta property="og:type" content="website"><meta property="og:title" content="Schema-Based Typing | TinyBase"><meta property="og:description" content="You can use type definitions that infer API types from the schemas you apply, providing a powerful way to improve your developer experience when you know the shape of the data being stored."><meta property="og:url" content="https://tinybase.org/guides/schemas-and-persistence/schema-based-typing/"><meta property="og:image" content="https://tinybase.org/favicon_pad.png"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Schema-Based Typing | TinyBase"><meta name="twitter:description" content="You can use type definitions that infer API types from the schemas you apply, providing a powerful way to improve your developer experience when you know the shape of the data being stored."><meta name="twitter:site" content="@tinybasejs"><meta name="twitter:image" content="https://tinybase.org/favicon_pad.png"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="stylesheet" href="/css/index.css"><link rel="canonical" href="https://tinybase.org/guides/schemas-and-persistence/schema-based-typing/"><script src="/js/app.js"></script></head><body><header><a href="/"><img src="/favicon.svg" alt="TinyBase logo"><span>TinyBase</span></a><nav><ul><li><a href="/guides/">Guides</a></li><li><a href="/demos/">Demos</a></li><li><a href="/api/">API</a></li><li><a href="https://github.com/tinyplex/tinybase">GitHub</a></li></ul></nav><span id="dark"></span></header><main><nav><ul><li id="root" class="parent open"><span></span><a href="/">TinyBase</a><ul><li id="G" class="parent open"><span></span><a href="/guides/">Guides</a><ul><li id="TB" class="parent"><span></span><a href="/guides/the-basics/">The Basics</a></li><li id="BUI" class="parent"><span></span><a href="/guides/building-uis/">Building UIs</a></li><li id="SAP" class="parent open"><span></span><a href="/guides/schemas-and-persistence/">Schemas And Persistence</a><ul><li id="US"><span></span><a href="/guides/schemas-and-persistence/using-schemas/">Using Schemas</a></li><li id="SBT" class="current"><span></span><a href="/guides/schemas-and-persistence/schema-based-typing/">Schema-Based Typing</a></li><li id="MDWL"><span></span><a href="/guides/schemas-and-persistence/mutating-data-with-listeners/">Mutating Data With Listeners</a></li><li id="PD"><span></span><a href="/guides/schemas-and-persistence/persisting-data/">Persisting Data</a></li><li id="CP"><span></span><a href="/guides/schemas-and-persistence/custom-persistence/">Custom Persistence</a></li><li id="DP"><span></span><a href="/guides/schemas-and-persistence/database-persistence/">Database Persistence</a></li><li id="SD"><span></span><a href="/guides/schemas-and-persistence/synchronizing-data/">Synchronizing Data</a></li></ul></li><li id="MAI" class="parent"><span></span><a href="/guides/metrics-and-indexes/">Metrics And Indexes</a></li><li id="RAC" class="parent"><span></span><a href="/guides/relationships-and-checkpoints/">Relationships And Checkpoints</a></li><li id="MQ" class="parent"><span></span><a href="/guides/making-queries/">Making Queries</a></li><li id="DT" class="parent"><span></span><a href="/guides/developer-tools/">Developer Tools</a></li><li id="HTBIB" class="parent"><span></span><a href="/guides/how-tinybase-is-built/">How TinyBase Is Built</a></li><li id="FAQ"><span></span><a href="/guides/faq/">FAQ</a></li><li id="R"><span></span><a href="/guides/releases/">Releases</a></li></ul></li><li id="D2" class="parent"><span></span><a href="/demos/">Demos</a></li><li id="api" class="parent"><span></span><a href="/api/">API</a></li></ul></li></ul></nav><article><nav><ul><li><a href="/">TinyBase</a></li><li><a href="/guides/">Guides</a></li><li><a href="/guides/schemas-and-persistence/">Schemas And Persistence</a></li><li><a href="/guides/schemas-and-persistence/schema-based-typing/">Schema-Based Typing</a></li></ul></nav><section class="s1" id="/guides/schemas-and-persistence/schema-based-typing/" data-id="SBT"><h1>Schema-Based Typing</h1><p>You can use type definitions that infer API types from the schemas you apply, providing a powerful way to improve your developer experience when you know the shape of the data being stored.</p><p>The schema-based definitions can be accessed by adding the <code>with-schemas</code> suffix to your imports. For example:</p><pre><code><span class="keyword">import</span> <span class="punctuation">{</span>createStore<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/with-schemas'</span><span class="punctuation">;</span> <span class="comment">// NB the 'with-schemas'</span>

<span class="keyword">const</span> store <span class="operator">=</span> <span class="function"><a href="/api/store/functions/creation/createstore/">createStore</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setvaluesschema/">setValuesSchema</a></span><span class="punctuation">(</span><span class="punctuation">{</span>
  employees<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'number'</span><span class="punctuation">}</span><span class="punctuation">,</span>
  open<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'boolean'</span><span class="punctuation">,</span> <span class="keyword">default</span><span class="operator">:</span> <span class="boolean">false</span><span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>

store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setvalues/">setValues</a></span><span class="punctuation">(</span><span class="punctuation">{</span>employees<span class="operator">:</span> <span class="number">3</span><span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span> <span class="comment">//                      OK</span>
store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setvalues/">setValues</a></span><span class="punctuation">(</span><span class="punctuation">{</span>employees<span class="operator">:</span> <span class="boolean">true</span><span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span> <span class="comment">//                   TypeScript error</span>
store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setvalues/">setValues</a></span><span class="punctuation">(</span><span class="punctuation">{</span>employees<span class="operator">:</span> <span class="number">3</span><span class="punctuation">,</span> website<span class="operator">:</span> <span class="string">'pets.com'</span><span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span> <span class="comment">// TypeScript error</span>
</code></pre><p>In this example, the store is known to have the <a href="/api/store/type-aliases/schema/valuesschema/"><code>ValuesSchema</code></a> provided, and all relevant methods will have type constraints accordingly, even for listeners:</p><pre><code>store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/listener/addvaluelistener/">addValueListener</a></span><span class="punctuation">(</span><span class="keyword">null</span><span class="punctuation">,</span> <span class="punctuation">(</span>store<span class="punctuation">,</span> valueId<span class="punctuation">,</span> newValue<span class="punctuation">,</span> oldValue<span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">{</span>
  valueId <span class="operator">==</span> <span class="string">'employees'</span><span class="punctuation">;</span> <span class="comment">// OK</span>
  valueId <span class="operator">==</span> <span class="string">'open'</span><span class="punctuation">;</span> <span class="comment">//      OK</span>
  valueId <span class="operator">==</span> <span class="string">'website'</span><span class="punctuation">;</span> <span class="comment">//   TypeScript error</span>

  <span class="keyword">if</span> <span class="punctuation">(</span>valueId <span class="operator">==</span> <span class="string">'employees'</span><span class="punctuation">)</span> <span class="punctuation">{</span>
    newValue <span class="keyword">as</span> <span class="builtin">number</span><span class="punctuation">;</span> <span class="comment">//   OK</span>
    oldValue <span class="keyword">as</span> <span class="builtin">number</span><span class="punctuation">;</span> <span class="comment">//   OK</span>
    newValue <span class="keyword">as</span> <span class="builtin">boolean</span><span class="punctuation">;</span> <span class="comment">//  TypeScript error</span>
    oldValue <span class="keyword">as</span> <span class="builtin">boolean</span><span class="punctuation">;</span> <span class="comment">//  TypeScript error</span>
  <span class="punctuation">}</span>
  <span class="keyword">if</span> <span class="punctuation">(</span>valueId <span class="operator">==</span> <span class="string">'open'</span><span class="punctuation">)</span> <span class="punctuation">{</span>
    newValue <span class="keyword">as</span> <span class="builtin">boolean</span><span class="punctuation">;</span> <span class="comment">//  OK</span>
    oldValue <span class="keyword">as</span> <span class="builtin">boolean</span><span class="punctuation">;</span> <span class="comment">//  OK</span>
  <span class="punctuation">}</span>
<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><h3 id="getting-the-typed-store">Getting the Typed <a href="/api/store/interfaces/store/store/"><code>Store</code></a></h3><p>Only the <a href="/api/store/interfaces/store/store/methods/setter/setschema/"><code>setSchema</code></a> method, <a href="/api/store/interfaces/store/store/methods/setter/settablesschema/"><code>setTablesSchema</code></a> method, and <a href="/api/store/interfaces/store/store/methods/setter/setvaluesschema/"><code>setValuesSchema</code></a> method return a typed <a href="/api/store/interfaces/store/store/"><code>Store</code></a> object. So, to benefit from the typing, ensure you assign your <a href="/api/store/interfaces/store/store/"><code>Store</code></a> variable to what those methods return, rather than just the <a href="/api/store/functions/creation/createstore/"><code>createStore</code></a> function.</p><p>For example, the following will work at runtime, but you will <em>not</em> benefit from the developer experience of typing on the <code>store</code> variable as we did in the example above.</p><pre><code><span class="keyword">import</span> <span class="punctuation">{</span>createStore<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/with-schemas'</span><span class="punctuation">;</span>

<span class="keyword">const</span> store <span class="operator">=</span> <span class="function"><a href="/api/store/functions/creation/createstore/">createStore</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span> <span class="comment">// This is not a schema-typed Store</span>

store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setvaluesschema/">setValuesSchema</a></span><span class="punctuation">(</span><span class="punctuation">{</span>
  employees<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'number'</span><span class="punctuation">}</span><span class="punctuation">,</span>
  open<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'boolean'</span><span class="punctuation">,</span> <span class="keyword">default</span><span class="operator">:</span> <span class="boolean">false</span><span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span> <span class="comment">// Instead you should use the return type from this method</span>
</code></pre><p>One further thing to be aware of is that for the typing to work effectively, the schema must be passed in directly, or, if it is a variable, as a constant:</p><pre><code><span class="keyword">const</span> valuesSchema <span class="operator">=</span> <span class="punctuation">{</span>
  employees<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'number'</span><span class="punctuation">}</span><span class="punctuation">,</span>
  open<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'boolean'</span><span class="punctuation">,</span> <span class="keyword">default</span><span class="operator">:</span> <span class="boolean">false</span><span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span> <span class="keyword">as</span> <span class="keyword">const</span><span class="punctuation">;</span> <span class="comment">// NB the `as const` modifier</span>
store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setvaluesschema/">setValuesSchema</a></span><span class="punctuation">(</span>valuesSchema<span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><p>It&#x27;s worth noting that typing will adapt according to schemas being added, removed, or changed:</p><pre><code><span class="keyword">const</span> tablesSchema <span class="operator">=</span> <span class="punctuation">{</span>
  pets<span class="operator">:</span> <span class="punctuation">{</span>species<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'string'</span><span class="punctuation">}</span><span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span> <span class="keyword">as</span> <span class="keyword">const</span><span class="punctuation">;</span>

<span class="keyword">const</span> valuesSchema <span class="operator">=</span> <span class="punctuation">{</span>
  employees<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'number'</span><span class="punctuation">}</span><span class="punctuation">,</span>
  open<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'boolean'</span><span class="punctuation">,</span> <span class="keyword">default</span><span class="operator">:</span> <span class="boolean">false</span><span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span> <span class="keyword">as</span> <span class="keyword">const</span><span class="punctuation">;</span>

<span class="keyword">const</span> store <span class="operator">=</span> <span class="function"><a href="/api/store/functions/creation/createstore/">createStore</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> storeWithBothSchemas <span class="operator">=</span> store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setschema/">setSchema</a></span><span class="punctuation">(</span>tablesSchema<span class="punctuation">,</span> valuesSchema<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> storeWithJustValuesSchema <span class="operator">=</span> storeWithBothSchemas<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/deleter/deltablesschema/">delTablesSchema</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> storeWithValuesAndNewTablesSchema <span class="operator">=</span> storeWithBothSchemas<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/settablesschema/">setTablesSchema</a></span><span class="punctuation">(</span><span class="punctuation">{</span>
  pets<span class="operator">:</span> <span class="punctuation">{</span>
    species<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'string'</span><span class="punctuation">}</span><span class="punctuation">,</span>
    sold<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'boolean'</span><span class="punctuation">,</span> <span class="keyword">default</span><span class="operator">:</span> <span class="boolean">false</span><span class="punctuation">}</span><span class="punctuation">,</span>
  <span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><h3 id="typing-the-ui-react-module">Typing The ui-react Module</h3><p>Schema-based typing for the <a href="/api/ui-react/"><code>ui-react</code></a> module is handled a little differently, due to the fact that all of the hooks and components are top level functions in the module. It would be frustrating to apply a schema to type each and every one in turn.</p><p>Instead, you can use the <code>WithSchemas</code> type (which takes the <code>typeof</code> the schemas), and the following pattern after your import. This applies the schema types to the whole module en masse, and then you can select the hooks and components you want to use:</p><pre><code><span class="keyword">import</span> <span class="operator">*</span> <span class="keyword">as</span> UiReact <span class="keyword">from</span> <span class="string">'tinybase/ui-react/with-schemas'</span><span class="punctuation">;</span>
<span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span><span class="punctuation">;</span>
<span class="keyword">import</span> <span class="punctuation">{</span>createStore<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/with-schemas'</span><span class="punctuation">;</span>

<span class="keyword">const</span> tablesSchema <span class="operator">=</span> <span class="punctuation">{</span>
  pets<span class="operator">:</span> <span class="punctuation">{</span>species<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'string'</span><span class="punctuation">}</span><span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span> <span class="keyword">as</span> <span class="keyword">const</span><span class="punctuation">;</span>
<span class="keyword">const</span> valuesSchema <span class="operator">=</span> <span class="punctuation">{</span>
  employees<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'number'</span><span class="punctuation">}</span><span class="punctuation">,</span>
  open<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'boolean'</span><span class="punctuation">,</span> <span class="keyword">default</span><span class="operator">:</span> <span class="boolean">false</span><span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span> <span class="keyword">as</span> <span class="keyword">const</span><span class="punctuation">;</span>

<span class="comment">// Cast the whole module to be schema-based with WithSchemas:</span>
<span class="keyword">const</span> UiReactWithSchemas <span class="operator">=</span> UiReact <span class="keyword">as</span> UiReact<span class="punctuation">.</span>WithSchemas<span class="operator">&lt;</span>
  <span class="punctuation">[</span><span class="keyword">typeof</span> tablesSchema<span class="punctuation">,</span> <span class="keyword">typeof</span> valuesSchema<span class="punctuation">]</span>
<span class="operator">></span><span class="punctuation">;</span>
<span class="comment">// Deconstruct to access the hooks and components you need:</span>
<span class="keyword">const</span> <span class="punctuation">{</span>TableView<span class="punctuation">,</span> useTable<span class="punctuation">,</span> ValueView<span class="punctuation">}</span> <span class="operator">=</span> UiReactWithSchemas<span class="punctuation">;</span>

<span class="keyword">const</span> store <span class="operator">=</span> <span class="function"><a href="/api/store/functions/creation/createstore/">createStore</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setschema/">setSchema</a></span><span class="punctuation">(</span>tablesSchema<span class="punctuation">,</span> valuesSchema<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> <span class="function-variable">App</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">(</span>
  <span class="tag"><span class="tag"><span class="punctuation">&lt;</span>div</span><span class="punctuation">></span></span><span class="plain-text">
    </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name"><a href="/api/ui-react/functions/store-components/tableview/">TableView</a></span></span> <span class="attr-name">store</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>store<span class="punctuation">}</span></span> <span class="attr-name">tableId</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>species<span class="punctuation">"</span></span> <span class="punctuation">/></span></span><span class="plain-text"> </span><span class="punctuation">{</span><span class="comment">/*   OK               */</span><span class="punctuation">}</span><span class="plain-text">
    </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name"><a href="/api/ui-react/functions/store-components/tableview/">TableView</a></span></span> <span class="attr-name">store</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>store<span class="punctuation">}</span></span> <span class="attr-name">tableId</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>customers<span class="punctuation">"</span></span> <span class="punctuation">/></span></span><span class="plain-text"> </span><span class="punctuation">{</span><span class="comment">/* TypeScript error */</span><span class="punctuation">}</span><span class="plain-text">
    </span><span class="punctuation">{</span><span class="comment">/* ... */</span><span class="punctuation">}</span><span class="plain-text">
  </span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span>div</span><span class="punctuation">></span></span>
<span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><p>Note that in React Native, the resolution of modules and types isn&#x27;t yet quite compatible with Node and TypeScript. You may need to try something like the following to explicitly load code and types from different folders:</p><pre><code><span class="keyword">import</span> <span class="operator">*</span> <span class="keyword">as</span> UiReact <span class="keyword">from</span> <span class="string">'tinybase/ui-react'</span><span class="punctuation">;</span> <span class="comment">// code</span>
<span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span><span class="punctuation">;</span>
<span class="keyword">import</span> <span class="keyword">type</span> <span class="punctuation">{</span>WithSchemas<span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/ui-react/with-schemas'</span><span class="punctuation">;</span> <span class="comment">// types</span>
<span class="keyword">import</span> <span class="punctuation">{</span>createStore<span class="punctuation">,</span> <span class="type"><a href="/api/store/type-aliases/schema/tablesschema/">TablesSchema</a></span><span class="punctuation">,</span> <span class="type"><a href="/api/store/type-aliases/schema/valuesschema/">ValuesSchema</a></span><span class="punctuation">}</span> <span class="keyword">from</span> <span class="string">'tinybase/with-schemas'</span><span class="punctuation">;</span>

<span class="keyword">const</span> tablesSchema <span class="operator">=</span> <span class="punctuation">{</span>
  pets<span class="operator">:</span> <span class="punctuation">{</span>species<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'string'</span><span class="punctuation">}</span><span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span> <span class="keyword">as</span> <span class="keyword">const</span><span class="punctuation">;</span>
<span class="keyword">const</span> valuesSchema <span class="operator">=</span> <span class="punctuation">{</span>
  employees<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'number'</span><span class="punctuation">}</span><span class="punctuation">,</span>
  open<span class="operator">:</span> <span class="punctuation">{</span>type<span class="operator">:</span> <span class="string">'boolean'</span><span class="punctuation">,</span> <span class="keyword">default</span><span class="operator">:</span> <span class="boolean">false</span><span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span> <span class="keyword">as</span> <span class="keyword">const</span><span class="punctuation">;</span>

<span class="keyword">const</span> UiReactWithSchemas <span class="operator">=</span> UiReact <span class="keyword">as</span> <span class="builtin">unknown</span> <span class="keyword">as</span> WithSchemas<span class="operator">&lt;</span>
  <span class="punctuation">[</span><span class="keyword">typeof</span> tablesSchema<span class="punctuation">,</span> <span class="keyword">typeof</span> valuesSchema<span class="punctuation">]</span>
<span class="operator">></span><span class="punctuation">;</span>

<span class="comment">//...</span>
</code></pre><h3 id="multiple-stores">Multiple Stores</h3><p>In the case that you have multiple <a href="/api/store/interfaces/store/store/"><code>Store</code></a> objects with different schemas, you will need to use <code>WithSchemas</code> several times, and deconstruct each, something like this:</p><pre><code><span class="keyword">const</span> UiReactWithPetShopSchemas <span class="operator">=</span> UiReact <span class="keyword">as</span> UiReact<span class="punctuation">.</span>WithSchemas<span class="operator">&lt;</span>
  <span class="punctuation">[</span><span class="keyword">typeof</span> petShopTablesSchema<span class="punctuation">,</span> <span class="keyword">typeof</span> petShopValuesSchema<span class="punctuation">]</span>
<span class="operator">></span><span class="punctuation">;</span>
<span class="keyword">const</span> <span class="punctuation">{</span>
  TableView<span class="operator">:</span> PetShopTableView<span class="punctuation">,</span>
  useTable<span class="operator">:</span> usePetShopTable<span class="punctuation">,</span>
  ValueView<span class="operator">:</span> usePetShopValueView<span class="punctuation">,</span>
<span class="punctuation">}</span> <span class="operator">=</span> UiReactWithPetShopSchemas<span class="punctuation">;</span>

<span class="keyword">const</span> UiReactWithSettingsSchemas <span class="operator">=</span> UiReact <span class="keyword">as</span> UiReact<span class="punctuation">.</span>WithSchemas<span class="operator">&lt;</span>
  <span class="punctuation">[</span><span class="keyword">typeof</span> settingsTablesSchema<span class="punctuation">,</span> <span class="keyword">typeof</span> settingsValuesSchema<span class="punctuation">]</span>
<span class="operator">></span><span class="punctuation">;</span>
<span class="keyword">const</span> <span class="punctuation">{</span>
  TableView<span class="operator">:</span> SettingsTableView<span class="punctuation">,</span>
  useTable<span class="operator">:</span> useSettingsTable<span class="punctuation">,</span>
  ValueView<span class="operator">:</span> useSettingsValueView<span class="punctuation">,</span>
<span class="punctuation">}</span> <span class="operator">=</span> UiReactWithSettingsSchemas<span class="punctuation">;</span>

<span class="keyword">const</span> petShopStore <span class="operator">=</span> <span class="function"><a href="/api/store/functions/creation/createstore/">createStore</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setschema/">setSchema</a></span><span class="punctuation">(</span>
  petShopTablesSchema<span class="punctuation">,</span>
  petShopValuesSchema<span class="punctuation">,</span>
<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> settingsStore <span class="operator">=</span> <span class="function"><a href="/api/store/functions/creation/createstore/">createStore</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setschema/">setSchema</a></span><span class="punctuation">(</span>
  settingsTablesSchema<span class="punctuation">,</span>
  settingsValuesSchema<span class="punctuation">,</span>
<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> <span class="function-variable">App</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">(</span>
  <span class="tag"><span class="tag"><span class="punctuation">&lt;</span>div</span><span class="punctuation">></span></span><span class="plain-text">
    </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name">PetShopTableView</span></span> <span class="attr-name">store</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>petShopStore<span class="punctuation">}</span></span> <span class="attr-name">tableId</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>species<span class="punctuation">"</span></span> <span class="punctuation">/></span></span><span class="plain-text">
    </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name">SettingsTableView</span></span> <span class="attr-name">store</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>settingsStore<span class="punctuation">}</span></span> <span class="attr-name">tableId</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>viewSettings<span class="punctuation">"</span></span> <span class="punctuation">/></span></span><span class="plain-text">
    </span><span class="punctuation">{</span><span class="comment">/* ... */</span><span class="punctuation">}</span><span class="plain-text">
  </span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span>div</span><span class="punctuation">></span></span>
<span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><h3 id="summary">Summary</h3><p>Schema-based typing provides a powerful developer-time experience for checking your code and autocompletion in your IDE. Remember to use the <code>with-schema</code> suffix on the import path and use the patterns described above.</p><p>We move on to discussing more complex programmatic enforcement of your data, and for that we turn to the <a href="/guides/schemas-and-persistence/mutating-data-with-listeners/">Mutating Data With Listeners</a> guide.</p></section></article><aside></aside></main><footer><nav><a id="tw" href="https://twitter.com/tinybasejs" target="_blank">Twitter</a><a id="fb" href="https://facebook.com/tinybasejs" target="_blank">Facebook</a></nav><nav><a href="/">TinyBase 4.3.0</a> © 2021- All Rights Reserved</nav></footer></body><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ"></script><script>window.dataLayer=window.dataLayer||[];function g(){dataLayer.push(arguments);}g('js',new Date());g('config','G-D1MGR8VRWJ');</script></html>