<nav><ul><li><a href="/">TinyBase</a></li><li><a href="/guides/">Guides</a></li><li><a href="/guides/agents-guide/">Agents Guide</a></li></ul></nav><section class="s1" id="/guides/agents-guide/" data-id="AG"><h1>Agents Guide</h1><p>This file follows the <a href="https://agents.md/">agents.md</a> specification for AI agent context. If you&#x27;re a human reading this, it provides a comprehensive overview of the TinyBase project for AI assistants working with the codebase.</p><h3 id="overview">Overview</h3><p><strong>TinyBase</strong> is a reactive data store and sync engine for local-first applications. It is a TypeScript library that provides a reactive, in-memory data store with a powerful synchronization engine. It&#x27;s designed for building local-first applications that work offline and sync across devices. The library is exceptionally small (5.3kB-11.7kB), has zero runtime dependencies, and maintains 100% test coverage.</p><ul><li><strong>Website</strong>: <a href="https://tinybase.org">https://tinybase.org</a></li><li><strong>Repository</strong>: <a href="https://github.com/tinyplex/tinybase">https://github.com/tinyplex/tinybase</a></li><li><strong><a href="/guides/how-tinybase-is-built/documentation/">Documentation</a></strong>: <a href="https://tinybase.org/api/">https://tinybase.org/api/</a></li><li><strong>License</strong>: MIT</li><li><strong>Author</strong>: James Pearce (@jamesgpearce)</li></ul><h3 id="core-concepts">Core Concepts</h3><h4 id="data-store">Data <a href="/api/the-essentials/creating-stores/store/"><code>Store</code></a></h4><p>TinyBase provides two types of data structures:</p><ul><li><strong><a href="/api/store/type-aliases/store/tables/"><code>Tables</code></a></strong>: Tabular data organized as <a href="/api/store/type-aliases/store/table/"><code>Table</code></a> → <a href="/api/store/type-aliases/store/row/"><code>Row</code></a> → <a href="/api/store/type-aliases/store/cell/"><code>Cell</code></a> (similar to relational databases)</li><li><strong><a href="/api/store/type-aliases/store/values/"><code>Values</code></a></strong>: Simple key-value pairs for application state</li></ul><p>Both can coexist in the same <a href="/api/the-essentials/creating-stores/store/"><code>Store</code></a> and support optional schemas with type enforcement.</p><h4 id="reactivity">Reactivity</h4><p>The library implements a fine-grained reactive system where you can listen to changes at any level:</p><ul><li>Entire store changes</li><li><a href="/api/store/type-aliases/store/table/"><code>Table</code></a>/value additions or removals</li><li><a href="/api/store/type-aliases/store/row/"><code>Row</code></a> changes within a table</li><li>Individual cell or value changes</li></ul><p>Listeners fire automatically when data changes, enabling efficient UI updates that only re-render affected components.</p><h4 id="synchronization"><a href="/guides/synchronization/">Synchronization</a></h4><p>TinyBase includes native CRDT (Conflict-free Replicated Data Type) support via the <a href="/api/mergeable-store/interfaces/mergeable/mergeablestore/"><code>MergeableStore</code></a>, allowing deterministic synchronization across multiple clients and servers using Hybrid Logical Clocks for causality tracking.</p><h3 id="key-features">Key Features</h3><h4 id="data-management">Data Management</h4><ul><li><strong><a href="/guides/schemas/">Schemas</a></strong>: Optional TypeScript-inferred schemas for type safety</li><li><strong><a href="/api/indexes/interfaces/indexes/indexes/"><code>Indexes</code></a></strong>: Fast lookups by cell values with slice-based grouping</li><li><strong><a href="/api/queries/interfaces/queries/queries/"><code>Queries</code></a></strong>: SQL-like query engine (select, join, filter, group) without actual SQL</li><li><strong><a href="/api/relationships/interfaces/relationships/relationships/"><code>Relationships</code></a></strong>: Define foreign-key relationships between tables</li><li><strong><a href="/api/metrics/interfaces/metrics/metrics/"><code>Metrics</code></a></strong>: Built-in aggregations (sum, avg, min, max)</li><li><strong><a href="/api/checkpoints/interfaces/checkpoints/checkpoints/"><code>Checkpoints</code></a></strong>: Undo/redo functionality with branching support</li></ul><h4 id="persistence"><a href="/guides/persistence/">Persistence</a></h4><p>Multiple storage backends supported via Persisters:</p><ul><li><strong>Browser</strong>: LocalStorage, SessionStorage, IndexedDB, OPFS</li><li><strong>Databases</strong>: SQLite (Bun, WASM, sqlite3), PostgreSQL, PGlite, Turso (libSQL)</li><li><strong>Third-party</strong>: ElectricSQL, PowerSync, CR-SQLite</li><li><strong>Cloud</strong>: PartyKit, <a href="/guides/integrations/cloudflare-durable-objects/">Cloudflare Durable Objects</a></li><li><strong>Files</strong>: Node.js file system</li><li><strong>CRDT</strong>: Yjs, Automerge integration</li><li><strong>React Native</strong>: MMKV, SQLite</li></ul><h4 id="synchronization"><a href="/guides/synchronization/">Synchronization</a></h4><p>Synchronizers enable real-time data sync:</p><ul><li>WebSocket (client and server)</li><li>BroadcastChannel (same-origin tabs)</li><li>Local (in-memory for testing)</li><li>Custom transports (extensible)</li></ul><h4 id="react-integration">React Integration</h4><p>Optional <code>ui-react</code> module provides:</p><ul><li><strong>Hooks</strong>: <code>useCell</code>, <code>useRow</code>, <code>useTable</code>, <code>useTables</code>, <code>useValue</code>, etc.</li><li><strong>Components</strong>: Pre-built reactive views for data rendering</li><li><strong>Context</strong>: Multi-store support with ID-based contexts</li><li><strong>DOM Components</strong>: <code>ui-react-dom</code> with interactive tables</li><li><strong>Inspector</strong>: Developer tools overlay for debugging</li></ul><h3 id="architecture"><a href="/guides/how-tinybase-is-built/architecture/">Architecture</a></h3><h4 id="modular-design">Modular Design</h4><p>TinyBase uses a modular architecture where each feature is an independent module that can be imported separately:</p><pre><code>tinybase              # Core store module
tinybase/indexes      # Indexing
tinybase/queries      # Query engine
tinybase/relationships # Relationships
tinybase/metrics      # Aggregations
tinybase/checkpoints  # Undo/redo
tinybase/mergeable-store # CRDT support
tinybase/persisters/persister-* # Storage backends
tinybase/synchronizers/synchronizer-* # Sync transports
tinybase/ui-react     # React hooks
tinybase/ui-react-dom # React DOM components
tinybase/ui-react-inspector # DevTools
</code></pre><h4 id="type-system">Type System</h4><p>Strong TypeScript support with:</p><ul><li>Generic types that infer from schemas</li><li>Conditional types for schema-aware APIs</li><li>Mapped types for compile-time validation</li><li>Type-safe hooks and components</li></ul><h4 id="build-system">Build System</h4><ul><li><strong>Gulp</strong>: Build orchestration</li><li><strong>TypeScript</strong>: Source language with strict mode</li><li><strong>Rollup</strong>: Bundling (implied)</li><li><strong>ESM</strong>: Primary module format</li><li><strong>Tree-shaking</strong>: Aggressive optimization for minimal bundles</li></ul><h3 id="development">Development</h3><h4 id="prerequisites">Prerequisites</h4><ul><li>Node.js &gt;= 23.10.0</li><li>npm &gt;= 10.9.2</li></ul><h4 id="setup">Setup</h4><pre><code><span class="function">git</span> clone https://github.com/tinyplex/tinybase.git
<span class="builtin">cd</span> tinybase
<span class="function">npm</span> <span class="function">install</span>
</code></pre><h4 id="common-commands">Common Commands</h4><pre><code><span class="function">npm</span> run compileAndTestUnit  <span class="comment"># Compile and run unit tests</span>
<span class="function">npm</span> run testUnitFast        <span class="comment"># Quick test iteration</span>
<span class="function">npm</span> run lint                <span class="comment"># Run ESLint</span>
<span class="function">npm</span> run spell               <span class="comment"># Spell check</span>
<span class="function">npm</span> run preCommit           <span class="comment"># Full pre-commit check</span>
<span class="function">npm</span> run compileDocs         <span class="comment"># Generate API documentation</span>
<span class="function">npm</span> run serveDocs           <span class="comment"># Preview documentation locally</span>
</code></pre><h4 id="testing"><a href="/guides/how-tinybase-is-built/testing/">Testing</a></h4><ul><li><strong>Framework</strong>: Vitest</li><li><strong>Coverage</strong>: 100% required (enforced)</li><li><strong>Types</strong>: Unit, performance, end-to-end, production</li><li><strong>Environment</strong>: happy-dom (unit), puppeteer (e2e)</li></ul><h4 id="code-style">Code Style</h4><ul><li><strong>ESLint</strong>: Enforced with strict rules</li><li><strong>Prettier</strong>: Automatic formatting</li><li><strong>Max line length</strong>: 80 characters</li><li><strong>Quotes</strong>: Single quotes (template literals allowed)</li><li><strong>Semicolons</strong>: Required</li><li><strong>Object spacing</strong>: No spaces in braces <code>{key: value}</code></li></ul><h3 id="project-structure">Project Structure</h3><pre><code>tinybase/
├── src/                    # Source code
│   ├── @types/            # TypeScript declarations
│   ├── store/             # Core store implementation
│   ├── indexes/           # Indexing module
│   ├── queries/           # Query engine
│   ├── relationships/     # Relationships module
│   ├── metrics/           # Metrics module
│   ├── checkpoints/       # Checkpoints module
│   ├── mergeable-store/   # CRDT implementation
│   ├── persisters/        # Storage backends
│   ├── synchronizers/     # Sync transports
│   ├── ui-react/          # React hooks
│   ├── ui-react-dom/      # React DOM components
│   ├── ui-react-inspector/ # DevTools
│   └── common/            # Shared utilities
├── test/                  # Tests
│   ├── unit/             # Unit tests
│   ├── perf/             # Performance tests
│   ├── e2e/              # End-to-end tests
│   └── prod/             # Production build tests
├── docs/                  # Generated documentation
├── dist/                  # Build output
├── site/                  # Documentation site source
├── gulpfile.mjs          # Build configuration
├── vitest.config.ts      # Test configuration
├── eslint.config.js      # Linting rules
└── tsconfig.json         # TypeScript config
</code></pre><h3 id="contributing">Contributing</h3><p>Contributions are welcome! This is a spare-time project, so response times may vary.</p><p><strong>Requirements</strong>:</p><ol><li>Follow the Prettier and ESLint configurations</li><li>Maintain 100% test coverage</li><li>Update documentation for API changes</li><li>Add examples for new features</li></ol><p><strong>Process</strong>:</p><ol><li>Fork the repository</li><li>Create a feature branch</li><li>Make your changes with tests</li><li>Run <code>npm run preCommit</code> to verify</li><li>Submit a pull request</li></ol><p>See <a href="CONTRIBUTING.md">CONTRIBUTING.md</a> for details.</p><h3 id="community">Community</h3><ul><li><strong>Discord</strong>: <a href="https://discord.com/invite/mGz3mevwP8">https://discord.com/invite/mGz3mevwP8</a></li><li><strong>Discussions</strong>: <a href="https://github.com/tinyplex/tinybase/discussions">https://github.com/tinyplex/tinybase/discussions</a></li><li><strong>Issues</strong>: <a href="https://github.com/tinyplex/tinybase/issues">https://github.com/tinyplex/tinybase/issues</a></li><li><strong>Bluesky</strong>: <a href="https://bsky.app/profile/tinybase.bsky.social">https://bsky.app/profile/tinybase.bsky.social</a></li><li><strong>Twitter/X</strong>: <a href="https://x.com/tinybasejs">https://x.com/tinybasejs</a></li></ul><h3 id="use-cases">Use Cases</h3><p>TinyBase is ideal for:</p><ul><li><strong>Local-first applications</strong>: Apps that work offline and sync later</li><li><strong>Real-time collaboration</strong>: Multi-user applications with CRDT sync</li><li><strong>Reactive UIs</strong>: Applications requiring fine-grained reactivity</li><li><strong>Mobile apps</strong>: React Native apps with local storage</li><li><strong>Edge computing</strong>: Cloudflare Workers, Durable Objects</li><li><strong>Progressive Web Apps</strong>: Offline-capable web applications</li><li><strong>Games</strong>: Real-time state management with undo/redo</li><li><strong>Data dashboards</strong>: Reactive data visualization</li></ul><h3 id="performance">Performance</h3><ul><li>Tiny bundle sizes (5.3kB - 11.7kB depending on features)</li><li>Zero runtime dependencies</li><li>Efficient change detection and listener notification</li><li>Memory pooling for ID generation</li><li>Tree-shakeable modular design</li><li>Optimized for bundle size and runtime performance</li></ul><h3 id="related-projects">Related Projects</h3><ul><li><strong>Synclets</strong>: Generic synchronization library (<a href="https://synclets.org">https://synclets.org</a>)</li><li><strong>TinyWidgets</strong>: Widget toolkit built on TinyBase (<a href="https://tinywidgets.org">https://tinywidgets.org</a>)</li><li><strong>TinyTick</strong>: Reactive ticker tape component (<a href="https://tinytick.org">https://tinytick.org</a>)</li></ul><h3 id="license">License</h3><p>MIT License - see <a href="LICENSE">LICENSE</a> file for details.</p><hr><p><strong>Note for AI Agents</strong>: TinyBase uses unique patterns including utility function wrappers (e.g., <code>arrayForEach</code>, <code>mapGet</code>, <code>objHas</code>) instead of native methods for consistency and tree-shaking. Always use factory functions (<code>createStore</code>, <code>createIndexes</code>, etc.) with builder pattern chaining. Maintain 100% test coverage and follow the strict 80-character line length. See <code>.github/copilot-instructions.md</code> for detailed coding patterns.</p><h3 id="documentation-system"><a href="/guides/how-tinybase-is-built/documentation/">Documentation</a> System</h3><p>TinyBase has a sophisticated documentation system that generates the website from source code and markdown files.</p><h4 id="documentation-structure"><a href="/guides/how-tinybase-is-built/documentation/">Documentation</a> Structure</h4><ol><li><p><strong>Type Definitions (<code>src/@types/*/</code>)</strong>: TypeScript <code>.d.ts</code> files contain the API type definitions. <strong>Never add comments directly to <code>.d.ts</code> files</strong>.</p></li><li><p><strong><a href="/guides/how-tinybase-is-built/documentation/">Documentation</a> Files (<code>src/@types/*/docs.js</code>)</strong>: Companion <code>docs.js</code> files sit alongside <code>.d.ts</code> files. Use <code>///</code> convention to document types and functions. These are stitched together at build time to generate documentation.</p></li><li><p><strong>Guide Files (<code>site/guides/*/*.md</code>)</strong>: Markdown files in the <code>site/guides/</code> directory, organized by topic (basics, schemas, persistence, etc.). These are source files for guides on the website.</p></li><li><p><strong>Generated Files</strong>: <code>/releases.md</code> and <code>/readme.md</code> in the root are <strong>GENERATED</strong> from <code>/site/guides/16_releases.md</code> and <code>/site/home/index.md</code>. <strong>Never edit the generated files directly</strong>.</p></li></ol><h4 id="documentation-testing"><a href="/guides/how-tinybase-is-built/documentation/">Documentation</a> <a href="/guides/how-tinybase-is-built/testing/">Testing</a></h4><p>TinyBase has automated tests that validate all inline code examples in documentation:</p><pre><code>npx vitest run ./test/unit/documentation.test.ts <span class="parameter">--retry</span><span class="operator">=</span><span class="number">0</span>
</code></pre><p><strong>How it works</strong>:</p><ul><li>Extracts all code blocks from markdown files and <code>docs.js</code> files</li><li>Concatenates all examples from each file together</li><li>Parses and executes them to ensure they work</li><li>This means examples in the same file share scope</li></ul><p><strong>Critical constraints</strong>:</p><ul><li>Don&#x27;t redeclare variables across examples in the same file</li><li>First example can declare <code>const store = [</code>createStore<code>](/api/the-essentials/creating-stores/createstore/)()</code>, subsequent examples reuse it</li><li>Include necessary imports in examples that use them</li><li>Avoid async operations in examples unless necessary</li><li>Keep examples simple and focused</li></ul><p><strong>Common pitfalls</strong>:</p><ul><li>❌ Declaring <code>const store</code> multiple times in the same file</li><li>❌ Using undefined functions (forgot import statement)</li><li>✅ First example: <code>const store = [</code>createStore<code>](/api/the-essentials/creating-stores/createstore/)()</code></li><li>✅ Later examples: <code>store.setCell(...)</code> (reuses existing store)</li></ul><h4 id="adding-new-documentation">Adding New <a href="/guides/how-tinybase-is-built/documentation/">Documentation</a></h4><ol><li><strong>API <a href="/guides/how-tinybase-is-built/documentation/">Documentation</a></strong>: Edit <code>docs.js</code> file next to the type definition</li><li><strong>Guide <a href="/api/store/type-aliases/store/content/"><code>Content</code></a></strong>: Edit markdown files in <code>/site/guides/</code></li><li><strong>Release Notes</strong>: Edit <code>/site/guides/16_releases.md</code> (not <code>/releases.md</code>)</li><li><strong>Always run documentation tests</strong> after changes to verify examples work</li></ol><h3 id="creating-new-schematizers">Creating New Schematizers</h3><p>Schematizers convert external schema validation libraries (like Zod) to TinyBase schemas. Follow this pattern:</p><h4 id="module-structure">Module Structure</h4><pre><code>src/@types/schematizers/schematizer-{library}/
  index.d.ts           # Type definitions
  docs.js              # Documentation
  with-schemas/
    index.d.ts         # Re-exports for schema-aware variants
src/schematizers/schematizer-{library}/
  index.ts             # Implementation
</code></pre><h4 id="factory-pattern">Factory Pattern</h4><pre><code><span class="keyword">export</span> <span class="keyword">const</span> createZodSchematizer<span class="operator">:</span> <span class="keyword">typeof</span> <span class="function-variable">createZodSchematizerDecl</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">{</span>
  <span class="keyword">const</span> toTablesSchema <span class="operator">=</span> <span class="punctuation">(</span>schemas<span class="operator">:</span> <span class="punctuation">{</span><span class="punctuation">[</span>tableId<span class="operator">:</span> <span class="builtin">string</span><span class="punctuation">]</span><span class="operator">:</span> <span class="builtin">any</span><span class="punctuation">}</span><span class="punctuation">)</span><span class="operator">:</span> <span class="type"><a href="/api/store/type-aliases/schema/tablesschema/">TablesSchema</a></span> <span class="operator">=></span> <span class="punctuation">{</span>
    <span class="comment">// Best-effort conversion logic</span>
  <span class="punctuation">}</span><span class="punctuation">;</span>

  <span class="keyword">const</span> toValuesSchema <span class="operator">=</span> <span class="punctuation">(</span>schemas<span class="operator">:</span> <span class="punctuation">{</span><span class="punctuation">[</span>valueId<span class="operator">:</span> <span class="builtin">string</span><span class="punctuation">]</span><span class="operator">:</span> <span class="builtin">any</span><span class="punctuation">}</span><span class="punctuation">)</span><span class="operator">:</span> <span class="type"><a href="/api/store/type-aliases/schema/valuesschema/">ValuesSchema</a></span> <span class="operator">=></span> <span class="punctuation">{</span>
    <span class="comment">// Best-effort conversion logic</span>
  <span class="punctuation">}</span><span class="punctuation">;</span>

  <span class="keyword">return</span> <span class="function">objFreeze</span><span class="punctuation">(</span><span class="punctuation">{</span>
    toTablesSchema<span class="punctuation">,</span>
    toValuesSchema<span class="punctuation">,</span>
  <span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="punctuation">}</span><span class="punctuation">;</span>
</code></pre><h4 id="conversion-strategy">Conversion Strategy</h4><ul><li>Extract basic types only: <code>string</code>, <code>number</code>, <code>boolean</code></li><li>Handle defaults via schema introspection</li><li>Support nullable and optional modifiers</li><li><strong>Ignore</strong> complex types (arrays, objects, etc.) - they won&#x27;t appear in output</li><li>Use recursive unwrapping for wrapper types (e.g., <code>ZodOptional</code>, <code>ZodNullable</code>, <code>ZodDefault</code>)</li></ul><h4 id="implementation-idioms">Implementation Idioms</h4><ul><li>Use <code>objForEach</code> for iteration, not <code>for...in</code> loops</li><li>Use <code>ifNotUndefined</code> for conditional logic</li><li>Use <code>objIsEmpty</code> to filter out empty table schemas</li><li>Extract string constants to module-level (e.g., <code>TYPE</code>, <code>DEFAULT</code>, <code>ALLOW_NULL</code>)</li><li>Freeze the returned schematizer object with <code>objFreeze</code></li></ul><h4 id="example-conversion-logic">Example Conversion Logic</h4><pre><code><span class="keyword">const</span> unwrap <span class="operator">=</span> <span class="punctuation">(</span>
  schema<span class="operator">:</span> <span class="builtin">any</span><span class="punctuation">,</span>
  defaultValue<span class="operator">?</span><span class="operator">:</span> <span class="builtin">any</span><span class="punctuation">,</span>
  allowNull<span class="operator">?</span><span class="operator">:</span> <span class="builtin">boolean</span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="operator">:</span> <span class="punctuation">[</span><span class="builtin">any</span><span class="punctuation">,</span> <span class="builtin">any</span><span class="punctuation">,</span> <span class="builtin">boolean</span><span class="punctuation">]</span> <span class="operator">=></span> <span class="punctuation">{</span>
  <span class="keyword">const</span> typeName <span class="operator">=</span> schema<span class="punctuation">.</span>_def<span class="operator">?.</span>typeName<span class="punctuation">;</span>
  <span class="keyword">return</span> typeName <span class="operator">===</span> <span class="constant">ZOD_OPTIONAL</span>
    <span class="operator">?</span> <span class="function">unwrap</span><span class="punctuation">(</span>schema<span class="punctuation">.</span>_def<span class="punctuation">.</span>innerType<span class="punctuation">,</span> defaultValue<span class="punctuation">,</span> allowNull<span class="punctuation">)</span>
    <span class="operator">:</span> typeName <span class="operator">===</span> <span class="constant">ZOD_NULLABLE</span>
      <span class="operator">?</span> <span class="function">unwrap</span><span class="punctuation">(</span>schema<span class="punctuation">.</span>_def<span class="punctuation">.</span>innerType<span class="punctuation">,</span> defaultValue<span class="punctuation">,</span> <span class="boolean">true</span><span class="punctuation">)</span>
      <span class="operator">:</span> typeName <span class="operator">===</span> <span class="constant">ZOD_DEFAULT</span>
        <span class="operator">?</span> <span class="function">unwrap</span><span class="punctuation">(</span>schema<span class="punctuation">.</span>_def<span class="punctuation">.</span>innerType<span class="punctuation">,</span> schema<span class="punctuation">.</span>_def<span class="punctuation">.</span><span class="function">defaultValue</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">,</span> allowNull<span class="punctuation">)</span>
        <span class="operator">:</span> <span class="punctuation">[</span>schema<span class="punctuation">,</span> defaultValue<span class="punctuation">,</span> allowNull <span class="operator">??</span> <span class="boolean">false</span><span class="punctuation">]</span><span class="punctuation">;</span>
<span class="punctuation">}</span><span class="punctuation">;</span>
</code></pre><h4 id="build-configuration">Build Configuration</h4><ul><li>Add module to <code>ALL_MODULES</code> array in <code>gulpfile.mjs</code></li><li>Add peer dependency to <code>package.json</code> (marked as optional)</li><li>Add as dev dependency for testing</li></ul><h4 id="testing"><a href="/guides/how-tinybase-is-built/testing/">Testing</a></h4><ul><li>Create comprehensive test suite in <code>test/unit/schematizers/schematizer-{library}.test.ts</code></li><li>Test basic type conversion, defaults, nullable, optional</li><li>Test unsupported types are filtered out</li><li>Test integration with actual TinyBase stores</li><li>Inline schemas directly in test calls (no intermediate variables unless needed multiple times)</li></ul><h4 id="documentation-testing"><a href="/guides/how-tinybase-is-built/documentation/">Documentation</a> <a href="/guides/how-tinybase-is-built/testing/">Testing</a></h4><p>Add library import to <code>test/unit/documentation.test.ts</code>:</p><pre><code><span class="keyword">import</span> <span class="operator">*</span> <span class="keyword">as</span> z <span class="keyword">from</span> <span class="string">'zod'</span><span class="punctuation">;</span>
<span class="keyword">import</span> <span class="operator">*</span> <span class="keyword">as</span> TinyBaseSchematizersZod <span class="keyword">from</span> <span class="string">'tinybase/schematizers/schematizer-zod'</span><span class="punctuation">;</span>

<span class="punctuation">(</span>globalThis <span class="keyword">as</span> <span class="builtin">any</span><span class="punctuation">)</span><span class="punctuation">.</span>modules <span class="operator">=</span> <span class="punctuation">{</span>
  <span class="operator">...</span>
  <span class="string-property">'tinybase/schematizers/schematizer-zod'</span><span class="operator">:</span> TinyBaseSchematizersZod<span class="punctuation">,</span>
  zod<span class="operator">:</span> z<span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">;</span>
</code></pre><h3 id="guide-writing-best-practices">Guide Writing Best Practices</h3><h4 id="examples-run-sequentially">Examples Run Sequentially</h4><p>All code examples in a guide file are concatenated and executed as a test:</p><ul><li>Use unique variable names (<code>store</code>, <code>store2</code>, <code>store3</code>) to avoid redeclaration</li><li>First example includes all imports, later examples reuse them</li><li>Clean up between examples if needed (<code>store.[</code>delTables<code>](/api/store/interfaces/store/store/methods/deleter/deltables/)()</code>)</li></ul><h4 id="inline-simple-values">Inline Simple <a href="/api/store/type-aliases/store/values/"><code>Values</code></a></h4><ul><li>Prefer inline schemas/data in method calls over intermediate variables</li><li>Only extract to variables when used multiple times</li><li>Keeps examples concise and focused</li></ul><h4 id="guide-chains">Guide Chains</h4><ul><li>Each guide&#x27;s summary should link to the next guide in sequence</li><li>Pattern: &quot;For that we proceed to the [Next Topic] guide.&quot;</li><li>Creates a natural learning path</li></ul><h3 id="release-notes-updates">Release Notes Updates</h3><p>When adding a new feature:</p><ol><li><p><strong>Update <code>/site/guides/16_releases.md</code></strong> (NOT <code>/releases.md</code>):</p><ul><li>Add new version section at the top</li><li>Include working code example that will be tested</li><li>Link to relevant guide if applicable</li><li>Use past releases as template for structure</li></ul></li><li><p><strong>Update <code>/site/home/index.md</code></strong>:</p><ul><li>Update the &quot;NEW!&quot; link to point to new version: <code>&lt;a href=&#x27;/guides/releases/#v7-1&#x27;&gt;</code></li><li>Update the tagline: <code>&lt;span id=&quot;one-with&quot;&gt;&quot;The one with Schematizers!&quot;&lt;/span&gt;</code></li></ul></li><li><p><strong>Generated files update automatically</strong> during build process</p></li></ol></section>