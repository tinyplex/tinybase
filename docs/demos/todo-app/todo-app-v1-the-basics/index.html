<!DOCTYPE html><html lang="en"><head><link rel="dns-prefetch" href="https://www.googletagmanager.com/"><link href="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ" rel="preload" as="script"><link rel="preload" as="font" href="/fonts/inter.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/inconsolata.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/icons.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/shantell.woff2" type="font/woff2" crossorigin="anonymous"><title>Todo App v1 (the basics) | TinyBase</title><meta name="description" content="In this demo, we build a minimum viable &#x27;Todo&#x27; app. It uses React and a simple Store to let people add new todos and then mark them as done."><meta property="og:type" content="website"><meta property="og:title" content="Todo App v1 (the basics) | TinyBase"><meta property="og:description" content="In this demo, we build a minimum viable &#x27;Todo&#x27; app. It uses React and a simple Store to let people add new todos and then mark them as done."><meta property="og:url" content="https://beta.tinybase.org/demos/todo-app/todo-app-v1-the-basics/"><meta property="og:image" content="https://beta.tinybase.org/favicon_pad.png"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Todo App v1 (the basics) | TinyBase"><meta name="twitter:description" content="In this demo, we build a minimum viable &#x27;Todo&#x27; app. It uses React and a simple Store to let people add new todos and then mark them as done."><meta name="twitter:site" content="@tinybasejs"><meta name="twitter:image" content="https://beta.tinybase.org/favicon_pad.png"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="stylesheet" href="/css/index.css"><link rel="canonical" href="https://beta.tinybase.org/demos/todo-app/todo-app-v1-the-basics/"><script src="/js/app.js"></script></head><body><header><a href="/"><img src="/favicon.svg" alt="TinyBase logo"><span>TinyBase <em title="5.0.0-beta.22">Î²</em></span></a><nav><ul><li><a href="/guides/">Guides</a></li><li><a href="/demos/">Demos</a></li><li><a href="/api/">API</a></li><li><a href="https://github.com/tinyplex/tinybase">GitHub</a></li></ul></nav><span id="dark"></span></header><main><nav><ul><li id="root" class="parent open"><span></span><a href="/">TinyBase</a><ul><li id="G" class="parent"><span></span><a href="/guides/">Guides</a></li><li id="D2" class="parent open"><span></span><a href="/demos/">Demos</a><ul><li id="HW" class="parent"><span></span><a href="/demos/hello-world/">Hello World</a></li><li id="RD" class="parent"><span></span><a href="/demos/rolling-dice/">Rolling Dice</a></li><li id="C2"><span></span><a href="/demos/countries/">Countries</a></li><li id="TA" class="parent open"><span></span><a href="/demos/todo-app/">Todo App</a><ul><li id="TA2" class="current"><span></span><a href="/demos/todo-app/todo-app-v1-the-basics/">Todo App v1 (the basics)</a></li><li id="TA3"><span></span><a href="/demos/todo-app/todo-app-v2-indexes/">Todo App v2 (indexes)</a></li><li id="TA4"><span></span><a href="/demos/todo-app/todo-app-v3-persistence/">Todo App v3 (persistence)</a></li><li id="TA5"><span></span><a href="/demos/todo-app/todo-app-v4-metrics/">Todo App v4 (metrics)</a></li><li id="TA6"><span></span><a href="/demos/todo-app/todo-app-v5-checkpoints/">Todo App v5 (checkpoints)</a></li><li id="TA7"><span></span><a href="/demos/todo-app/todo-app-v6-collaboration/">Todo App v6 (collaboration)</a></li></ul></li><li id="D3"><span></span><a href="/demos/drawing/">Drawing</a></li><li id="CD"><span></span><a href="/demos/city-database/">City Database</a></li><li id="CA"><span></span><a href="/demos/car-analysis/">Car Analysis</a></li><li id="MD"><span></span><a href="/demos/movie-database/">Movie Database</a></li><li id="WF"><span></span><a href="/demos/word-frequencies/">Word Frequencies</a></li><li id="UIC" class="parent"><span></span><a href="/demos/ui-components/">UI Components</a></li></ul></li><li id="api" class="parent"><span></span><a href="/api/">API</a></li></ul></li></ul></nav><article><nav><ul><li><a href="/">TinyBase</a></li><li><a href="/demos/">Demos</a></li><li><a href="/demos/todo-app/">Todo App</a></li><li><a href="/demos/todo-app/todo-app-v1-the-basics/">Todo App v1 (the basics)</a></li></ul></nav><section class="s1" id="/demos/todo-app/todo-app-v1-the-basics/" data-id="TA2"><h1>Todo App v1 (the basics)</h1><iframe srcdoc="&lt;html&gt;&lt;head&gt;&lt;script src=&quot;/umd/react.production.min.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;/umd/react-dom.production.min.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;/umd/tinybase/index.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;/umd/tinybase/ui-react/index.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;/umd/tinybase/ui-react-inspector/index.js&quot;&gt;&lt;/script&gt;&lt;style&gt;@font-face{font-family:Inter;src:url(https://tinybase.org/fonts/inter.woff2) format(&#x27;woff2&#x27;)}body{display:grid;grid-template-columns:35% minmax(0,1fr);grid-template-rows:auto 1fr;box-sizing:border-box;font-family:Inter,sans-serif;letter-spacing:-.04rem;grid-gap:1rem .5rem;margin:0;min-height:100vh;padding:1rem}body *{box-sizing:border-box;outline-color:#d81b60}#newTodo{border:1px solid #ccc;display:block;font:inherit;letter-spacing:inherit;padding:.5rem;width:100%}#todos{grid-column:2;margin:0;padding:0}#todos .todo{background:#fff;border:1px solid #ccc;display:flex;margin-bottom:.5rem;padding:.5rem}#todos .todo .text{cursor:pointer;flex:1;overflow:hidden;text-overflow:ellipsis;user-select:none;white-space:nowrap}#todos .todo .text::before{content:&#x27;\1F7E0&#x27;;padding:0 .5rem 0 .25rem}#todos .todo .text.done{color:#ccc}#todos .todo .text.done::before{content:&#x27;\2705&#x27;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;script&gt;(()=&gt;{let n=React[&quot;createElement&quot;],t=TinyBase[&quot;createStore&quot;],{CellView:d,Provider:l,TableView:e,useAddRowCallback:a,useCell:r,useCreateStore:o,useSetCellCallback:s}=TinyBaseUiReact,{useCallback:u,useState:c}=React,i=TinyBaseUiReactInspector[&quot;Inspector&quot;],w={todos:{0:{text:&quot;Clean the floor&quot;},1:{text:&quot;Install TinyBase&quot;},2:{text:&quot;Book holiday&quot;}}},C=()=&gt;{var e=o(()=&gt;t().setTables(w));return n(l,{store:e},n(b,null),n(I,null),n(T,null),n(i,null))},b=(window.addEventListener(&quot;load&quot;,()=&gt;ReactDOM.createRoot(document.body).render(n(C,null))),()=&gt;&quot;Todos&quot;),I=()=&gt;{let[e,t]=c(&quot;&quot;),l=u(({target:{value:e}})=&gt;t(e),[]),o=a(&quot;todos&quot;,({which:e,target:{value:t}})=&gt;13==e&amp;&amp;&quot;&quot;!=t?{text:t}:null,[],void 0,()=&gt;t(&quot;&quot;),[t]);return n(&quot;input&quot;,{id:&quot;newTodo&quot;,onChange:l,onKeyDown:o,placeholder:&quot;New Todo&quot;,value:e})},T=()=&gt;n(&quot;ul&quot;,{id:&quot;todos&quot;},n(e,{tableId:&quot;todos&quot;,rowComponent:v})),v=e=&gt;n(&quot;li&quot;,{className:&quot;todo&quot;},n(y,{...e})),y=({tableId:e,rowId:t})=&gt;{let l=r(e,t,&quot;done&quot;),o=&quot;text&quot;+(l?&quot; done&quot;:&quot;&quot;),a=s(e,t,&quot;done&quot;,()=&gt;!l,[l]);return n(&quot;span&quot;,{className:o,onClick:a},n(d,{tableId:e,rowId:t,cellId:&quot;text&quot;}))}})()&lt;/script&gt;&lt;/html&gt;"></iframe><p>In this demo, we build a minimum viable &#x27;Todo&#x27; app. It uses React and a simple <a href="/api/store/interfaces/store/store/"><code>Store</code></a> to let people add new todos and then mark them as done.</p><h3 id="initialization">Initialization</h3><p>First, we pull in React, ReactDOM, and <a href="/">TinyBase</a>:</p><pre><code><span class="tag"><span class="tag"><span class="punctuation">&lt;</span>script</span> <span class="attr-name">src</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>/umd/react.production.min.js<span class="punctuation">"</span></span><span class="punctuation">></span></span><span class="script"></span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span>script</span><span class="punctuation">></span></span>
<span class="tag"><span class="tag"><span class="punctuation">&lt;</span>script</span> <span class="attr-name">src</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>/umd/react-dom.production.min.js<span class="punctuation">"</span></span><span class="punctuation">></span></span><span class="script"></span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span>script</span><span class="punctuation">></span></span>
<span class="tag"><span class="tag"><span class="punctuation">&lt;</span>script</span> <span class="attr-name">src</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>/umd/tinybase/index.js<span class="punctuation">"</span></span><span class="punctuation">></span></span><span class="script"></span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span>script</span><span class="punctuation">></span></span>
<span class="tag"><span class="tag"><span class="punctuation">&lt;</span>script</span> <span class="attr-name">src</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>/umd/tinybase/ui-react/index.js<span class="punctuation">"</span></span><span class="punctuation">></span></span><span class="script"></span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span>script</span><span class="punctuation">></span></span>
<span class="tag"><span class="tag"><span class="punctuation">&lt;</span>script</span> <span class="attr-name">src</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>/umd/tinybase/ui-react-inspector/index.js<span class="punctuation">"</span></span><span class="punctuation">></span></span><span class="script"></span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span>script</span><span class="punctuation">></span></span>
</code></pre><p>We&#x27;re using the <a href="/api/ui-react-inspector/functions/development-components/inspector/"><code>Inspector</code></a> component for the purposes of seeing how the data is structured.</p><p>We import the functions and components we need:</p><pre><code><span class="keyword">const</span> <span class="punctuation">{</span>createStore<span class="punctuation">}</span> <span class="operator">=</span> TinyBase<span class="punctuation">;</span>
<span class="keyword">const</span> <span class="punctuation">{</span>
  CellView<span class="punctuation">,</span>
  Provider<span class="punctuation">,</span>
  TableView<span class="punctuation">,</span>
  useAddRowCallback<span class="punctuation">,</span>
  useCell<span class="punctuation">,</span>
  useCreateStore<span class="punctuation">,</span>
  useSetCellCallback<span class="punctuation">,</span>
<span class="punctuation">}</span> <span class="operator">=</span> TinyBaseUiReact<span class="punctuation">;</span>
<span class="keyword">const</span> <span class="punctuation">{</span>useCallback<span class="punctuation">,</span> useState<span class="punctuation">}</span> <span class="operator">=</span> React<span class="punctuation">;</span>
<span class="keyword">const</span> <span class="punctuation">{</span>Inspector<span class="punctuation">}</span> <span class="operator">=</span> TinyBaseUiReactInspector<span class="punctuation">;</span>
</code></pre><p>In this demo, we&#x27;ll start with some sample data. We&#x27;ll have a single <a href="/api/store/type-aliases/store/table/"><code>Table</code></a>, called <code>todos</code>, that has three <a href="/api/store/type-aliases/store/row/"><code>Row</code></a> entries, each representing one todo:</p><pre><code><span class="keyword">const</span> <span class="constant">INITIAL_TODOS</span> <span class="operator">=</span> <span class="punctuation">{</span>
  <span class="literal-property">todos</span><span class="operator">:</span> <span class="punctuation">{</span>
    <span class="number">0</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">text</span><span class="operator">:</span> <span class="string">'Clean the floor'</span><span class="punctuation">}</span><span class="punctuation">,</span>
    <span class="number">1</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">text</span><span class="operator">:</span> <span class="string">'Install TinyBase'</span><span class="punctuation">}</span><span class="punctuation">,</span>
    <span class="number">2</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">text</span><span class="operator">:</span> <span class="string">'Book holiday'</span><span class="punctuation">}</span><span class="punctuation">,</span>
  <span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">;</span>
</code></pre><h3 id="the-top-level-app-component">The Top-Level <code>App</code> Component</h3><p>We have a top-level <code>App</code> component, in which we create our <a href="/api/store/interfaces/store/store/"><code>Store</code></a> object with the sample data, and render the parts of the app. We use the <a href="/api/ui-react/functions/store-hooks/usecreatestore/"><code>useCreateStore</code></a> hook, since it provides memoization in case the component is rendered more than once.</p><p>We <em>could</em> drill the <a href="/api/store/interfaces/store/store/"><code>Store</code></a> object as a React prop down to all the components, but for clarity we wrap our app with the <a href="/api/ui-react/functions/context-components/provider/"><code>Provider</code></a> component, which then makes it available throughout our app as the default <a href="/api/store/interfaces/store/store/"><code>Store</code></a> object:</p><pre><code><span class="keyword">const</span> <span class="function-variable">App</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">{</span>
  <span class="keyword">const</span> store <span class="operator">=</span> <span class="function"><a href="/api/ui-react/functions/store-hooks/usecreatestore/">useCreateStore</a></span><span class="punctuation">(</span><span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="function"><a href="/api/store/functions/creation/createstore/">createStore</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/settables/">setTables</a></span><span class="punctuation">(</span><span class="constant">INITIAL_TODOS</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>

  <span class="keyword">return</span> <span class="punctuation">(</span>
    <span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name"><a href="/api/ui-react/functions/context-components/provider/">Provider</a></span></span> <span class="attr-name">store</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>store<span class="punctuation">}</span></span><span class="punctuation">></span></span><span class="plain-text">
      </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name">Title</span></span> <span class="punctuation">/></span></span><span class="plain-text">
      </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name">NewTodo</span></span> <span class="punctuation">/></span></span><span class="plain-text">
      </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name">Todos</span></span> <span class="punctuation">/></span></span><span class="plain-text">
      </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name"><a href="/api/ui-react-inspector/functions/development-components/inspector/">Inspector</a></span></span> <span class="punctuation">/></span></span><span class="plain-text">
    </span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span><span class="class-name"><a href="/api/ui-react/functions/context-components/provider/">Provider</a></span></span><span class="punctuation">></span></span>
  <span class="punctuation">)</span><span class="punctuation">;</span>
<span class="punctuation">}</span><span class="punctuation">;</span>
</code></pre><p>We also added the <a href="/api/ui-react-inspector/functions/development-components/inspector/"><code>Inspector</code></a> component at the end there so you can inspect what is going on with the data during this demo. Simply click the <a href="/">TinyBase</a> logo in the corner.</p><p>The app only has three components: <code>Title</code>, <code>NewTodo</code> (a form to enter a new todo), and <code>Todos</code> (a list of all of the todos).</p><p>We use LESS to create a grid layout and some defaults for the app&#x27;s styling:</p><pre><code><span class="variable">@accentColor<span class="punctuation">:</span></span> #d81b60<span class="punctuation">;</span>
<span class="variable">@spacing<span class="punctuation">:</span></span> 0.5rem<span class="punctuation">;</span>
<span class="variable">@border<span class="punctuation">:</span></span> 1px solid #ccc<span class="punctuation">;</span>
<span class="atrule">@font-face</span> <span class="punctuation">{</span>
  <span class="property">font-family</span><span class="punctuation">:</span> Inter<span class="punctuation">;</span>
  <span class="property">src</span><span class="punctuation">:</span> <span class="url"><span class="function">url</span><span class="punctuation">(</span>https://tinybase.org/fonts/inter.woff2<span class="punctuation">)</span></span> <span class="function">format</span><span class="punctuation">(</span><span class="string">'woff2'</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="punctuation">}</span>

<span class="selector">body</span> <span class="punctuation">{</span>
  <span class="property">display</span><span class="punctuation">:</span> grid<span class="punctuation">;</span>
  <span class="property">grid-template-columns</span><span class="punctuation">:</span> 35% <span class="function">minmax</span><span class="punctuation">(</span>0<span class="punctuation">,</span> 1fr<span class="punctuation">)</span><span class="punctuation">;</span>
  <span class="property">grid-template-rows</span><span class="punctuation">:</span> auto 1fr<span class="punctuation">;</span>
  <span class="property">box-sizing</span><span class="punctuation">:</span> border<span class="operator">-</span>box<span class="punctuation">;</span>
  <span class="property">font-family</span><span class="punctuation">:</span> Inter<span class="punctuation">,</span> sans<span class="operator">-</span>serif<span class="punctuation">;</span>
  <span class="property">letter-spacing</span><span class="punctuation">:</span> <span class="operator">-</span>0.04rem<span class="punctuation">;</span>
  <span class="property">grid-gap</span><span class="punctuation">:</span> <span class="variable">@spacing</span> <span class="operator">*</span> 2 <span class="variable">@spacing</span><span class="punctuation">;</span>
  <span class="property">margin</span><span class="punctuation">:</span> 0<span class="punctuation">;</span>
  <span class="property">min-height</span><span class="punctuation">:</span> 100vh<span class="punctuation">;</span>
  <span class="property">padding</span><span class="punctuation">:</span> <span class="variable">@spacing</span> <span class="operator">*</span> 2<span class="punctuation">;</span>
  <span class="selector">*</span> <span class="punctuation">{</span>
    <span class="property">box-sizing</span><span class="punctuation">:</span> border<span class="operator">-</span>box<span class="punctuation">;</span>
    <span class="property">outline-color</span><span class="punctuation">:</span> <span class="variable">@accentColor</span><span class="punctuation">;</span>
  <span class="punctuation">}</span>
<span class="punctuation">}</span>
</code></pre><p>When the window loads, we render the <code>App</code> component to start the app:</p><pre><code>window<span class="punctuation">.</span><span class="function">addEventListener</span><span class="punctuation">(</span><span class="string">'load'</span><span class="punctuation">,</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span>
  ReactDOM<span class="punctuation">.</span><span class="function">createRoot</span><span class="punctuation">(</span>document<span class="punctuation">.</span>body<span class="punctuation">)</span><span class="punctuation">.</span><span class="function">render</span><span class="punctuation">(</span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name">App</span></span> <span class="punctuation">/></span></span><span class="punctuation">)</span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><p>Let&#x27;s look at each of three components that make up the app.</p><h3 id="the-title-component">The <code>Title</code> Component</h3><p>There&#x27;s not much to say about this component for now. It&#x27;s just the title for the app. We&#x27;ll do more with this later!</p><pre><code><span class="keyword">const</span> <span class="function-variable">Title</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="string">'Todos'</span><span class="punctuation">;</span>
</code></pre><h3 id="the-newtodo-component">The <code>NewTodo</code> Component</h3><p>This component lets the user add a new todo. It&#x27;s a standard managed <code>input</code> element that keeps the <code>text</code> of the input box in the component&#x27;s state, and also listens to key presses:</p><pre><code><span class="keyword">const</span> <span class="function-variable">NewTodo</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">{</span>
  <span class="keyword">const</span> <span class="punctuation">[</span>text<span class="punctuation">,</span> setText<span class="punctuation">]</span> <span class="operator">=</span> <span class="function">useState</span><span class="punctuation">(</span><span class="string">''</span><span class="punctuation">)</span><span class="punctuation">;</span>
  <span class="keyword">const</span> handleChange <span class="operator">=</span> <span class="function">useCallback</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="parameter"><span class="punctuation">{</span><span class="literal-property">target</span><span class="operator">:</span> <span class="punctuation">{</span>value<span class="punctuation">}</span><span class="punctuation">}</span></span><span class="punctuation">)</span> <span class="operator">=></span> <span class="function">setText</span><span class="punctuation">(</span>value<span class="punctuation">)</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">;</span>
  <span class="keyword">const</span> handleKeyDown <span class="operator">=</span> <span class="function"><a href="/api/ui-react/functions/store-hooks/useaddrowcallback/">useAddRowCallback</a></span><span class="punctuation">(</span>
    <span class="string">'todos'</span><span class="punctuation">,</span>
    <span class="punctuation">(</span><span class="parameter"><span class="punctuation">{</span>which<span class="punctuation">,</span> <span class="literal-property">target</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">value</span><span class="operator">:</span> text<span class="punctuation">}</span><span class="punctuation">}</span></span><span class="punctuation">)</span> <span class="operator">=></span>
      which <span class="operator">==</span> <span class="number">13</span> <span class="operator">&amp;&amp;</span> text <span class="operator">!=</span> <span class="string">''</span> <span class="operator">?</span> <span class="punctuation">{</span>text<span class="punctuation">}</span> <span class="operator">:</span> <span class="keyword">null</span><span class="punctuation">,</span>
    <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span>
    <span class="keyword">undefined</span><span class="punctuation">,</span>
    <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="function">setText</span><span class="punctuation">(</span><span class="string">''</span><span class="punctuation">)</span><span class="punctuation">,</span>
    <span class="punctuation">[</span>setText<span class="punctuation">]</span><span class="punctuation">,</span>
  <span class="punctuation">)</span><span class="punctuation">;</span>

  <span class="keyword">return</span> <span class="punctuation">(</span>
    <span class="tag"><span class="tag"><span class="punctuation">&lt;</span>input</span>
      <span class="attr-name">id</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>newTodo<span class="punctuation">"</span></span>
      <span class="attr-name">onChange</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>handleChange<span class="punctuation">}</span></span>
      <span class="attr-name">onKeyDown</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>handleKeyDown<span class="punctuation">}</span></span>
      <span class="attr-name">placeholder</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>New Todo<span class="punctuation">"</span></span>
      <span class="attr-name">value</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>text<span class="punctuation">}</span></span>
    <span class="punctuation">/></span></span>
  <span class="punctuation">)</span><span class="punctuation">;</span>
<span class="punctuation">}</span><span class="punctuation">;</span>
</code></pre><p>The <a href="/api/ui-react/functions/store-hooks/useaddrowcallback/"><code>useAddRowCallback</code></a> hook creates us a callback that is run whenever the user presses a key. This lets us check if the key pressed was the Return key, and if there&#x27;s some text in the input box. If so, it adds a new todo <a href="/api/store/type-aliases/store/row/"><code>Row</code></a> to the default <a href="/api/store/interfaces/store/store/"><code>Store</code></a> object and then resets the form.</p><p>As an aside, it may seem like the <a href="/api/ui-react/functions/store-hooks/useaddrowcallback/"><code>useAddRowCallback</code></a> hook has a lot of parameters, since we are providing two functions, each with their own lists of dependencies (which are used to memoize them). The first parameter is the <a href="/api/common/type-aliases/identity/id/"><code>Id</code></a> of the table to which we are adding a row. The second is the handler that takes the event and produces the new row to be added and the third parameter is the list of dependencies for that function (of which there are none). The fourth parameter would allow us to explicitly specify which <a href="/api/store/interfaces/store/store/"><code>Store</code></a> object to use, but <code>undefined</code> gives us the app-wide default. The fifth parameter is a &#x27;then&#x27; callback which will run after the row has been added (which is where we can reset the input field) and the sixth and final parameter is a list of dependencies for that (of which there is only one, the function used to do that setting of the input field text).</p><p>The input box also needs styling:</p><pre><code><span class="selector">#newTodo</span> <span class="punctuation">{</span>
  <span class="property">border</span><span class="punctuation">:</span> <span class="variable">@border</span><span class="punctuation">;</span>
  <span class="property">display</span><span class="punctuation">:</span> block<span class="punctuation">;</span>
  <span class="property">font</span><span class="punctuation">:</span> inherit<span class="punctuation">;</span>
  <span class="property">letter-spacing</span><span class="punctuation">:</span> inherit<span class="punctuation">;</span>
  <span class="property">padding</span><span class="punctuation">:</span> <span class="variable">@spacing</span><span class="punctuation">;</span>
  <span class="property">width</span><span class="punctuation">:</span> 100%<span class="punctuation">;</span>
<span class="punctuation">}</span>
</code></pre><h3 id="the-todos-component">The <code>Todos</code> Component</h3><p>To get the list of todos, we build a very simple component, comprising the <a href="/api/ui-react/functions/store-components/tableview/"><code>TableView</code></a> component right out of the box. We pass props to that component to indicate that we will be rendering each <a href="/api/store/type-aliases/store/row/"><code>Row</code></a> of the <code>todos</code> <a href="/api/store/type-aliases/store/table/"><code>Table</code></a>. Since we are not providing a <code>store</code> prop to the TableView, it will also use the default one from the <a href="/api/ui-react/functions/context-components/provider/"><code>Provider</code></a> component that we wrapped the whole app in:</p><pre><code><span class="keyword">const</span> <span class="function-variable">Todos</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">(</span>
  <span class="tag"><span class="tag"><span class="punctuation">&lt;</span>ul</span> <span class="attr-name">id</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>todos<span class="punctuation">"</span></span><span class="punctuation">></span></span><span class="plain-text">
    </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name"><a href="/api/ui-react/functions/store-components/tableview/">TableView</a></span></span> <span class="attr-name">tableId</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>todos<span class="punctuation">"</span></span> <span class="attr-name">rowComponent</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>Todo<span class="punctuation">}</span></span> <span class="punctuation">/></span></span><span class="plain-text">
  </span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span>ul</span><span class="punctuation">></span></span>
<span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><p>The final <code>rowComponent</code> prop for the <a href="/api/ui-react/functions/store-components/tableview/"><code>TableView</code></a> component allows us to specify how each <a href="/api/store/type-aliases/store/row/"><code>Row</code></a> is rendered. We will have our own <code>Todo</code> component (described below) to do this.</p><p>Finally, we style this part of the app and position it in the grid:</p><pre><code><span class="selector">#todos</span> <span class="punctuation">{</span>
  <span class="property">grid-column</span><span class="punctuation">:</span> 2<span class="punctuation">;</span>
  <span class="property">margin</span><span class="punctuation">:</span> 0<span class="punctuation">;</span>
  <span class="property">padding</span><span class="punctuation">:</span> 0<span class="punctuation">;</span>
<span class="punctuation">}</span>
</code></pre><h3 id="the-todo-component">The <code>Todo</code> Component</h3><p>This simple <code>Todo</code> component renders a simple <code>div</code> containing the todo&#x27;s <code>text</code> that toggles the <code>done</code> flag when clicked. Each <a href="/api/store/type-aliases/store/row/"><code>Row</code></a> has two fields: the todo&#x27;s <code>text</code> and an optional boolean indicating whether it is <code>done</code> that we get using the <a href="/api/ui-react/functions/store-hooks/usecell/"><code>useCell</code></a> hook.</p><p>We also create a simple <code>handleClick</code> callback that negates the <code>done</code> flag when the text is clicked:</p><pre><code><span class="keyword">const</span> <span class="function-variable">Todo</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="parameter">props</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">(</span>
  <span class="tag"><span class="tag"><span class="punctuation">&lt;</span>li</span> <span class="attr-name">className</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>todo<span class="punctuation">"</span></span><span class="punctuation">></span></span><span class="plain-text">
    </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name">TodoText</span></span> <span class="spread"><span class="punctuation">{</span><span class="operator">...</span>props<span class="punctuation">}</span></span> <span class="punctuation">/></span></span><span class="plain-text">
  </span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span>li</span><span class="punctuation">></span></span>
<span class="punctuation">)</span><span class="punctuation">;</span>

<span class="keyword">const</span> <span class="function-variable">TodoText</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="parameter"><span class="punctuation">{</span>tableId<span class="punctuation">,</span> rowId<span class="punctuation">}</span></span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">{</span>
  <span class="keyword">const</span> done <span class="operator">=</span> <span class="function"><a href="/api/ui-react/functions/store-hooks/usecell/">useCell</a></span><span class="punctuation">(</span>tableId<span class="punctuation">,</span> rowId<span class="punctuation">,</span> <span class="string">'done'</span><span class="punctuation">)</span><span class="punctuation">;</span>
  <span class="keyword">const</span> className <span class="operator">=</span> <span class="string">'text'</span> <span class="operator">+</span> <span class="punctuation">(</span>done <span class="operator">?</span> <span class="string">' done'</span> <span class="operator">:</span> <span class="string">''</span><span class="punctuation">)</span><span class="punctuation">;</span>
  <span class="keyword">const</span> handleClick <span class="operator">=</span> <span class="function"><a href="/api/ui-react/functions/store-hooks/usesetcellcallback/">useSetCellCallback</a></span><span class="punctuation">(</span>tableId<span class="punctuation">,</span> rowId<span class="punctuation">,</span> <span class="string">'done'</span><span class="punctuation">,</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="operator">!</span>done<span class="punctuation">,</span> <span class="punctuation">[</span>
    done<span class="punctuation">,</span>
  <span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">;</span>

  <span class="keyword">return</span> <span class="punctuation">(</span>
    <span class="tag"><span class="tag"><span class="punctuation">&lt;</span>span</span> <span class="attr-name">className</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>className<span class="punctuation">}</span></span> <span class="attr-name">onClick</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>handleClick<span class="punctuation">}</span></span><span class="punctuation">></span></span><span class="plain-text">
      </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name"><a href="/api/ui-react/functions/store-components/cellview/">CellView</a></span></span> <span class="attr-name">tableId</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>tableId<span class="punctuation">}</span></span> <span class="attr-name">rowId</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>rowId<span class="punctuation">}</span></span> <span class="attr-name">cellId</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>text<span class="punctuation">"</span></span> <span class="punctuation">/></span></span><span class="plain-text">
    </span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span>span</span><span class="punctuation">></span></span>
  <span class="punctuation">)</span><span class="punctuation">;</span>
<span class="punctuation">}</span><span class="punctuation">;</span>
</code></pre><p><strong>NB</strong>: The parent <a href="/api/ui-react/functions/store-components/tableview/"><code>TableView</code></a> component passes its <a href="/api/store/interfaces/store/store/"><code>Store</code></a> object as a prop to each of its <code>rowComponent</code> children (such as this <code>TodoText</code>). We could have used that prop here, but instead we&#x27;re using the <a href="/api/ui-react/functions/store-hooks/usesetcellcallback/"><code>useSetCellCallback</code></a> hook that will automatically get it from the <a href="/api/ui-react/functions/context-components/provider/"><code>Provider</code></a> component.</p><p>Finally, we style each of these todos, and use the <code>done</code> CSS class to strike through those that are completed:</p><pre><code><span class="selector">#todos .todo</span> <span class="punctuation">{</span>
  <span class="property">background</span><span class="punctuation">:</span> #fff<span class="punctuation">;</span>
  <span class="property">border</span><span class="punctuation">:</span> <span class="variable">@border</span><span class="punctuation">;</span>
  <span class="property">display</span><span class="punctuation">:</span> flex<span class="punctuation">;</span>
  <span class="property">margin-bottom</span><span class="punctuation">:</span> <span class="variable">@spacing</span><span class="punctuation">;</span>
  <span class="property">padding</span><span class="punctuation">:</span> <span class="variable">@spacing</span><span class="punctuation">;</span>
  <span class="selector">.text</span> <span class="punctuation">{</span>
    <span class="property">cursor</span><span class="punctuation">:</span> pointer<span class="punctuation">;</span>
    <span class="property">flex</span><span class="punctuation">:</span> 1<span class="punctuation">;</span>
    <span class="property">overflow</span><span class="punctuation">:</span> hidden<span class="punctuation">;</span>
    <span class="property">text-overflow</span><span class="punctuation">:</span> ellipsis<span class="punctuation">;</span>
    <span class="property">user-select</span><span class="punctuation">:</span> none<span class="punctuation">;</span>
    <span class="property">white-space</span><span class="punctuation">:</span> nowrap<span class="punctuation">;</span>
    <span class="selector">&amp;::before</span> <span class="punctuation">{</span>
      <span class="property">content</span><span class="punctuation">:</span> <span class="string">'\1F7E0'</span><span class="punctuation">;</span>
      <span class="property">padding</span><span class="punctuation">:</span> 0 0.5rem 0 0.25rem<span class="punctuation">;</span>
    <span class="punctuation">}</span>
    <span class="selector">&amp;.done</span> <span class="punctuation">{</span>
      <span class="property">color</span><span class="punctuation">:</span> #ccc<span class="punctuation">;</span>
      <span class="selector">&amp;::before</span> <span class="punctuation">{</span>
        <span class="property">content</span><span class="punctuation">:</span> <span class="string">'\2705'</span><span class="punctuation">;</span>
      <span class="punctuation">}</span>
    <span class="punctuation">}</span>
  <span class="punctuation">}</span>
<span class="punctuation">}</span>
</code></pre><h3 id="summary">Summary</h3><p>That&#x27;s it: a simple Todo app made from a handful of tiny components, and less than 100 lines of generously-formatted code.</p><p>Next, we will build a more complex viable &#x27;Todo&#x27; app. Please continue to the <a href="/demos/todo-app/todo-app-v2-indexes/">Todo App v2 (indexes)</a> demo.</p></section></article><aside></aside></main><footer><nav><a id="tw" href="https://twitter.com/tinybasejs" target="_blank">Twitter</a><a id="fb" href="https://facebook.com/tinybasejs" target="_blank">Facebook</a></nav><nav><a href="/">TinyBase 5.0.0-beta.22</a> Â© 2021- All Rights Reserved</nav></footer></body><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ"></script><script>window.dataLayer=window.dataLayer||[];function g(){dataLayer.push(arguments);}g('js',new Date());g('config','G-D1MGR8VRWJ');</script></html>