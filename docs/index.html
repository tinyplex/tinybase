<!DOCTYPE html><html lang="en"><head><link rel="dns-prefetch" href="https://www.googletagmanager.com/"><link href="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ" rel="preload" as="script"><link rel="preload" as="font" href="/fonts/inter.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/inconsolata.woff2" type="font/woff2" crossorigin="anonymous"><title>TinyBase</title><meta name="description" content="The reactive data store for local-first apps."><meta property="og:type" content="website"><meta property="og:title" content="TinyBase"><meta property="og:description" content="The reactive data store for local-first apps."><meta property="og:url" content="https://beta.tinybase.org/"><meta property="og:image" content="https://beta.tinybase.org/favicon_pad.png"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="TinyBase"><meta name="twitter:description" content="The reactive data store for local-first apps."><meta name="twitter:site" content="@tinybasejs"><meta name="twitter:image" content="https://beta.tinybase.org/favicon_pad.png"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="stylesheet" href="/css/index.css"><link rel="canonical" href="https://beta.tinybase.org/"><script src="/js/home.js"></script></head><body><header><a href="/"><img src="/favicon.svg" alt="TinyBase logo"><span>TinyBase <em title="3.2.0-beta.0">Î²</em></span></a><nav><ul><li><a href="/guides/">Guides</a></li><li><a href="/demos/">Demos</a></li><li><a href="/api/">API</a></li><li><a href="https://github.com/tinyplex/tinybase">GitHub</a></li></ul></nav><span id="dark"></span></header><main><article id="home"><em><img src="/favicon.svg" alt="Large TinyBase logo" width="100%" height="100%"></em><section id="hero"><h2 id="the-reactive-data-store-for-local-first-apps">The <em>reactive</em> data store for <span>local-first apps</span>.</h2><p>Modern apps deserve better. Why trade reactive user experiences to be able to use relational data? Why sacrifice store features for bundle size? And why should the cloud do all the work <a href="https://localfirstweb.dev/" target="_blank">anyway</a>?</p><p><em>TinyBase is a smart new way to structure your local app data:</em></p><ul><li>Manage <a href="#start-with-a-simple-key-value-store">key-value data</a> (<em>new!</em>), <a href="#level-up-to-use-tabular-data">tabular data</a> - or both - with optional <a href="#apply-schemas-to-tables-and-values">schematization</a> to model it.</li><li><a href="#register-listeners-at-any-granularity">Flexibly reactive</a> to reconciled updates, so your UI only spends cycles on the data that changes.</li><li><a href="#build-complex-queries-with-tinyql">Powerful query engine</a> to select, join, filter, group, sort and paginate data - reactively.</li><li><a href="#create-indexes-for-fast-lookups">Indexing</a>, <a href="#define-metrics-and-aggregations">metrics</a>, <a href="#configure-relationships-between-tables">relationships</a> - and even an <a href="#use-checkpoints-for-an-easy-undo-stack">undo stack</a> for your app state! - out of the box.</li><li>Easily <a href="#persist-data-to-browser-file-or-server">sync your data</a> to local or remote storage, and use <a href="#call-hooks-to-bind-to-data">idiomatic bindings</a> to your UI.</li><li><a href="#type-definitions-orm-like-apis">Type definitions &amp; ORM-like APIs</a> (<em>new!</em>), based on a schema or inferred from actual data.</li></ul><p><em>Tiny by name, tiny by nature</em>, TinyBase only costs <a href="#did-we-say-tiny">4.3kB - 8.8kB</a> when compressed, and has zero dependencies. And of course it&#x27;s <a href="#well-tested-and-documented">well tested</a>, <a href="/guides/the-basics/getting-started/">fully documented</a>, and <a href="https://github.com/tinyplex/tinybase">open source</a>. Other <a href="/guides/faq/">FAQs</a>?</p></section><p><a id="new" href="/guides/releases/#v3-1"><em>NEW!</em> v3.1 release</a></p><hr><p><a class="start" href="/guides/the-basics/getting-started/">Get started</a></p><p><a href="/demos/">Try the demos</a></p><p><a href="/api/store/interfaces/store/store/">Read the docs</a></p><hr><section><h3 id="proud-to-be-sponsored-by">Proud to be sponsored by:</h3><p><a href="https://github.com/expo" target="_blank"><img title="expo" src="https://github.com/expo.png?size=48" width="48" height="48"></a><a href="https://github.com/WonderPanda" target="_blank"><img title="WonderPanda" src="https://github.com/WonderPanda.png?size=48" width="48" height="48"></a><a href="https://github.com/arpitBhalla" target="_blank"><img title="arpitBhalla" src="https://github.com/arpitBhalla.png?size=48" width="48" height="48"></a></p></section><section><h3 id="excited-to-be-used-by">Excited to be used by:</h3><p><a href="https://github.com/brentvatne" target="_blank"><img title="brentvatne" src="https://github.com/brentvatne.png?size=48" width="48" height="48"></a><a href="https://github.com/circadian-risk" target="_blank"><img title="circadian-risk" src="https://github.com/circadian-risk.png?size=48" width="48" height="48"></a><a href="https://github.com/WonderPanda" target="_blank"><img title="WonderPanda" src="https://github.com/WonderPanda.png?size=48" width="48" height="48"></a><a href="https://github.com/miking-the-viking" target="_blank"><img title="miking-the-viking" src="https://github.com/miking-the-viking.png?size=48" width="48" height="48"></a><a href="https://github.com/cubecull" target="_blank"><img title="cubecull" src="https://github.com/cubecull.png?size=48" width="48" height="48"></a><a href="https://github.com/Apocalypsor" target="_blank"><img title="Apocalypsor" src="https://github.com/Apocalypsor.png?size=48" width="48" height="48"></a><a href="https://github.com/uptonking" target="_blank"><img title="uptonking" src="https://github.com/uptonking.png?size=48" width="48" height="48"></a><a href="https://github.com/erwinkn" target="_blank"><img title="erwinkn" src="https://github.com/erwinkn.png?size=48" width="48" height="48"></a><a href="https://github.com/Kayoo-asso" target="_blank"><img title="Kayoo-asso" src="https://github.com/Kayoo-asso.png?size=48" width="48" height="48"></a><a href="https://github.com/shaneosullivan" target="_blank"><img title="shaneosullivan" src="https://github.com/shaneosullivan.png?size=48" width="48" height="48"></a><a href="https://github.com/generates" target="_blank"><img title="generates" src="https://github.com/generates.png?size=48" width="48" height="48"></a><a href="https://github.com/flaming-codes" target="_blank"><img title="flaming-codes" src="https://github.com/flaming-codes.png?size=48" width="48" height="48"></a><a href="https://github.com/jaysc" target="_blank"><img title="jaysc" src="https://github.com/jaysc.png?size=48" width="48" height="48"></a><a href="https://github.com/kotofurumiya" target="_blank"><img title="kotofurumiya" src="https://github.com/kotofurumiya.png?size=48" width="48" height="48"></a></p></section><hr><section><h2 id="start-with-a-simple-key-value-store">Start with a simple key-value store.</h2><p>Creating a <a href="/api/store/interfaces/store/store/"><code>Store</code></a> requires just a simple call to the <a href="/api/store/functions/creation/createstore/"><code>createStore</code></a> function. Once you have one, you can easily set <a href="/api/store/type-aliases/store/values/"><code>Values</code></a> in it by unique <a href="/api/common/type-aliases/identity/id/"><code>Id</code></a>. And of course you can easily get them back out again.</p><p>Read more about using keyed value data in <a href="/guides/the-basics/">The Basics</a> guide.</p></section><pre><code><span class="keyword">const</span> store <span class="operator">=</span> <span class="function"><a href="/api/store/functions/creation/createstore/">createStore</a></span><span class="punctuation">(</span><span class="punctuation">)</span>
  <span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setvalues/">setValues</a></span><span class="punctuation">(</span><span class="punctuation">{</span><span class="literal-property">employees</span><span class="operator">:</span> <span class="number">3</span><span class="punctuation">}</span><span class="punctuation">)</span>
  <span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setvalue/">setValue</a></span><span class="punctuation">(</span><span class="string">'open'</span><span class="punctuation">,</span> <span class="boolean">true</span><span class="punctuation">)</span><span class="punctuation">;</span>

console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/getter/getvalues/">getValues</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> {employees: 3, open: true}</span>
</code></pre><section><h2 id="level-up-to-use-tabular-data">Level up to use tabular data.</h2><p>For other types of data applications, a tabular data structure is more useful. TinyBase lets you set and get nested <a href="/api/store/type-aliases/store/table/"><code>Table</code></a>, <a href="/api/store/type-aliases/store/row/"><code>Row</code></a>, or <a href="/api/store/type-aliases/store/cell/"><code>Cell</code></a> data, by unique <a href="/api/common/type-aliases/identity/id/"><code>Id</code></a> and in the same <a href="/api/store/interfaces/store/store/"><code>Store</code></a> as the keyed values.</p><p>Read more about setting and changing data in <a href="/guides/the-basics/">The Basics</a> guide.</p></section><pre><code>store
  <span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/settable/">setTable</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="punctuation">{</span><span class="literal-property">fido</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'dog'</span><span class="punctuation">}</span><span class="punctuation">}</span><span class="punctuation">)</span>
  <span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setcell/">setCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">,</span> <span class="string">'color'</span><span class="punctuation">,</span> <span class="string">'brown'</span><span class="punctuation">)</span><span class="punctuation">;</span>

console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/getter/getrow/">getRow</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> {species: 'dog', color: 'brown'}</span>
</code></pre><section><h2 id="register-listeners-at-any-granularity">Register listeners at any granularity.</h2><p>The magic starts to happen when you register listeners on a <a href="/api/store/type-aliases/store/value/"><code>Value</code></a>, <a href="/api/store/type-aliases/store/table/"><code>Table</code></a>, <a href="/api/store/type-aliases/store/row/"><code>Row</code></a>, or <a href="/api/store/type-aliases/store/cell/"><code>Cell</code></a>. They get called when any part of that object changes. You can also use wildcards - useful when you don&#x27;t know the <a href="/api/common/type-aliases/identity/id/"><code>Id</code></a> of the objects that might change.</p><p>Read more about listeners in the <a href="/guides/the-basics/listening-to-stores/">Listening To Stores</a> guide.</p></section><pre><code><span class="keyword">const</span> listenerId <span class="operator">=</span> store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/listener/addtablelistener/">addTableListener</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span>
  console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span><span class="string">'changed'</span><span class="punctuation">)</span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="punctuation">;</span>

store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setcell/">setCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">,</span> <span class="string">'sold'</span><span class="punctuation">,</span> <span class="boolean">false</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> 'changed'</span>

store<span class="punctuation">.</span><span class="function">delListener</span><span class="punctuation">(</span>listenerId<span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><section><h2 id="call-hooks-to-bind-to-data">Call hooks to bind to data.</h2><p>If you&#x27;re using React in your application, the optional <a href="/api/ui-react/"><code>ui-react</code></a> module provides hooks to bind to the data in a <a href="/api/store/interfaces/store/store/"><code>Store</code></a>.</p><p>More magic! The <a href="/api/ui-react/functions/store-hooks/usecell/"><code>useCell</code></a> hook in this example fetches the dog&#x27;s color. But it also registers a listener on that cell that will fire and re-render the component whenever the value changes.</p><p>Basically you simply describe what data you want in your user interface and TinyBase will take care of the whole lifecycle of updating it for you.</p><p>Read more about the using hooks in the <a href="/guides/building-uis/using-react-hooks/">Using React Hooks</a> guide.</p></section><pre><code><span class="keyword">const</span> <span class="function-variable">App1</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">{</span>
  <span class="keyword">const</span> color <span class="operator">=</span> <span class="function"><a href="/api/ui-react/functions/store-hooks/usecell/">useCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">,</span> <span class="string">'color'</span><span class="punctuation">,</span> store<span class="punctuation">)</span><span class="punctuation">;</span>
  <span class="keyword">return</span> <span class="tag"><span class="tag"><span class="punctuation">&lt;</span></span><span class="punctuation">></span></span><span class="plain-text">Color: </span><span class="punctuation">{</span>color<span class="punctuation">}</span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span></span><span class="punctuation">></span></span><span class="punctuation">;</span>
<span class="punctuation">}</span><span class="punctuation">;</span>

<span class="keyword">const</span> app <span class="operator">=</span> document<span class="punctuation">.</span><span class="function">createElement</span><span class="punctuation">(</span><span class="string">'div'</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> root <span class="operator">=</span> ReactDOMClient<span class="punctuation">.</span><span class="function">createRoot</span><span class="punctuation">(</span>app<span class="punctuation">)</span><span class="punctuation">;</span>
root<span class="punctuation">.</span><span class="function">render</span><span class="punctuation">(</span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name">App1</span></span> <span class="punctuation">/></span></span><span class="punctuation">)</span><span class="punctuation">;</span>
console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>app<span class="punctuation">.</span>innerHTML<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> 'Color: brown'</span>

store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setcell/">setCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">,</span> <span class="string">'color'</span><span class="punctuation">,</span> <span class="string">'walnut'</span><span class="punctuation">)</span><span class="punctuation">;</span>
console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>app<span class="punctuation">.</span>innerHTML<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> 'Color: walnut'</span>
</code></pre><section><h2 id="use-components-for-reactive-apps">Use components for reactive apps.</h2><p>The react module provides simple React components with bindings that make it easy to create a fully reactive user interface based on a <a href="/api/store/interfaces/store/store/"><code>Store</code></a>.</p><p>In this example, the library&#x27;s <a href="/api/ui-react/functions/store-components/rowview/"><code>RowView</code></a> component just needs a reference to the <a href="/api/store/interfaces/store/store/"><code>Store</code></a>, the <code>tableId</code>, and the <code>rowId</code> in order to render the contents of that row. An optional <code>cellComponent</code> prop lets you override how you want each <a href="/api/store/type-aliases/store/cell/"><code>Cell</code></a> rendered. Again, all the listeners and updates are taken care of for you.</p><p>The module also includes a context Provider that sets up default for an entire app to use, reducing the need to drill all your props down into your app&#x27;s hierarchy.</p><p>Most of the demos showcase the use of these React hooks and components. Take a look at <a href="/demos/todo-app/todo-app-v1-the-basics/">Todo App v1 (the basics)</a> to see these user interface binding patterns in action.</p><p>Read more about the <a href="/api/ui-react/"><code>ui-react</code></a> module in the <a href="/guides/building-uis/">Building UIs</a> guides.</p></section><pre><code><span class="keyword">const</span> <span class="function-variable">MyCellView</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="parameter">props</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">(</span>
  <span class="tag"><span class="tag"><span class="punctuation">&lt;</span></span><span class="punctuation">></span></span><span class="plain-text">
    </span><span class="punctuation">{</span>props<span class="punctuation">.</span>cellId<span class="punctuation">}</span><span class="plain-text">: </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name"><a href="/api/ui-react/functions/store-components/cellview/">CellView</a></span></span> <span class="spread"><span class="punctuation">{</span><span class="operator">...</span>props<span class="punctuation">}</span></span> <span class="punctuation">/></span></span><span class="plain-text">
    </span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span>hr</span> <span class="punctuation">/></span></span><span class="plain-text">
  </span><span class="tag"><span class="tag"><span class="punctuation">&lt;/</span></span><span class="punctuation">></span></span>
<span class="punctuation">)</span><span class="punctuation">;</span>

<span class="keyword">const</span> <span class="function-variable">App2</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">(</span>
  <span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name"><a href="/api/ui-react/functions/store-components/rowview/">RowView</a></span></span>
    <span class="attr-name">store</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>store<span class="punctuation">}</span></span>
    <span class="attr-name">tableId</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>pets<span class="punctuation">"</span></span>
    <span class="attr-name">rowId</span><span class="attr-value"><span class="punctuation">=</span><span class="punctuation">"</span>fido<span class="punctuation">"</span></span>
    <span class="attr-name">cellComponent</span><span class="script"><span class="script-punctuation">=</span><span class="punctuation">{</span>MyCellView<span class="punctuation">}</span></span>
  <span class="punctuation">/></span></span>
<span class="punctuation">)</span><span class="punctuation">;</span>

root<span class="punctuation">.</span><span class="function">render</span><span class="punctuation">(</span><span class="tag"><span class="tag"><span class="punctuation">&lt;</span><span class="class-name">App2</span></span> <span class="punctuation">/></span></span><span class="punctuation">)</span><span class="punctuation">;</span>
console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>app<span class="punctuation">.</span>innerHTML<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> 'species: dog&lt;hr>color: walnut&lt;hr>sold: false&lt;hr>'</span>

store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setcell/">setCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">,</span> <span class="string">'sold'</span><span class="punctuation">,</span> <span class="boolean">true</span><span class="punctuation">)</span><span class="punctuation">;</span>
console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>app<span class="punctuation">.</span>innerHTML<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> 'species: dog&lt;hr>color: walnut&lt;hr>sold: true&lt;hr>'</span>

root<span class="punctuation">.</span><span class="function">unmount</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><section><h2 id="apply-schemas-to-tables-and-values">Apply schemas to tables and values.</h2><p>By default, a <a href="/api/store/interfaces/store/store/"><code>Store</code></a> can contain any arbitrary <a href="/api/store/type-aliases/store/value/"><code>Value</code></a>, and a <a href="/api/store/type-aliases/store/row/"><code>Row</code></a> can contain any arbitrary <a href="/api/store/type-aliases/store/cell/"><code>Cell</code></a>. But you can add a <a href="/api/store/type-aliases/schema/valuesschema/"><code>ValuesSchema</code></a> or a <a href="/api/store/type-aliases/schema/tablesschema/"><code>TablesSchema</code></a> to a <a href="/api/store/interfaces/store/store/"><code>Store</code></a> to ensure that the values are always what you expect: constraining their types, and providing defaults.</p><p>In this example, we set a second <a href="/api/store/type-aliases/store/row/"><code>Row</code></a> without the <code>sold</code> <a href="/api/store/type-aliases/store/cell/"><code>Cell</code></a> in it. The schema ensures it&#x27;s present with default of <code>false</code>.</p><p>Read more about schemas in the <a href="/guides/schemas-and-persistence/using-schemas/">Using Schemas</a> guide.</p></section><pre><code>store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/settablesschema/">setTablesSchema</a></span><span class="punctuation">(</span><span class="punctuation">{</span>
  <span class="literal-property">pets</span><span class="operator">:</span> <span class="punctuation">{</span>
    <span class="literal-property">species</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">type</span><span class="operator">:</span> <span class="string">'string'</span><span class="punctuation">}</span><span class="punctuation">,</span>
    <span class="literal-property">color</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">type</span><span class="operator">:</span> <span class="string">'string'</span><span class="punctuation">}</span><span class="punctuation">,</span>
    <span class="literal-property">sold</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">type</span><span class="operator">:</span> <span class="string">'boolean'</span><span class="punctuation">,</span> <span class="keyword">default</span><span class="operator">:</span> <span class="boolean">false</span><span class="punctuation">}</span><span class="punctuation">,</span>
  <span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>

store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setrow/">setRow</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'felix'</span><span class="punctuation">,</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'cat'</span><span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>
console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/getter/getrow/">getRow</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'felix'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> {species: 'cat', sold: false}</span>

store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/deleter/deltablesschema/">delTablesSchema</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><section><h2 id="persist-data-to-browser-file-or-server">Persist data to browser, file, or server.</h2><p>You can easily persist a <a href="/api/store/interfaces/store/store/"><code>Store</code></a> between browser page reloads or sessions. You can also synchronize it with a web endpoint, or (if you&#x27;re using TinyBase in an appropriate environment), load and save it to a file.</p><p>Read more about persisters in the <a href="/guides/schemas-and-persistence/persisting-data/">Persisting Data</a> guide.</p></section><pre><code><span class="keyword">const</span> persister <span class="operator">=</span> <span class="function"><a href="/api/persisters/functions/creation/createsessionpersister/">createSessionPersister</a></span><span class="punctuation">(</span>store<span class="punctuation">,</span> <span class="string">'demo'</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">await</span> persister<span class="punctuation">.</span><span class="function"><a href="/api/persisters/interfaces/persister/persister/methods/save/save/">save</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>

console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>sessionStorage<span class="punctuation">.</span><span class="function">getItem</span><span class="punctuation">(</span><span class="string">'demo'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> '[{"pets":{"fido":{"species":"dog","color":"walnut","sold":true},"felix":{"species":"cat","sold":false}}},{"employees":3,"open":true}]'</span>

persister<span class="punctuation">.</span><span class="function">destroy</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
sessionStorage<span class="punctuation">.</span><span class="function"><a href="/api/checkpoints/interfaces/checkpoints/checkpoints/methods/lifecycle/clear/">clear</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><section><h2 id="build-complex-queries-with-tinyql">Build complex queries with <a href="/guides/making-queries/tinyql/">TinyQL</a>.</h2><p>The <a href="/api/queries/interfaces/queries/queries/"><code>Queries</code></a> object lets you query data across tables, with filtering and aggregation - using a SQL-adjacent syntax called <a href="/guides/making-queries/tinyql/">TinyQL</a>.</p><p>Accessors and listeners let you sort and paginate the results efficiently, making building rich tabular interfaces easier than ever.</p><p>In this example, we have two tables: of pets and their owners. They are joined together by the pet&#x27;s ownerId <a href="/api/store/type-aliases/store/cell/"><code>Cell</code></a>. We select the pet&#x27;s species, and the owner&#x27;s state, and then aggregate the prices for the combinations.</p><p>We access the results by descending price, essentially answering the question: &quot;which is the highest-priced species, and in which state?&quot;</p><p>Needless to say, the results are reactive too! You can add listeners to queries just as easily as you do to raw tables.</p><p>Read more about <a href="/api/queries/interfaces/queries/queries/"><code>Queries</code></a> in the <a href="/guides/releases/#v2-0">v2.0 Release Notes</a>, the <a href="/guides/making-queries/">Making Queries</a> guide, and the <a href="/demos/car-analysis/">Car Analysis</a> demo and <a href="/demos/movie-database/">Movie Database</a> demo.</p></section><pre><code>store
  <span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/settable/">setTable</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="punctuation">{</span>
    <span class="literal-property">fido</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'dog'</span><span class="punctuation">,</span> <span class="literal-property">ownerId</span><span class="operator">:</span> <span class="string">'1'</span><span class="punctuation">,</span> <span class="literal-property">price</span><span class="operator">:</span> <span class="number">5</span><span class="punctuation">}</span><span class="punctuation">,</span>
    <span class="literal-property">rex</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'dog'</span><span class="punctuation">,</span> <span class="literal-property">ownerId</span><span class="operator">:</span> <span class="string">'2'</span><span class="punctuation">,</span> <span class="literal-property">price</span><span class="operator">:</span> <span class="number">4</span><span class="punctuation">}</span><span class="punctuation">,</span>
    <span class="literal-property">felix</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'cat'</span><span class="punctuation">,</span> <span class="literal-property">ownerId</span><span class="operator">:</span> <span class="string">'2'</span><span class="punctuation">,</span> <span class="literal-property">price</span><span class="operator">:</span> <span class="number">3</span><span class="punctuation">}</span><span class="punctuation">,</span>
    <span class="literal-property">cujo</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'dog'</span><span class="punctuation">,</span> <span class="literal-property">ownerId</span><span class="operator">:</span> <span class="string">'3'</span><span class="punctuation">,</span> <span class="literal-property">price</span><span class="operator">:</span> <span class="number">4</span><span class="punctuation">}</span><span class="punctuation">,</span>
  <span class="punctuation">}</span><span class="punctuation">)</span>
  <span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/settable/">setTable</a></span><span class="punctuation">(</span><span class="string">'owners'</span><span class="punctuation">,</span> <span class="punctuation">{</span>
    <span class="number">1</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">name</span><span class="operator">:</span> <span class="string">'Alice'</span><span class="punctuation">,</span> <span class="literal-property">state</span><span class="operator">:</span> <span class="string">'CA'</span><span class="punctuation">}</span><span class="punctuation">,</span>
    <span class="number">2</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">name</span><span class="operator">:</span> <span class="string">'Bob'</span><span class="punctuation">,</span> <span class="literal-property">state</span><span class="operator">:</span> <span class="string">'CA'</span><span class="punctuation">}</span><span class="punctuation">,</span>
    <span class="number">3</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">name</span><span class="operator">:</span> <span class="string">'Carol'</span><span class="punctuation">,</span> <span class="literal-property">state</span><span class="operator">:</span> <span class="string">'WA'</span><span class="punctuation">}</span><span class="punctuation">,</span>
  <span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>

<span class="keyword">const</span> queries <span class="operator">=</span> <span class="function"><a href="/api/queries/functions/creation/createqueries/">createQueries</a></span><span class="punctuation">(</span>store<span class="punctuation">)</span><span class="punctuation">;</span>
queries<span class="punctuation">.</span><span class="function"><a href="/api/queries/interfaces/queries/queries/methods/configuration/setquerydefinition/">setQueryDefinition</a></span><span class="punctuation">(</span>
  <span class="string">'prices'</span><span class="punctuation">,</span>
  <span class="string">'pets'</span><span class="punctuation">,</span>
  <span class="punctuation">(</span><span class="parameter"><span class="punctuation">{</span>select<span class="punctuation">,</span> join<span class="punctuation">,</span> group<span class="punctuation">}</span></span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">{</span>
    <span class="function">select</span><span class="punctuation">(</span><span class="string">'species'</span><span class="punctuation">)</span><span class="punctuation">;</span>
    <span class="function">select</span><span class="punctuation">(</span><span class="string">'owners'</span><span class="punctuation">,</span> <span class="string">'state'</span><span class="punctuation">)</span><span class="punctuation">;</span>
    <span class="function">select</span><span class="punctuation">(</span><span class="string">'price'</span><span class="punctuation">)</span><span class="punctuation">;</span>
    <span class="function">join</span><span class="punctuation">(</span><span class="string">'owners'</span><span class="punctuation">,</span> <span class="string">'ownerId'</span><span class="punctuation">)</span><span class="punctuation">;</span>
    <span class="function">group</span><span class="punctuation">(</span><span class="string">'price'</span><span class="punctuation">,</span> <span class="string">'avg'</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function">as</span><span class="punctuation">(</span><span class="string">'avgPrice'</span><span class="punctuation">)</span><span class="punctuation">;</span>
  <span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="punctuation">;</span>

queries
  <span class="punctuation">.</span><span class="function"><a href="/api/queries/interfaces/queries/queries/methods/result/getresultsortedrowids/">getResultSortedRowIds</a></span><span class="punctuation">(</span><span class="string">'prices'</span><span class="punctuation">,</span> <span class="string">'avgPrice'</span><span class="punctuation">,</span> <span class="boolean">true</span><span class="punctuation">)</span>
  <span class="punctuation">.</span><span class="function">forEach</span><span class="punctuation">(</span><span class="punctuation">(</span><span class="parameter">rowId</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">{</span>
    console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>queries<span class="punctuation">.</span><span class="function"><a href="/api/queries/interfaces/queries/queries/methods/result/getresultrow/">getResultRow</a></span><span class="punctuation">(</span><span class="string">'prices'</span><span class="punctuation">,</span> rowId<span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
  <span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> {species: 'dog', state: 'CA', avgPrice: 4.5}</span>
<span class="comment">// -> {species: 'dog', state: 'WA', avgPrice: 4}</span>
<span class="comment">// -> {species: 'cat', state: 'CA', avgPrice: 3}</span>

queries<span class="punctuation">.</span><span class="function">destroy</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><section><h2 id="define-metrics-and-aggregations">Define metrics and aggregations.</h2><p>A <a href="/api/metrics/interfaces/metrics/metrics/"><code>Metrics</code></a> object makes it easy to keep a running aggregation of <a href="/api/store/type-aliases/store/cell/"><code>Cell</code></a> values in each <a href="/api/store/type-aliases/store/row/"><code>Row</code></a> of a <a href="/api/store/type-aliases/store/table/"><code>Table</code></a>. This is useful for counting rows, but also supports averages, ranges of values, or arbitrary aggregations.</p><p>In this example, we create a new table of the pet species, and keep a track of which is most expensive. When we add horses to our pet store, the listener detects that the highest price has changed.</p><p>Read more about <a href="/api/metrics/interfaces/metrics/metrics/"><code>Metrics</code></a> in the <a href="/guides/metrics-and-indexes/using-metrics/">Using Metrics</a> guide.</p></section><pre><code>store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/settable/">setTable</a></span><span class="punctuation">(</span><span class="string">'species'</span><span class="punctuation">,</span> <span class="punctuation">{</span>
  <span class="literal-property">dog</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">price</span><span class="operator">:</span> <span class="number">5</span><span class="punctuation">}</span><span class="punctuation">,</span>
  <span class="literal-property">cat</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">price</span><span class="operator">:</span> <span class="number">4</span><span class="punctuation">}</span><span class="punctuation">,</span>
  <span class="literal-property">worm</span><span class="operator">:</span> <span class="punctuation">{</span><span class="literal-property">price</span><span class="operator">:</span> <span class="number">1</span><span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>

<span class="keyword">const</span> metrics <span class="operator">=</span> <span class="function"><a href="/api/metrics/functions/creation/createmetrics/">createMetrics</a></span><span class="punctuation">(</span>store<span class="punctuation">)</span><span class="punctuation">;</span>
metrics<span class="punctuation">.</span><span class="function"><a href="/api/metrics/interfaces/metrics/metrics/methods/configuration/setmetricdefinition/">setMetricDefinition</a></span><span class="punctuation">(</span>
  <span class="string">'highestPrice'</span><span class="punctuation">,</span> <span class="comment">// metricId</span>
  <span class="string">'species'</span><span class="punctuation">,</span> <span class="comment">//      tableId to aggregate</span>
  <span class="string">'max'</span><span class="punctuation">,</span> <span class="comment">//          aggregation</span>
  <span class="string">'price'</span><span class="punctuation">,</span> <span class="comment">//        cellId to aggregate</span>
<span class="punctuation">)</span><span class="punctuation">;</span>

console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>metrics<span class="punctuation">.</span><span class="function"><a href="/api/metrics/interfaces/metrics/metrics/methods/getter/getmetric/">getMetric</a></span><span class="punctuation">(</span><span class="string">'highestPrice'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> 5</span>

metrics<span class="punctuation">.</span><span class="function"><a href="/api/metrics/interfaces/metrics/metrics/methods/listener/addmetriclistener/">addMetricListener</a></span><span class="punctuation">(</span><span class="string">'highestPrice'</span><span class="punctuation">,</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span>
  console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>metrics<span class="punctuation">.</span><span class="function"><a href="/api/metrics/interfaces/metrics/metrics/methods/getter/getmetric/">getMetric</a></span><span class="punctuation">(</span><span class="string">'highestPrice'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="punctuation">;</span>
store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setcell/">setCell</a></span><span class="punctuation">(</span><span class="string">'species'</span><span class="punctuation">,</span> <span class="string">'horse'</span><span class="punctuation">,</span> <span class="string">'price'</span><span class="punctuation">,</span> <span class="number">20</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> 20</span>

metrics<span class="punctuation">.</span><span class="function">destroy</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><section><h2 id="create-indexes-for-fast-lookups">Create indexes for fast lookups.</h2><p>An <a href="/api/indexes/interfaces/indexes/indexes/"><code>Indexes</code></a> object makes it easy to look up all the <a href="/api/store/type-aliases/store/row/"><code>Row</code></a> objects that have a certain value in a <a href="/api/store/type-aliases/store/cell/"><code>Cell</code></a>.</p><p>In this example, we create an index on the <code>species</code> <a href="/api/store/type-aliases/store/cell/"><code>Cell</code></a> values. We can then get the the list of distinct <a href="/api/store/type-aliases/store/cell/"><code>Cell</code></a> value present for that index (known as &#x27;slices&#x27;), and the set of <a href="/api/store/type-aliases/store/row/"><code>Row</code></a> objects that match each value.</p><p><a href="/api/indexes/interfaces/indexes/indexes/"><code>Indexes</code></a> objects are reactive too. So you can set listeners on them just as you do for the data in the underlying <a href="/api/store/interfaces/store/store/"><code>Store</code></a>.</p><p>Read more about <a href="/api/indexes/interfaces/indexes/indexes/"><code>Indexes</code></a> in the <a href="/guides/metrics-and-indexes/using-indexes/">Using Indexes</a> guide.</p></section><pre><code><span class="keyword">const</span> indexes <span class="operator">=</span> <span class="function"><a href="/api/indexes/functions/creation/createindexes/">createIndexes</a></span><span class="punctuation">(</span>store<span class="punctuation">)</span><span class="punctuation">;</span>
indexes<span class="punctuation">.</span><span class="function"><a href="/api/indexes/interfaces/indexes/indexes/methods/configuration/setindexdefinition/">setIndexDefinition</a></span><span class="punctuation">(</span>
  <span class="string">'bySpecies'</span><span class="punctuation">,</span> <span class="comment">// indexId</span>
  <span class="string">'pets'</span><span class="punctuation">,</span> <span class="comment">//      tableId to index</span>
  <span class="string">'species'</span><span class="punctuation">,</span> <span class="comment">//   cellId to index</span>
<span class="punctuation">)</span><span class="punctuation">;</span>

console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>indexes<span class="punctuation">.</span><span class="function"><a href="/api/indexes/interfaces/indexes/indexes/methods/getter/getsliceids/">getSliceIds</a></span><span class="punctuation">(</span><span class="string">'bySpecies'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> ['dog', 'cat']</span>
console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>indexes<span class="punctuation">.</span><span class="function"><a href="/api/indexes/interfaces/indexes/indexes/methods/getter/getslicerowids/">getSliceRowIds</a></span><span class="punctuation">(</span><span class="string">'bySpecies'</span><span class="punctuation">,</span> <span class="string">'dog'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> ['fido', 'rex', 'cujo']</span>

indexes<span class="punctuation">.</span><span class="function"><a href="/api/indexes/interfaces/indexes/indexes/methods/listener/addsliceidslistener/">addSliceIdsListener</a></span><span class="punctuation">(</span><span class="string">'bySpecies'</span><span class="punctuation">,</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span>
  console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>indexes<span class="punctuation">.</span><span class="function"><a href="/api/indexes/interfaces/indexes/indexes/methods/getter/getsliceids/">getSliceIds</a></span><span class="punctuation">(</span><span class="string">'bySpecies'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="punctuation">;</span>
store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setrow/">setRow</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'lowly'</span><span class="punctuation">,</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> <span class="string">'worm'</span><span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> ['dog', 'cat', 'worm']</span>

indexes<span class="punctuation">.</span><span class="function">destroy</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><section><h2 id="model-relationships-between-tables">Model relationships between tables.</h2><p>A <a href="/api/relationships/interfaces/relationships/relationships/"><code>Relationships</code></a> object lets you associate a <a href="/api/store/type-aliases/store/row/"><code>Row</code></a> in a local <a href="/api/store/type-aliases/store/table/"><code>Table</code></a> with the <a href="/api/common/type-aliases/identity/id/"><code>Id</code></a> of a <a href="/api/store/type-aliases/store/row/"><code>Row</code></a> in a remote <a href="/api/store/type-aliases/store/table/"><code>Table</code></a>. You can also reference a table to itself to create linked lists.</p><p>In this example, the <code>species</code> <a href="/api/store/type-aliases/store/cell/"><code>Cell</code></a> of the <code>pets</code> <a href="/api/store/type-aliases/store/table/"><code>Table</code></a> is used to create a relationship to the <code>species</code> <a href="/api/store/type-aliases/store/table/"><code>Table</code></a>, so that we can access the price of a given pet.</p><p>Like everything else, you can set listeners on <a href="/api/relationships/interfaces/relationships/relationships/"><code>Relationships</code></a> too.</p><p>Read more about <a href="/api/relationships/interfaces/relationships/relationships/"><code>Relationships</code></a> in the <a href="/guides/relationships-and-checkpoints/using-relationships/">Using Relationships</a> guide.</p></section><pre><code><span class="keyword">const</span> relationships <span class="operator">=</span> <span class="function"><a href="/api/relationships/functions/creation/createrelationships/">createRelationships</a></span><span class="punctuation">(</span>store<span class="punctuation">)</span><span class="punctuation">;</span>
relationships<span class="punctuation">.</span><span class="function"><a href="/api/relationships/interfaces/relationships/relationships/methods/configuration/setrelationshipdefinition/">setRelationshipDefinition</a></span><span class="punctuation">(</span>
  <span class="string">'petSpecies'</span><span class="punctuation">,</span> <span class="comment">// relationshipId</span>
  <span class="string">'pets'</span><span class="punctuation">,</span> <span class="comment">//       local tableId to link from</span>
  <span class="string">'species'</span><span class="punctuation">,</span> <span class="comment">//    remote tableId to link to</span>
  <span class="string">'species'</span><span class="punctuation">,</span> <span class="comment">//    cellId containing remote key</span>
<span class="punctuation">)</span><span class="punctuation">;</span>

console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>
  store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/getter/getcell/">getCell</a></span><span class="punctuation">(</span>
    relationships<span class="punctuation">.</span><span class="function"><a href="/api/relationships/interfaces/relationships/relationships/methods/getter/getremotetableid/">getRemoteTableId</a></span><span class="punctuation">(</span><span class="string">'petSpecies'</span><span class="punctuation">)</span><span class="punctuation">,</span>
    relationships<span class="punctuation">.</span><span class="function"><a href="/api/relationships/interfaces/relationships/relationships/methods/getter/getremoterowid/">getRemoteRowId</a></span><span class="punctuation">(</span><span class="string">'petSpecies'</span><span class="punctuation">,</span> <span class="string">'fido'</span><span class="punctuation">)</span><span class="punctuation">,</span>
    <span class="string">'price'</span><span class="punctuation">,</span>
  <span class="punctuation">)</span><span class="punctuation">,</span>
<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> 5</span>

relationships<span class="punctuation">.</span><span class="function">destroy</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
</code></pre><section><h2 id="set-checkpoints-for-an-undo-stack">Set checkpoints for an undo stack.</h2><p>A <a href="/api/checkpoints/interfaces/checkpoints/checkpoints/"><code>Checkpoints</code></a> object lets you set checkpoints on a <a href="/api/store/interfaces/store/store/"><code>Store</code></a>. Move forward and backward through them to create undo and redo functions.</p><p>In this example, we set a checkpoint, then sell one of the pets. Later, the pet is brought back to the shop, and we go back to that checkpoint to revert the store to its previous state.</p><p>Read more about <a href="/api/checkpoints/interfaces/checkpoints/checkpoints/"><code>Checkpoints</code></a> in the <a href="/guides/relationships-and-checkpoints/using-checkpoints/">Using Checkpoints</a> guide.</p></section><pre><code><span class="keyword">const</span> checkpoints <span class="operator">=</span> <span class="function"><a href="/api/checkpoints/functions/creation/createcheckpoints/">createCheckpoints</a></span><span class="punctuation">(</span>store<span class="punctuation">)</span><span class="punctuation">;</span>

store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setcell/">setCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'felix'</span><span class="punctuation">,</span> <span class="string">'sold'</span><span class="punctuation">,</span> <span class="boolean">false</span><span class="punctuation">)</span><span class="punctuation">;</span>
checkpoints<span class="punctuation">.</span><span class="function"><a href="/api/checkpoints/interfaces/checkpoints/checkpoints/methods/setter/addcheckpoint/">addCheckpoint</a></span><span class="punctuation">(</span><span class="string">'pre-sale'</span><span class="punctuation">)</span><span class="punctuation">;</span>

store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/setter/setcell/">setCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'felix'</span><span class="punctuation">,</span> <span class="string">'sold'</span><span class="punctuation">,</span> <span class="boolean">true</span><span class="punctuation">)</span><span class="punctuation">;</span>
console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/getter/getcell/">getCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'felix'</span><span class="punctuation">,</span> <span class="string">'sold'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> true</span>

checkpoints<span class="punctuation">.</span><span class="function"><a href="/api/checkpoints/interfaces/checkpoints/checkpoints/methods/movement/gobackward/">goBackward</a></span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>store<span class="punctuation">.</span><span class="function"><a href="/api/store/interfaces/store/store/methods/getter/getcell/">getCell</a></span><span class="punctuation">(</span><span class="string">'pets'</span><span class="punctuation">,</span> <span class="string">'felix'</span><span class="punctuation">,</span> <span class="string">'sold'</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="comment">// -> false</span>
</code></pre><section><h2 id="type-definitions-orm-like-apis">Type definitions &amp; ORM-like APIs</h2><p>TinyBase has comprehensive type definitions, and even offers definitions that infer API types from the data schemas you apply.</p><p>Furthermore, you can easily create TypeScript <code>.d.ts</code> definitions that model your data and encourage type-safety when reading and writing data - as well as <code>.ts</code> implementations that provide ORM-like methods for your named tables.</p><p>Read more about the type support in the <a href="/guides/the-basics/tinybase-and-typescript/">TinyBase and TypeScript</a> guide.</p></section><pre><code><span class="keyword">const</span> tools <span class="operator">=</span> <span class="function"><a href="/api/tools/functions/creation/createtools/">createTools</a></span><span class="punctuation">(</span>store<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">const</span> <span class="punctuation">[</span>dTs<span class="punctuation">,</span> ts<span class="punctuation">]</span> <span class="operator">=</span> tools<span class="punctuation">.</span><span class="function"><a href="/api/tools/interfaces/tools/tools/methods/modelling/getstoreapi/">getStoreApi</a></span><span class="punctuation">(</span><span class="string">'shop'</span><span class="punctuation">)</span><span class="punctuation">;</span>

<span class="comment">// -- shop.d.ts --</span>
<span class="comment">/* Represents the 'pets' Table. */</span>
<span class="keyword">export</span> type PetsTable <span class="operator">=</span> <span class="punctuation">{</span><span class="punctuation">[</span>rowId<span class="operator">:</span> Id<span class="punctuation">]</span><span class="operator">:</span> PetsRow<span class="punctuation">}</span><span class="punctuation">;</span>
<span class="comment">/* Represents a Row when getting the content of the 'pets' Table. */</span>
<span class="keyword">export</span> type PetsRow <span class="operator">=</span> <span class="punctuation">{</span><span class="literal-property">species</span><span class="operator">:</span> string <span class="comment">/* ... */</span><span class="punctuation">}</span><span class="punctuation">;</span>
<span class="comment">//...</span>

<span class="comment">// -- shop.ts --</span>
<span class="keyword">export</span> <span class="keyword">const</span> <span class="literal-property">createShop</span><span class="operator">:</span> <span class="keyword">typeof</span> <span class="function-variable">createShopDecl</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=></span> <span class="punctuation">{</span>
  <span class="comment">//...</span>
<span class="punctuation">}</span><span class="punctuation">;</span>
</code></pre><section><h2 id="did-we-say-tiny">Did we say tiny?</h2><p>If you use the basic <a href="/api/store/"><code>store</code></a> module alone, you&#x27;ll only add a gzipped <em>4.3kB</em> to your app. Incrementally add the other modules as you need more functionality, or get it all for <em>8.8kB</em>.</p><p>The optional <a href="/api/ui-react/"><code>ui-react</code></a> module is just another <em>3.4kB</em>, the auxiliary <a href="/api/tools/"><code>tools</code></a> module is <em>9.9kB</em>, and everything is super fast. Life&#x27;s easy when you have zero dependencies!</p><p>Read more about how TinyBase is structured and packaged in the <a href="/guides/how-tinybase-is-built/architecture/">Architecture</a> guide.</p></section><div class="table"><table class="fixed"><tbody><tr><th width="30%">Â </th><th>.js.gz</th><th>.js</th><th>debug.js</th><th>.d.ts</th></tr><tr><th class="right"><a href="/api/store/">store</a></th><td>4.3kB</td><td>10.0kB</td><td>44.0kB</td><td>186.3kB</td></tr><tr><th class="right"><a href="/api/metrics/">metrics</a></th><td>1.8kB</td><td>3.6kB</td><td>14.9kB</td><td>29.3kB</td></tr><tr><th class="right"><a href="/api/indexes/">indexes</a></th><td>1.9kB</td><td>3.8kB</td><td>16.7kB</td><td>33.9kB</td></tr><tr><th class="right"><a href="/api/relationships/">relationships</a></th><td>1.8kB</td><td>3.6kB</td><td>16.8kB</td><td>42.2kB</td></tr><tr><th class="right"><a href="/api/queries/">queries</a></th><td>2.6kB</td><td>5.5kB</td><td>25.0kB</td><td>113.0kB</td></tr><tr><th class="right"><a href="/api/checkpoints/">checkpoints</a></th><td>1.5kB</td><td>3.0kB</td><td>12.5kB</td><td>33.5kB</td></tr><tr><th class="right"><a href="/api/persisters/">persisters</a></th><td>0.8kB</td><td>1.7kB</td><td>5.2kB</td><td>27.3kB</td></tr><tr><th class="right"><a href="/api/common/">common</a></th><td>0.1kB</td><td>0.1kB</td><td>0.1kB</td><td>3.5kB</td></tr><tr><th class="right">tinybaseÂ (all)</th><td>8.8kB</td><td>21.1kB</td><td>92.9kB</td><td>0.3kB</td></tr></tbody></table></div><section><h2 id="well-tested-and-documented">Well tested and documented.</h2><p>TinyBase has <em>100.0%</em> test coverage, including the code throughout the documentation - even on this page! The guides, demos, and API examples are designed to make it as easy as possible to get up and running.</p><p>Read more about how TinyBase is tested in the Unit <a href="/guides/how-tinybase-is-built/testing/">Testing</a> guide.</p></section><div class="table"><table class="fixed"><tbody><tr><th width="30%">Â </th><th>Total</th><th>Tested</th><th>Coverage</th></tr><tr><th class="right">Lines</th><td>1,794</td><td>1,794</td><td>100.0%</td></tr><tr><th class="right">Statements</th><td>1,932</td><td>1,932</td><td>100.0%</td></tr><tr><th class="right">Functions</th><td>768</td><td>768</td><td>100.0%</td></tr><tr><th class="right">Branches</th><td>636</td><td>636</td><td>100.0%</td></tr><tr><th class="right">Tests</th><td colspan="3">2,602</td></tr><tr><th class="right">Assertions</th><td colspan="3">13,096</td></tr></tbody></table></div><hr><p><a class="start" href="/guides/the-basics/getting-started/">Get started</a></p><p><a href="/demos/">Try the demos</a></p><p><a href="/api/store/interfaces/store/store/">Read the docs</a></p><hr><section><h2 id="follow">Follow</h2><ul><li>News and updates on <a href="https://twitter.com/tinybasejs">Twitter</a>, <a href="https://discord.com/invite/mGz3mevwP8">Discord</a>, and <a href="https://facebook.com/tinybasejs">Facebook</a>.</li><li><a href="https://github.com/tinyplex/tinybase/discussions">Discussions</a> and <a href="https://github.com/tinyplex/tinybase/issues">issues</a> on <a href="https://github.com/tinyplex/tinybase">GitHub</a>.</li><li><a href="/guides/releases/">Release notes</a> for each version.</li><li>Packages on <a href="https://www.npmjs.com/package/tinybase/v/3.2.0-beta.0">NPM</a>.</li></ul></section><section><h2 id="about">About</h2><p>Building TinyBase was originally an interesting exercise for <a rel="me" href="https://hachyderm.io/@jamesgpearce">me</a> in API design, minification, and documentation. It could not have been built without these great <a href="/guides/how-tinybase-is-built/credits/#giants">projects</a> and <a href="/guides/how-tinybase-is-built/credits/#and-friends">friends</a>, and I hope you enjoy using it!</p></section></article></main><footer><nav><a id="tw" href="https://twitter.com/tinybasejs" target="_blank">Twitter</a><a id="fb" href="https://facebook.com/tinybasejs" target="_blank">Facebook</a></nav><nav><a href="/">TinyBase 3.2.0-beta.0</a> Â© 2021- All Rights Reserved</nav></footer></body><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-D1MGR8VRWJ"></script><script>window.dataLayer=window.dataLayer||[];function g(){dataLayer.push(arguments);}g('js',new Date());g('config','G-D1MGR8VRWJ');</script></html>